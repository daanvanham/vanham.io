{"version":3,"sources":["konflux.js","knot.js","base.js"],"names":["window","register","undefined","Konflux","init","timestamp","kx","time","empty","p","types","array","a","length","object","o","boolean","b","number","n","string","s","test","t","type","isType","variable","full","check","substr","parseInt","this","counter","Date","now","getTime","elapsed","day","hour","minute","delta","Math","abs","days","floor","hours","minutes","seconds","ms","zero","unique","toString","combine","i","obj","arg","arguments","Array","prototype","slice","call","shift","explicit","name","result","exec","constructor","version","info","match","split","prop","deprecate","message","callback","scope","shown","method","console","apply","module","konflux","KonfluxURL","parse","location","query","replace","c","url","current","href","isLocal","domain","KonfluxTiming","KonfluxTimingDelay","handler","timeout","reference","cancel","clearTimeout","timer","start","setTimeout","raf","browser","feature","ready","delay","remove","stack","create","timing","KonfluxArray","contains","v","diff","ret","push","range","r","shuffle","j","x","random","cast","mixed","len","e","KonfluxString","hashCode","l","charCodeAt","hash","pad","ceil","ord","chr","String","fromCharCode","join","PAD_LEFT","PAD_BOTH","checksum","uuid","chunk","input","size","end","source","output","unshift","min","substring","ascii","convert","PAD_RIGHT","TRIM_LEFT","TRIM_BOTH","TRIM_RIGHT","CHUNK_START","CHUNK_END","user","A","C","E","I","D","N","O","U","Y","ss","beta","u","y","trim","dir","f","chars","indexOf","charAt","reverse","ucFirst","toUpperCase","escapeRegExp","delimeter","pattern","RegExp","concat","KonfluxPoint","point","to","snap","grid","round","clone","move","equal","scale","factor","subtract","add","distance","sqrt","pow","angle","atan2","max","iso","PI","mid","KonfluxIterator","collection","property","iterator","relay","keys","member","Object","defineProperty","get","append","implement","evaluate","one","context","list","cursor","index","item","each","value","key","filter","find","map","previous","prev","next","thisArg","KonfluxDOM","appendTo","target","document","querySelector","appendChild","ancestor","element","parentNode","createStructure","struct","nodeName","tag","createElement","setAttribute","createTextNode","stackOrderIndex","node","zIndex","style","opacity","parseFloat","position","display","floatValue","blockType","dom","STACK_NEGATIVE","STACK_POSITIONED","STACK_POSITIVE","STACK_GLOBAL","elementReference","hidden","prepare","root","documentElement","head","body","nodeType","getAttribute","STACK_BLOCK","STACK_FLOAT","STACK_INLINE","select","selector","parent","querySelectorAll","stackLevel","KonfluxBrowser","detectIE","getElementsByTagName","innerHTML","Function","hasFeature","support","getFeature","uc","vendor","vendorPrefix","navigator","search","toLowerCase","regex","script","prefix","pop","ieVersion","touch","ie","supports","fullscreen","ALLOW_KEYBOARD_INPUT","KonfluxEvent","KonfluxEventDelegate","unifier","namespace","targetKey","strip","ns","capture","separator","store","delegate","evt","event","srcElement","stopPropagation","cancelBubble","wildcard","delegation","finds","handleReadyState","run","removeEventListener","readyState","detachEvent","queue","getEventName","getEventType","getEventProperty","unifyEvent","eventType","family","mouse","pageX","clientX","scrollLeft","pageY","clientY","scrollTop","prepareTargetIterator","targets","prepareEventIterator","events","listen","setting","attach","detach","addEventListener","attachEvent","configurable","enumerable","set","returnValue","dispatch","option","Support","detail","trigger","cancelable","createEvent","initCustomEvent","initEvent","createEventObject","dispatchEvent","fireEvent","hasTouch","live","KonfluxStyle","scriptProperty","cssProperty","hasProperty","getLocalStylesheets","all","styleSheets","getStylesheet","includeOffsite","title","findStylesheet","createStylesheet","before","firstChild","insertBefore","getStyleProperties","declaration","part","rules","normalizeValue","normalizeSelector"," ","\"",",",".","addClass","classes","className","removeClass","classList","splice","toggleClass","inline","q","skipNode","id","hasAttribute","sheet","editable","ownerNode","load","isEditable","stylesheet","pr","rule","addRule","insertRule","cssRules","selectorText","cssText","pseudo","getComputedStyle","defaultView","getPropertyValue","currentStyle","specificity","KonfluxStorage","combineFragments","data","fragment","fragmentPattern","storage","getItem","createFragments","maxSize","setItem","dropFragments","getAll","JSON","stringify","removeItem","ls","localStorage","flush","decodeURI","encodeURIComponent","KonfluxObserver","KonfluxObservation","handle","observation","timeStamp","timeDelta","unsubscribe","disable","stop","active","ensureSubscriptionStack","subscription","out","keep","ref","observer","subscribe","notify","KonfluxNumber","even","odd","between","format","precision","multiplier","isFinite","KonfluxAjax","KonfluxFormData","formdata","serialize","getHeader","header","X-Konflux","getXMLHTTPRequest","xhr","XMLHttpRequest","__kxref","request","config","path","prepareData","async","headers","onload","xhrComplete","progress","upload","error","abort","open","setRequestHeader","send","status","state","stat","success","process","complete","statusText","contentType","getResponseHeader","responseText","formData","FormData","File","Blob","FileList","requestType","ob","ajax","post","put","del","purge","factory","exports","define","amd","JSONFormatter","isSpecial","token","special","addQuotation","force","quote","quotation","noquote","removeTrailing","trailer","escapeQuotedInput","character","escape","compiler","tokenize","__instance","formatter","symbol","global","Knot","compatible","json","buffer","defaults","greedy","attribute","extension","rAF","requestAnimationFrame","castToArray","knot","textNodes","walker","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","attributes","childNodes","splitter","nodeValue","content","splitText","remainder","original","placeholders","forEach","options","model","descriptor","prepared","writable","defineProperties","getDelegate","nest","getOwnPropertyDescriptor","elements","subscriber","accessor","update","fn","provider","elm","observe","access","subscribers","sub","persist","text","MutationObserver","webkitMutationObserver","textObserverConfig","characterData","characterDataOldValue","mutations","mutation","newValue","tie","ties","placeholder","initial","delegated","ex","ancestry","removeAttribute","propagate","after","refine","Error","createDocumentFragment","$item","$parent","$index","template","cloneNode","lastChild","removeChild","k","multiple","selection","defaultOption","label","offset","Option","selectedIndex","selected","delegatedList","change","blog","response","endpoint","preventDefault","history","pushState","anchor","blogs","pathname","replaceState","click","onpopstate"],"mappings":"CAYA,SAAAA,EAAAC,EAAAC,GACA,YAoCA,SAAAC,KAMA,QAAAC,KACAC,EAAAC,EAAAC,OAYA,QAAAC,GAAAC,GACA,GAAAC,IACAC,MAAA,SAAAC,GACA,MAAAA,GAAAC,OAAA,GAGAC,OAAA,SAAAC,GACA,IAAAA,IAAAA,GACA,OAAA,CAGA,QAAA,GAGAC,UAAA,SAAAC,GACA,MAAAA,IAGAC,OAAA,SAAAC,GACA,MAAA,KAAAA,GAGAC,OAAA,SAAAC,GACA,OAAA,OAAAC,KAAAD,KAGAE,EAAAjB,EAAAkB,KAAAf,EAEA,OAAAgB,GAAA,WAAAf,EAAAa,KAAAb,EAAAa,GAAAd,IACA,GAGA,EAYA,QAAAgB,GAAAD,EAAAE,GACA,GAAAC,GAAArB,EAAAkB,KAAAE,GACAE,EAAAJ,GAAAA,EAAAX,OAAAc,EAAAE,OAAA,EAAAL,EAAAX,QAAA,IAEA,IAAAe,IAAAJ,EACA,OAAAG,GACA,IAAA,SACAC,EAAAtB,EAAAkB,KAAAE,GAAA,GAAAG,OAAA,EAAAL,EAAAX,OACA,MAEA,KAAA,SACAe,GAAAE,SAAAJ,EAAA,MAAAA,EAAA,UAAA,SAAAG,OAAA,EAAAL,EAAAX,QAKA,MAAAe,KAAAJ,EA7EA,GAEAnB,GAFAC,EAAAyB,KACAC,EAAA,CAsFA1B,GAAAC,KAAA,WACA,MAAA0B,MAAAC,IAAAD,KAAAC,OAAA,GAAAD,OAAAE,WAUA7B,EAAA8B,QAAA,WACA,GAAAC,GAAA,MACAC,EAAA,KACAC,EAAA,IACAC,EAAAC,KAAAC,KAAA,GAAAT,OAAAE,UAAA9B,GACAsC,EAAAF,KAAAG,MAAAJ,EAAAH,GACAQ,EAAAJ,KAAAG,OAAAJ,GAAAG,EAAAN,GAAAC,GACAQ,EAAAL,KAAAG,OAAAJ,GAAAK,EAAAP,GAAAC,GACAQ,EAAAN,KAAAG,OAAAJ,GAAAM,EAAAP,GAAA,KACAS,EAAAP,KAAAG,MAAAJ,GAAA,IAAAO,GACAE,EAAA,KAEA,QAAAN,EAAA,EAAAA,EAAA,KAAA,KACAM,EAAAJ,GAAAhB,OAAA,IAAA,KACAoB,EAAAH,GAAAjB,OAAA,IAAA,KACAoB,EAAAF,GAAAlB,OAAA,IAAA,KACAoB,EAAAD,GAAAnB,OAAA,KAUAvB,EAAA4C,OAAA,WACA,SAAAlB,EAAA1B,EAAAC,OAAA,OAAA4C,SAAA,KAaA7C,EAAA8C,QAAA,WACA,GAEAC,GAAA5C,EAFA6C,KACAC,EAAAC,SAGA,KAAAH,EAAA,EAAAA,EAAAE,EAAA1C,SAAAwC,EACA,GAAA/C,EAAAmB,OAAA,SAAA8B,EAAAF,IACA,IAAA5C,IAAA8C,GAAAF,GACAC,EAAA7C,GAAAA,IAAA6C,IAAAhD,EAAAmB,OAAA,SAAA6B,EAAA7C,IAAAH,EAAA8C,QAAAG,EAAAF,GAAA5C,GAAA6C,EAAA7C,IAAA8C,EAAAF,GAAA5C,EAKA,OAAA6C,IAaAhD,EAAAE,MAAA,WAGA,IAFA,GAAA+C,GAAAE,MAAAC,UAAAC,MAAAC,KAAAJ,WAEAD,EAAA1C,QACA,IAAAL,EAAA+C,EAAAM,SACA,OAAA,CAIA,QAAA,GAYAvD,EAAAkB,KAAA,SAAAE,EAAAoC,GACA,GACAC,GADAC,EAAAtC,YAAA+B,OAAA,QAAA,OAAA/B,EAAA,aAAAA,EAGA,OAAAoC,IAAA,WAAAE,IACAD,EAAA,6BAAAE,KAAAvC,EAAAwC,YAAAf,YAEAY,GAAAA,EAAAlD,OAAA,GAAA,WAAAkD,EAAA,IACAA,EAAA,GAIAC,GAYA1D,EAAAmB,OAAAA,EAUAnB,EAAA6D,QAAA,SAAAC,GAKA,IAJA,GAAAC,GAAAF,EAAAG,MAAA,OACAC,GAAA,UAAA,OAAA,WAAA,QACAP,KAEAO,EAAA1D,QAAAwD,EAAAxD,QACAmD,EAAAO,EAAAV,SAAAQ,EAAAR,OAGA,OAAAO,GAAAJ,EAAAA,EAAAG,SAaA7D,EAAAkE,UAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,EAEA,OAAA,YACA,GACAvB,GADAwB,GAAA,OAAA,OAAA,MAGA,KAAAD,EAGA,IAFAA,GAAA,EAEAvB,EAAA,EAAAA,EAAAwB,EAAAhE,SAAAwC,EAEA,GAAA/C,EAAAmB,OAAA,WAAAqD,QAAAD,EAAAxB,KAAA,CACAyB,QAAAD,EAAAxB,IAAA/C,EAAA8B,UAAA,gBAAAqC,EACA,OAKA,MAAAC,GAAAK,MAAAJ,GAAA,KAAAnB,aAYAlD,EAAAL,SAAA,SAAA8D,EAAAiB,GACA,GAAAhB,IAAA,CAOA,QALA1D,EAAAmB,OAAA,WAAAuD,IAAA1E,EAAAmB,OAAA,SAAAuD,MACAhB,EAAAD,IAAAzD,GAAAA,EAAAyD,GAAA,KACAzD,EAAAyD,GAAAiB,GAGAhB,GAGA5D,IAvSA,GAAA+D,GAAA,yCA0SA,SAAAc,GAEAhF,GACAA,EAAAgF,GAIAjF,EAAAiF,QAAAjF,EAAAM,GAAA2E,GACA,GAAA9E,KAEAH,OAAA,SAAAiF,GAOA,QAAAC,KAYA,QAAAC,GAAAC,GAKA,IAHA,GAAAf,GAAA,0IAAAJ,KAAAmB,GACAb,GAAA,SAAA,WAAA,SAAA,WAAA,OAAA,WAAA,OAAA,OAAA,WAAA,OAAA,YAAA,OAAA,QAAA,UACAP,KACAO,EAAA1D,QACAmD,EAAAO,EAAAV,SAAAQ,EAAAxD,OAAAwD,EAAAR,QAAA,EAeA,OAZAG,GAAAqB,OACArB,EAAAqB,MAAAC,QAAA,4BAAA,SAAA1E,EAAAK,EAAAsE,GACAN,EAAAxD,OAAA,SAAAuC,EAAAqB,SACArB,EAAAqB,UAGApE,IACA+C,EAAAqB,MAAApE,GAAAsE,KAKAvB,EA/BA,GAAAwB,GAAAzD,IAwCAyD,GAAAC,QAAAR,EAAAxD,OAAA,YAAAzB,OAAAoF,SAAAM,OAAA,EAAAP,EAAAnF,OAAAoF,SAAAM,MAUAF,EAAAL,MAAAA,EAUAK,EAAAG,QAAA,SAAAP,GACA,MAAAI,GAAAC,QAAAG,SAAAJ,EAAAL,MAAAC,GAAAQ,QAaA,QAAAC,KAkBA,QAAAC,GAAAC,EAAAC,EAAAC,GAEA,YAaA,SAAAC,KACAC,aAAAC,GAUA,QAAAC,KACAD,EAAAE,WAAA,WACAC,IACAA,EAAAtB,EAAAuB,QAAAC,QAAA,0BAAA,SAAAC,GACAJ,WAAAI,EAAA,MAIAH,EAAAL,GAEAH,EAAAnC,QACAoC,GAhCA,GACAI,GAAAG,EADAI,EAAA5E,IA2CA4E,GAAAT,OAAAA,EASAS,EAAAV,UAAA,WACA,MAAAA,IAGAI,IAYA,QAAAO,GAAAX,GACA,mBAAAY,GAAAZ,KAEAY,EAAAZ,GAAAC,eAGAW,GAAAZ,IAcA,QAAAa,GAAAf,EAAAY,EAAAV,GAUA,MATAA,GACAW,EAAAX,GAGAA,EAAAF,EAAA5C,YAAA8B,EAAA/B,SAGA2D,EAAAZ,GAAA,GAAAH,GAAAC,EAAAY,GAAA,EAAAV,GAEAY,EAAAZ,GAvHA,GAAAc,GAAAhF,KACA8E,IAkIAE,GAAAH,OAAAA,EAYAG,EAAAD,OAAAA,EAYA,QAAAE,KAaA,QAAAC,GAAArG,EAAAsG,GACA,IAAA,GAAA7D,GAAA,EAAAA,EAAAzC,EAAAC,SAAAwC,EACA,GAAAzC,EAAAyC,KAAA6D,EACA,MAAA7D,EAIA,QAAA,EAYA,QAAA8D,GAAAvG,EAAAK,GACA,GACAoC,GADA+D,IAGA,KAAA/D,EAAA,EAAAA,EAAAzC,EAAAC,SAAAwC,EACA4D,EAAAhG,EAAAL,EAAAyC,OAAA,GACA+D,EAAAC,KAAAzG,EAAAyC,GAIA,OAAA+D,GAYA,QAAAE,GAAA1G,EAAAK,GACA,GAAAsG,KAEA,KADAtG,GAAAL,EACA2G,EAAA1G,QAAAI,GACAsG,EAAAF,KAAAzG,EAAA2G,EAAA1G,OAGA,OAAA0G,GAWA,QAAAC,GAAA5G,GACA,IAAA,GAAA6G,GAAAC,EAAArE,EAAAzC,EAAAC,OAAAwC,EAAAoE,EAAAhF,KAAAkF,SAAAtE,EAAA,EAAAqE,EAAA9G,IAAAyC,GAAAzC,EAAAyC,GAAAzC,EAAA6G,GAAA7G,EAAA6G,GAAAC,GACA,MAAA9G,GAYA,QAAAgH,GAAAC,GACA,GACAC,GAAAzE,EADAW,GAAA,CAGA,QAAAiB,EAAAzD,KAAAqG,IACA,IAAA,SACA,KAAA,UAAAA,IAAA,CACA7D,GAAA6D,EACA,OAGA,IACA7D,EAAAP,MAAAC,UAAAC,MAAAC,KAAAiE,GAEA,MAAAE,GACA,IAAA/D,KAAA8D,EAAAD,EAAAhH,OAAAwC,EAAA,EAAAyE,EAAAzE,IAAAA,EACAW,EAAAqD,KAAAQ,EAAAxE,IAIA,KAEA,KAAA,OACA,IAAA,YACAW,IACA,MAEA,SACAA,GAAA6D,GAIA,MAAA7D,GApHA,GAAArD,GAAAoB,IAiIApB,GAAAsG,SAAAA,EAWAtG,EAAAwG,KAAAA,EAWAxG,EAAA2G,MAAAA,EAUA3G,EAAA6G,QAAAA,EAWA7G,EAAAiH,KAAAA,EAYA,QAAAI,KAuBA,QAAAC,GAAA5G,GACA,IAAA,GAAAkG,GAAA,EAAAlE,EAAA,EAAA6E,EAAA7G,EAAAR,OAAAqH,EAAA7E,IAAAA,EACAkE,GAAAA,EAAA,GAAAA,EAAAlG,EAAA8G,WAAA9E,IAAAkE,CAGA,OAAAA,GAWA,QAAAa,GAAA/G,GAKA,IAJA,GAAAZ,GAAA,GACA4H,GAAA,uDAAAhH,GAAAQ,SAAAY,KAAA6F,MAAAjH,EAAAR,QAAA,GAAAJ,GAAAA,IACA8G,EAAA,EAEAc,EAAAxH,QACA0G,GAAAU,EAAAI,EAAAxG,OAAA,EAAApB,IACA4H,EAAAA,EAAAxG,OAAApB,EAGA,OAAAgC,MAAAC,IAAA6E,GAAApE,SAAA,IAWA,QAAAoF,GAAAlH,GACA,MAAAA,GAAA8G,WAAA,GAWA,QAAAK,GAAArH,GACA,MAAAsH,QAAAC,aAAAvH,GAcA,QAAAkH,GAAAhH,EAAAF,EAAAoE,EAAAhE,GAGA,MAFAgE,GAAA,GAAA9B,OAAAtC,EAAA,GAAAwH,KAAApD,IAEApE,GAAAE,EAAAR,QAAA,IAAAU,EAAAA,IAAAH,EAAAwH,SAAAzH,EAAAI,IAAAH,EAAAyH,SAAApG,KAAA6F,KAAAnH,EAAA,GAAA,MAAA,GAAAI,EAAA,EAAAgE,EAAA1D,OAAA,EAAAN,GAAA,IAAAF,EAAAkE,EAAA1D,OAAA,EAAAV,EAAAI,GAAAF,EAWA,QAAAyH,GAAAzH,GACA,IAAA,GAAAF,GAAAE,EAAAR,OAAA0G,EAAA,EAAApG,EAAA,IAAAA,EACAoG,GAAApG,EAAAoH,EAAAlH,EAAAF,GAGA,OAAAsB,MAAAC,IAAA6E,EAAA,GAAAlG,EAAAR,OAAA,GAAAsC,SAAA,IAUA,QAAA4F,KACA,MAAA,uCAAAzD,QAAA,QAAA,SAAAC,GACA,GAAAgC,GAAA,GAAA9E,KAAAkF,SAAA,CAEA,QAAA,MAAApC,EAAAgC,EAAA,EAAAA,EAAA,GAAApE,SAAA,MAeA,QAAA6F,GAAAC,EAAAC,EAAAC,GACA,GAEA9F,GAFA+F,EAAA,GAAAH,EACAI,IAGA,IAAAH,GAAA,IAAAA,EAGA,GAAAD,EAAApI,OAAAqI,EACAG,EAAAhC,KAAA4B,OAEA,IAAAE,EACA,IAAA9F,EAAA+F,EAAAvI,OAAAwC,EAAA,EAAAgG,EAAAC,QAAAF,EAAAvH,OAAAwB,GAAAZ,KAAA8G,IAAAH,EAAAvI,OAAAqI,KAAAE,EACAA,EAAAA,EAAAI,UAAA,EAAAnG,OAIA,MAAA+F,EAAAvI,OAAA,EAAAwI,EAAAhC,KAAA+B,EAAAI,UAAA,EAAAN,IAAAE,GACAA,EAAAA,EAAAvH,OAAAqH,OAZAG,GAAAD,EAAA9E,MAAA,GAgBA,OAAA+E,GAYA,QAAAI,GAAAR,EAAAS,GACA,GACArG,GAAA5C,EAAAY,EADA2C,IAGA,KAAAX,EAAA,EAAAA,EAAA4F,EAAApI,SAAAwC,EAAA,CACAhC,EAAA4H,EAAApH,OAAAwB,EAAA,EACA,KAAA5C,IAAAiJ,GACA,GAAAzE,EAAAtE,MAAAsG,SAAAyC,EAAAjJ,GAAAY,EAAA8G,WAAA,OAAA,EAAA,CACA9G,EAAAZ,CACA,OAIAuD,EAAAqD,KAAAhG,GAGA,MAAA2C,GAAA2E,KAAA,IAvLA,GAAAvH,GAAAW,IAGAX,GAAAwH,SAAA,EACAxH,EAAAyH,SAAA,EACAzH,EAAAuI,UAAA,EACAvI,EAAAwI,UAAA,EACAxI,EAAAyI,UAAA,EACAzI,EAAA0I,WAAA,EACA1I,EAAA2I,YAAA,EACA3I,EAAA4I,UAAA,EAyLA5I,EAAAqI,MAAA,SAAAR,EAAAgB,GACA,MAAAR,GAAAR,EAAAgB,IACAC,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACAC,GAAA,KACAC,GAAA,IAAA,IAAA,IAAA,KACAC,GAAA,IAAA,IAAA,IAAA,KACAC,GAAA,KACAC,GAAA,KACAC,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACAC,GAAA,IAAA,IAAA,IAAA,KACAC,GAAA,KACAC,IAAA,KACA/J,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACAgK,MAAA,KACArF,GAAA,KACAwC,GAAA,IAAA,IAAA,IAAA,KACA1E,GAAA,IAAA,IAAA,IAAA,KACAlC,GAAA,KACAJ,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACA8J,GAAA,IAAA,IAAA,IAAA,KACAC,GAAA,QAeA1J,EAAA2J,KAAA,SAAA9B,EAAAT,EAAAwC,GACA,GACAC,GAAA1J,EADA2J,EAAA1C,GAAA,UAGA,KAAAjH,EAAA0H,EAAApI,OAAAU,EAAA,GAAAyJ,IAAA5J,EAAAwI,WAAAsB,EAAAC,QAAAlC,EAAAmC,SAAA7J,KAAA,IACA,IAAA0J,EAAA,EAAA1J,EAAA0J,GAAAD,IAAA5J,EAAA0I,YAAAoB,EAAAC,QAAAlC,EAAAmC,OAAAH,KAAA,IAAAA,GAEA,MAAAhC,GAAAO,UAAAyB,EAAA1J,EAAA,IAWAH,EAAAiK,QAAA,SAAAhK,GACA,IAAA,GAAAF,GAAAE,EAAAR,OAAA0G,EAAA,GAAApG,EAAA,IAAAA,EACAoG,GAAAlG,EAAAF,EAGA,OAAAoG,IAeAnG,EAAAiH,IAAA,SAAAhH,EAAAF,EAAAoE,EAAAhE,GACA,MAAA8G,GAAAhH,EAAAF,EAAAoE,GAAA,IAAAhE,GAAAH,EAAAuI,YAWAvI,EAAAkK,QAAA,SAAArC,GACA,MAAAA,GAAAmC,OAAA,GAAAG,cAAAtC,EAAApH,OAAA,IAWAT,EAAAgH,KAAAA,EAUAhH,EAAA0H,SAAAA,EASA1H,EAAA2H,KAAAA,EAUA3H,EAAAmH,IAAAA,EAUAnH,EAAAoH,IAAAA,EAaApH,EAAA4H,MAAA,SAAAC,EAAAC,EAAA7C,GACA,MAAA2C,GAAAC,EAAAC,GAAA,EAAA7C,IAAAjF,EAAA4I,YAYA5I,EAAAoK,aAAA,SAAAvC,EAAAwC,GACA,GAAAP,GAAA,wBAAA5G,MAAA,IACAoH,EAAA,GAAAC,QAAA,IAAAT,EAAAU,OAAAH,GAAAA,OAAA9C,KAAA,MAAA,IAAA,IAEA,OAAA1D,GAAAxD,OAAA,SAAAwH,GAAAA,EAAA3D,QAAAoG,EAAA,QAAA,IAgBA,QAAAG,GAAAnE,EAAAoD,GAEA,GAAAgB,GAAA/J,IAEA+J,GAAApE,EAAAA,GAAA,EACAoE,EAAAhB,EAAAA,GAAA,EAWAgB,EAAAC,GAAA,SAAArE,EAAAoD,GAIA,MAHAgB,GAAApE,EAAAA,EACAoE,EAAAhB,EAAAA,EAEAgB,GAWAA,EAAAE,KAAA,SAAAC,GAIA,MAHAH,GAAApE,EAAAuE,EAAAxJ,KAAAyJ,MAAAJ,EAAApE,EAAAuE,GAAAA,EAAAxJ,KAAAyJ,MAAAJ,EAAApE,GACAoE,EAAAhB,EAAAmB,EAAAxJ,KAAAyJ,MAAAJ,EAAAhB,EAAAmB,GAAAA,EAAAxJ,KAAAyJ,MAAAJ,EAAAhB,GAEAgB,GAUAA,EAAAK,MAAA,WACA,MAAA,IAAAN,GAAAC,EAAApE,EAAAoE,EAAAhB,IAYAgB,EAAAM,KAAA,SAAA1E,EAAAoD,GAIA,MAHAgB,GAAApE,GAAAA,EACAoE,EAAAhB,GAAAA,EAEAgB,GAYAA,EAAAO,MAAA,SAAA5L,EAAAyL,GACA,MAAAA,GAAAzJ,KAAAyJ,MAAAJ,EAAApE,KAAAjF,KAAAyJ,MAAAzL,EAAAiH,IAAAjF,KAAAyJ,MAAAJ,EAAAhB,KAAArI,KAAAyJ,MAAAzL,EAAAqK,GAAAgB,EAAApE,IAAAjH,EAAAiH,GAAAoE,EAAAhB,IAAArK,EAAAqK,GAWAgB,EAAAQ,MAAA,SAAAC,GAIA,MAHAT,GAAApE,GAAA6E,EACAT,EAAAhB,GAAAyB,EAEAT,GAWAA,EAAAU,SAAA,SAAA/L,GACA,MAAA,IAAAoL,GAAAC,EAAApE,EAAAjH,EAAAiH,EAAAoE,EAAAhB,EAAArK,EAAAqK,IAWAgB,EAAAW,IAAA,SAAAhM,GACA,MAAA,IAAAoL,GAAAC,EAAApE,EAAAjH,EAAAiH,EAAAoE,EAAAhB,EAAArK,EAAAqK,IAWAgB,EAAAY,SAAA,SAAAjM,GACA,MAAAgC,MAAAkK,KAAAlK,KAAAmK,IAAAnK,KAAAC,IAAAoJ,EAAApE,EAAAjH,EAAAiH,GAAA,GAAAjF,KAAAmK,IAAAnK,KAAAC,IAAAoJ,EAAAhB,EAAArK,EAAAqK,GAAA,KAWAgB,EAAAe,MAAA,SAAApM,GACA,MAAAgC,MAAAqK,MAAArM,EAAAiH,EAAAoE,EAAApE,EAAAjH,EAAAqK,EAAAgB,EAAAhB,IAaAgB,EAAAiB,IAAA,WACA,GAEA1J,GAFAqE,EAAAoE,EAAApE,EACAoD,EAAAgB,EAAAhB,CAGA,KAAAzH,EAAA,EAAAA,EAAAG,UAAA3C,SAAAwC,EACAqE,EAAAjF,KAAAsK,IAAArF,EAAAlE,UAAAH,GAAAqE,GACAoD,EAAArI,KAAAsK,IAAAjC,EAAAtH,UAAAH,GAAAyH,EAGA,OAAA,IAAAe,GAAAnE,EAAAoD,IAaAgB,EAAAvC,IAAA,WACA,GAEAlG,GAFAqE,EAAAoE,EAAApE,EACAoD,EAAAgB,EAAAhB,CAGA,KAAAzH,EAAA,EAAAA,EAAAG,UAAA3C,SAAAwC,EACAqE,EAAAjF,KAAA8G,IAAA7B,EAAAlE,UAAAH,GAAAqE,GACAoD,EAAArI,KAAA8G,IAAAuB,EAAAtH,UAAAH,GAAAyH,EAGA,OAAA,IAAAe,GAAAnE,EAAAoD,IAWAgB,EAAAkB,IAAA,SAAAH,GAGA,MAFAA,IAAAA,GAAA,IAAApK,KAAAwK,GAAA,IAEA,GAAApB,GACAC,EAAApE,EAAAoE,EAAAhB,GACAgB,EAAApE,EAAAoE,EAAAhB,GAAA+B,IAYAf,EAAAoB,IAAA,SAAAzM,GACA,MAAA,IAAAoL,GACA,IAAAC,EAAApE,EAAAjH,EAAAiH,GACA,IAAAoE,EAAAhB,EAAArK,EAAAqK,KA6BA,QAAAqC,GAAAC,GAYA,QAAAhN,KACA,GAAAK,EAEA2M,GAAAA,MAEA,gBAAAA,KACAA,GAAAA,IAIA,UAAAA,IACAC,EAAA,SAIA,KAAA5M,IAAA2M,GACA3M,IAAA6M,KACAA,EAAA7M,GAAA8M,EAAA9M,GAIA+M,GAAAF,EAAAE,OAWA,QAAAD,GAAAE,GACA,MAAAxI,GAAAxD,OAAA,WAAA2L,EAAAK,IACA,WACA,MAAAL,GAAAK,GAAA1I,MAAAqI,EAAAnI,EAAAtE,MAAAiH,KAAApE,aAIA4J,EAAAK,GAWA,QAAAJ,GAAAtJ,GAGA,IACA,MAAA2J,QAAAC,eAAAL,EAAAvJ,GACA6J,IAAA,WACA,MAAAR,GAAArJ,MAIA,MAAAgE,GACA,MAAAuF,GAAAvJ,GAAAqJ,EAAArJ,IAYA,QAAA0I,GAAAoB,GACA,GAAAhN,GAAAwC,CAGA,MAAA,UAAA+J,IACA,OAAA,CAmBA,IAfAA,YAAA3J,SACA2J,EAAAnI,EAAAtE,MAAAiH,KAAAwF,IAIAS,YAAAV,KACAU,EAAAA,EAAAT,cAIAS,YAAApK,SACAoK,EAAA5I,EAAAxD,OAAA,SAAAoM,IAAAA,GAAA5I,EAAAtE,MAAAiH,KAAAiG,IAIAA,YAAApK,OAAA,CAKA,IAJA5C,EAAAuM,EAAAvM,OACAuM,EAAAA,EAAAxB,OAAAiC,GACAL,EAAAF,EAAAE,OAEAnK,EAAAxC,EAAAwC,EAAA+J,EAAAvM,SAAAwC,EACAgK,EAAAhK,EAGA,QAAA,EAGA,OAAA,EAaA,QAAAyK,GAAA/J,EAAAgK,EAAAC,GACA,MAAA,UAAAtJ,EAAAuJ,GACA,GAAAC,GAAAlK,EAAAwJ,EAAAnK,CAGA,IAAAU,IAAAqJ,IAAAnI,EAAAxD,OAAA,WAAA2L,EAAArJ,IACA,MAAA,IAAAoJ,GAAAC,EAAArJ,GAAAgB,MAAAqI,EAAA5J,WAMA,KAHA0K,EAAAd,YAAA3J,aAEA+J,EAAAF,EAAAE,OACAnK,EAAA,EAAAA,EAAAmK,EAAA3M,SAAAwC,EAGA,GAFAW,EAAA+J,EAAArJ,EAAAK,MAAAkJ,GAAA/N,QAAAkN,EAAAI,EAAAnK,IAAAmK,EAAAnK,GAAA+J,IAAAA,EAAAI,EAAAnK,KAEA,CACA,GAAA2K,EACA,MAAAhK,EAGAkK,GAAAV,EAAAnK,IAAAW,EAIA,MAAAiB,GAAAqI,SAAAY,IA5JA,GACAV,GAAA/H,EADA6H,EAAAvL,IAuKAuL,GAAAF,WAAA,WACA,MAAAA,IAWAE,EAAAa,OAAA,SAAAC,GACA,GAAApK,EAiBA,OAfAoK,KACAhB,YAAA3J,QAAA2K,IAAAZ,GACA/H,EAAA2I,EAEAhB,YAAA3J,SACAO,EAAAiB,EAAAtE,MAAAsG,SAAAuG,EAAAY,GAEApK,IACAyB,EAAAzB,KAKAA,EAAAyB,GAAA,EAEA2H,YAAA3J,OAAAO,EAAAwJ,EAAAxJ,IAWAsJ,EAAAe,KAAA,SAAAD,GACA,MAAA,QAAAhB,IAAAnI,EAAAxD,OAAA,WAAA2L,EAAAiB,MACAjB,EAAAiB,KAAAD,GAGA,UAAAhB,KAAAgB,GAAA,GAAAA,EAAAhB,EAAAvM,SAAAuN,IAAAhB,GAAAA,EAAAgB,GAAA,MAUAd,EAAA7H,QAAA,WAKA,MAJAA,KACAA,EAAA,GAGA,mBAAA+H,GAAA/H,GAAA6H,EAAAe,KAAAb,EAAA/H,KAAA,GAUA6H,EAAAE,KAAA,WACA,GAAAxJ,KAMA,OAJAsJ,GAAAgB,KAAA,SAAAC,EAAAC,GACAxK,EAAAqD,KAAAmH,KAGAxK,GAaAsJ,EAAAmB,OAAAX,EAAA,SAAA,SAAA9J,EAAAqK,GACA,MAAArK,GAAAqK,GAAA,IAYAf,EAAAoB,KAAAZ,EAAA,OAAA,SAAA9J,EAAAqK,GACA,MAAArK,GAAAqK,GAAA,IACA,GAWAf,EAAAqB,IAAAb,EAAA,MAAA,SAAA9J,GACA,MAAAA,KAUAsJ,EAAAsB,SAAA,WAGA,MAFAnJ,GAAAhD,KAAAsK,IAAA,mBAAAtH,GAAAA,EAAA,EAAA,EAAA,IAEA6H,EAAA7H,WAWA6H,EAAAuB,KAAAvB,EAAAsB,SASAtB,EAAAwB,KAAA,WAGA,MAFArJ,GAAAhD,KAAA8G,IAAA,mBAAA9D,GAAAA,EAAA,EAAA,EAAA+H,EAAA3M,QAEAyM,EAAA7H,WAYA6H,EAAAgB,KAAA,SAAA5J,EAAAqK,GACA,GAAAtO,EAEA,IAAA,UAAA2M,GACA,IAAA3M,EAAA,EAAAA,EAAA2M,EAAAvM,SAAAJ,EACAiE,EAAAK,MAAAgK,GAAA7O,QAAAkN,EAAA3M,GAAAA,EAAA6M,QAIA,KAAA7M,IAAA2M,GACA1I,EAAAK,MAAAgK,GAAA7O,QAAAkN,EAAA3M,GAAAA,EAAA6M,GAIA,OAAAA,IAgBAA,EAAAb,IAAA,WACA,GAAApJ,EAEA,KAAAA,EAAA,EAAAA,EAAAG,UAAA3C,SAAAwC,EACAoJ,EAAAjJ,UAAAH,GAGA,OAAAiK,IAGAlN,IAsBA,QAAA4O,KAsBA,QAAAC,GAAAC,EAAA9F,GACA,GAAApF,GAAAX,CAMA,IAJA4B,EAAAxD,OAAA,SAAAyN,KACAA,EAAAC,SAAAC,cAAAF,IAGA9F,YAAA3F,OAEA,IADAO,KACAX,EAAA,EAAAA,EAAA+F,EAAAvI,SAAAwC,EACAW,EAAAqD,KAAA4H,EAAAC,EAAA9F,EAAA/F,SAIAW,GAAAkL,EAAAG,YAAAjG,EAGA,OAAApF,GAYA,QAAAiD,GAAAqI,EAAAC,GAEA,GAAA,YAAAD,GACA,MAAAA,GAAArI,SAAAsI,EAIA,MAAAA,IAAAD,GAAAC,GACAA,EAAAA,EAAAC,UAGA,SAAAD,EAYA,QAAAE,GAAAC,EAAA/K,GACA,GAAAgL,GAAAJ,EAAA9O,EAAA4C,CAEA,QAAA4B,EAAAzD,KAAAkO,IACA,IAAA,QAEA,IADAH,KACAlM,EAAA,EAAAA,EAAAqM,EAAA7O,SAAAwC,EACAkM,EAAAlI,KAAAoI,EAAAC,EAAArM,IAGA,MAEA,KAAA,SACAsM,EAAA,OAAAD,GAAAA,EAAAE,IAAA,QAAAF,GAAAA,EAAA3L,KAAA,MAMAwL,EAJA,sBAAAjO,KAAAqO,GAIAR,SAAAU,cAAAF,IAHAhL,EAAAA,EAAAyK,cAAAO,GAAA,OAAAR,SAAAC,cAAAO,EAMA,KAAAlP,IAAAiP,GACA,OAAAjP,GAEA,IAAA,OACA,OAAAiP,IACAH,EAAAO,aAAA,OAAAJ,EAAAjP,GAGA,MAEA,KAAA,QACA,IAAA,UACAwO,EAAAM,EAAAE,EAAAC,EAAAjP,GAAA8O,GACA,MAEA,KAAA,QACA,IAAA,YACAA,EAAAO,aAAA,QAAAJ,EAAAjP,GACA,MAEA,SACA8O,EAAAO,aAAArP,EAAAiP,EAAAjP,IAKA,KAEA,KAAA,UACAiP,EAAAA,EAAA,OAAA,OAEA,SACAH,EAAAJ,SAAAY,eAAAL,GAIA,MAAAH,GAiBA,QAAAS,GAAAC,GACA,GAAAC,IAAAjL,EAAAkL,MAAAvC,IAAAqC,EAAA,WACAG,EAAAC,WAAApL,EAAAkL,MAAAvC,IAAAqC,EAAA,YACAK,EAAArL,EAAAkL,MAAAvC,IAAAqC,EAAA,YACAM,EAAAtL,EAAAkL,MAAAvC,IAAAqC,EAAA,WACAO,EAAAvL,EAAAkL,MAAAvC,IAAAqC,EAAA,SACAhC,EAAA,WAAAqC,GAAA,SAAAJ,GAAA,EAAAE,EAGAK,EAAA,mIAAAnP,KAAAiP,GACA/O,EAAAM,UAGA,UAAAwO,EAAA,EAAA,EAGArC,IAAA,SAAAiC,GAAAA,GAAA,GAAA,EAAA,EAGA,WAAAI,GAAArC,EAAA,EAAA,EAGA,SAAAuC,GAAA,WAAAF,GAAAG,EAAA,EAAA,EAGA,SAAAD,GAAAvC,GAAA,WAAAqC,EAAA,EAAA,EAGA,SAAAE,GAAA,WAAAF,GAAAG,EAAA,EAAA,EAGAxC,GAAA,EAAAiC,EAAA,EAAA,GACAvH,KAAA,IAAA,EAEA,QACAnH,KAAAA,EACA4M,MAAA,WAAAkC,GAAAJ,GAAA,SAAAA,EAAAA,EAAA,EACAjC,QAAA,KAAAyC,EAAAC,eAAAnP,GAAAkP,EAAAE,iBAAApP,GAAAkP,EAAAG,eAAArP,GAAAkP,EAAAI,aAAAtP,IAeA,QAAAuP,GAAAxB,EAAAyB,GACA,GAQA/K,GAAAxF,EARAsD,EAAA,QACAkN,GACAjR,OAAAA,OACAmP,SAAAA,SACA+B,KAAA/B,SAAAgC,gBACAC,KAAAjC,SAAAiC,KACAC,KAAAlC,SAAAkC,KAKA,KAAA5Q,IAAAwQ,GACA,GAAA1B,IAAA0B,EAAAxQ,GACA,MAAAA,EAIA,OAAA8O,IAAA,YAAAA,IAAA,IAAAA,EAAA+B,UAIArL,EAAA+K,EAAAjN,IAAAwL,GAAAA,EAAAxL,GAAA,KAAAwL,EAAAgC,aAAA,QAAAxN,GAIAkC,IACAA,EAAAhB,EAAA/B,SAEA8N,EACAzB,EAAAxL,GAAAkC,EAGAsJ,EAAAO,aAAA,QAAA/L,EAAAkC,IAIAA,IAlBA,EA1NA,GAAAyK,GAAA3O,IAGA2O,GAAAC,eAAA,EACAD,EAAAc,YAAAd,EAAAC,gBAAA,EACAD,EAAAe,YAAAf,EAAAc,aAAA,EACAd,EAAAgB,aAAAhB,EAAAe,aAAA,EACAf,EAAAE,iBAAAF,EAAAgB,cAAA,EACAhB,EAAAG,eAAAH,EAAAE,kBAAA,EACAF,EAAAI,aAAAJ,EAAAG,gBAAA,EA8OAH,EAAA5J,OAAA2I,EAWAiB,EAAAzB,SAAA,SAAAC,EAAA9F,GACA,MAAA6F,GAAAC,EAAAjK,EAAAxD,OAAA,SAAA2H,KAAAnE,EAAAxD,OAAA,YAAA2H,EAAAkI,UAAAlI,EAAAqG,EAAArG,EAAA8F,KAYAwB,EAAAzJ,SAAAA,EAWAyJ,EAAAiB,OAAA,SAAAC,EAAAC,GACA,MAAA5M,GAAAqI,UAAAuE,GAAA1C,UAAA2C,iBAAAF,KAYAlB,EAAAzK,UAAA,SAAAsJ,GACA,MAAAwB,GAAAxB,IAWAmB,EAAAqB,WAAA/B,EA2BA,QAAAgC,KAgBA,QAAAC,KAYA,IAVA,GAAAhC,GAAAd,SAAAU,cAAA,OACAjO,EAAAqO,EAAAiC,qBAAA,KACA/N,EAAA,EAQA8L,EAAAkC,UAAA,iBAAAhO,EAAA,wBAAAvC,EAAAf,QAAA,GAAAsD,KACAA,CAOA,OAHAA,GAAAA,EAAA,EAAAA,EAAAiO,SAAA,2DAGAjO,EAAAA,EAAA,iBAAAgL,UAAAgC,gBAAAhB,MAAA,IAAA,EAWA,QAAAkC,GAAA5L,GACA,MAAAxB,GAAAxD,OAAA,YAAA6Q,EAAA7L,IAAAA,IAAAzG,SAAAyG,IAAA0I,UAAAmD,EAAA7L,GAYA,QAAA8L,GAAA9L,EAAA9B,GACA,GASA6N,GAAAnP,EATAoP,EAAAC,IAGA5R,EAAA6D,EAAAA,GACA3E,OACAmP,SACAwD,WAEAC,IAOA,KAJAnM,YAAAhD,SACAgD,GAAAA,IAGApD,EAAA,EAAAA,EAAAoD,EAAA5F,SAAAwC,EACAmP,EAAAvN,EAAA7D,OAAAkK,QAAA7E,EAAApD,IACAuP,EAAAA,EAAAhH,QACAnF,EAAApD,GACAoP,EAAAD,EACAC,EAAAI,cAAAL,GAIA,MAAAI,EAAA/R,QAGA,IAFA4F,EAAAmM,EAAA/O,QAEAR,EAAA,EAAAA,EAAAvC,EAAAD,SAAAwC,EACA,GAAAoD,IAAA3F,GAAAuC,GACA,MAAAvC,GAAAuC,GAAAoD,EAKA,QAAA,EAUA,QAAAiM,KACA,GAGAjS,GAHAgS,GAAA,OAAA,QAAA,IAAA,KAAA,MAAA,UACAK,EAAA,GAAAnH,QAAA,KAAA8G,EAAA9J,KAAA,KAAA,cACAoK,EAAA5D,SAAAU,cAAA,SAIA,KAAApP,IAAAsS,GAAA5C,MACA,GAAA2C,EAAAxR,KAAAb,GAAA,CACAuS,EAAAvS,EAAA4D,MAAAyO,GAAAjP,OACA,OAKA,MAAAmP,GAAAP,EAAA5R,QACAJ,EAAAgS,EAAAQ,MACAxS,EAAA,WAAAsS,GAAA5C,QACA6C,EAAAvS,EAMA,OAFAsS,GAAA,KAEAC,EA/HA,GAIAA,GACAE,EALA1M,EAAAzE,KACAuQ,GACAa,MAAA,gBAAAnT,SAAA,oBAAA2S,WA0IAnM,GAAA4M,GAAA,SAAA7J,GAKA,MAJAtE,GAAAxD,OAAA,YAAAyR,KACAA,EAAAjB,KAGA1I,GAAA2J,EAAA3J,EAAA2J,EAAAA,GAWA1M,EAAAwM,OAAA,WAKA,MAJAA,KACAA,EAAAN,KAGAM,GAaAxM,EAAAC,QAAA,SAAAA,EAAA9B,GAKA,OAJAA,GAAAA,YAAAlB,SACAkB,GAAAA,IAGA4N,EAAA9L,EAAA9B,IAcA6B,EAAA6M,SAAA,WAKA,IAJA,GAAA9L,IAAA,EACAlE,EAAAG,UAAA3C,OAGA0G,KAAAlE,GAAA,GACAkE,EAAAA,GAAA8K,EAAA7O,UAAAH,GAGA,OAAAkE,IAYAf,EAAA8M,WAAA,SAAApE,GACA,GAEArK,GAAAxB,EAFAzB,GAAA,aAAA,gBACA6Q,EAAAjM,EAAAwM,SAAAH,aAOA,KAJA3D,IACAA,EAAAC,SAAAgC,iBAGA9N,EAAA,EAAAwB,EAAA,KAAAxB,EAAAzB,EAAAf,OAAA,OAAAgE,IAAAxB,EACAwB,EAAAjD,EAAAyB,IAAA8L,UAAAvN,EAAAyB,GAAAoP,EAAAxN,EAAA7D,OAAAkK,QAAA1J,EAAAyB,IACAwB,IAAAsK,YACAtK,EAAA,KAIA4N,GAAA5N,EAAAR,MAAA,GAAAsH,QAAA,IAAA8G,IAAAA,EAAA,KACAA,GAAAA,IAAAtD,SAAAtK,GAAA,SAAA,YAAAI,EAAA7D,OAAAkK,SAAAmH,EAAAtD,SAAAtK,GAAA,SAAA,UAAA,IAAAI,EAAA7D,OAAAkK,QAAA1J,EAAA,MAEAuN,SAAAtK,GAAAsK,SAAAD,GAAAuD,GAAAvD,EAAAqE,sBAAA,OAaA,QAAAC,KAeA,QAAAC,GAAAC,GAEA,YAiBA,SAAAC,GAAAnS,GACA,GAAA6C,GAAA7C,EAAAA,EAAA6C,MAAA,2BAAA,GAAA,IAAA,IAEA,QACAN,KAAAM,EAAA,IAAA,IACAsP,UAAAtP,EAAA,IAAA,KAYA,QAAAuP,GAAA1E,GACA,MAAAjK,GAAAyL,IAAAzK,UAAAiJ,GAWA,QAAA2E,GAAA5K,GACA,OAAAA,EAAA,IAAA3D,QAAA,mBAAA,IAgBA,QAAAwB,GAAAoI,EAAA4E,EAAAtS,EAAAiN,EAAA1I,EAAAgO,GACA,GAAAvF,IACAoF,EAAA1E,GACA4E,EACAtS,EACAiN,EAAAoF,EAAApF,IAAA,EACAsF,IAAA,EACAF,EAAA9N,IACA4C,KAAAqL,EA0CA,OAvCAxF,KAAAyF,KACAA,EAAAzF,IACAU,OAAAA,EACAyE,UAAAG,EACAtS,KAAAA,EACAiN,OAAAA,EACAsF,QAAAA,IAAA,EACAG,SAAA,SAAAnM,GACA,GACA/D,GADAmQ,EAAApM,GAAA/H,OAAAoU,KAGA3F,MACA,UAAA0F,KAAA,cAAAA,KACAA,EAAAjF,OAAAiF,EAAAE,YAGApP,EAAA0M,OAAAlD,EAAAS,GAAAZ,KAAA,SAAAiB,IACA4E,EAAAjF,SAAAK,GAAAtK,EAAAyL,IAAAzJ,SAAAsI,EAAA4E,EAAAjF,WACAiF,EAAAD,SAAAhF,EACAlL,EAAA+B,EAAAhB,MAAAwK,GAAAmE,EAAAS,SAIApO,IACA/B,EAAA+B,EAAAhB,MAAAmK,GAAAwE,EAAAS,MAGAnQ,KAAA,IACAmQ,EAAAG,gBACAH,EAAAG,kBAEAH,EAAAI,eACAJ,EAAAI,cAAA,OAOAN,EAAAzF,GAWA,QAAA5H,GAAA4H,GACAA,IAAAyF,UACAA,GAAAzF,GAgBA,QAAAE,GAAAQ,EAAA4E,EAAAtS,EAAAiN,EAAA1I,GACA,GAUAtF,GAVA+T,EAAA,MACA9I,EAAA,GAAAC,SACA,KAAAuD,EAAAjK,EAAA7D,OAAAoK,aAAAoI,EAAA1E,IAAAsF,GACAV,GAAA,MAAAA,EAAA7O,EAAA7D,OAAAoK,aAAAsI,GAAAU,EACAhT,GAAA,MAAAA,EAAAyD,EAAA7D,OAAAoK,aAAAhK,GAAAgT,EACA/F,EAAAxJ,EAAA7D,OAAAoK,aAAAqI,EAAApF,IAAA+F,EACAA,GACAzO,EAAAd,EAAA7D,OAAAoK,aAAAqI,EAAA9N,IAAAyO,GAAA,KACA7L,KAAAqL,IACAhQ,IAGA,KAAAvD,IAAAwT,GACAvI,EAAApK,KAAAb,KACAuD,EAAAvD,GAAAwT,EAAAxT,GAIA,OAAAuD,GA5JA,GAAAyQ,GAAA1S,KACAiS,EAAA,IACAC,IAyKAQ,GAAA/F,KAAA,SAAAQ,EAAAnL,EAAA0K,EAAA1I,GACA,GAGAtF,GAHAe,EAAAmS,EAAA5P,GACA2Q,EAAAhG,EAAAQ,EAAA1N,EAAAmS,UAAAnS,EAAAuC,KAAA0K,EAAA1I,GACA/B,IAGA,KAAAvD,IAAAiU,GACA1Q,EAAAqD,KAAAqN,EAAAjU,GAGA,OAAAuD,IAeAyQ,EAAA7N,OAAA,SAAAsI,EAAAnL,EAAA0K,EAAA1I,GACA,GAGAtF,GAHAe,EAAAmS,EAAA5P,GACA2Q,EAAAhG,EAAAQ,EAAA1N,EAAAmS,UAAAnS,EAAAuC,KAAA0K,EAAA1I,GACA/B,IAGA,KAAAvD,IAAAiU,GACA1Q,EAAAqD,KAAAqN,EAAAjU,IACAmG,EAAAnG,EAGA,OAAAuD,IAeAyQ,EAAA3N,OAAA,SAAAoI,EAAAnL,EAAA0K,EAAA1I,EAAAgO,GACA,GAAAvS,GAAAmS,EAAA5P,EAEA,OAAA+C,GAAAoI,EAAA1N,EAAAmS,UAAAnS,EAAAuC,KAAA0K,EAAA1I,EAAAgO,IAAA,IAYA,QAAAY,GAAA5M,GACA,GACAtH,GADAmU,GAAA,CAcA,IAXAzF,SAAA0F,qBACA1F,SAAA0F,oBAAA,mBAAAF,GAAA,GACA3U,OAAA6U,oBAAA,OAAAF,GAAA,GACAC,GAAA,GAEA,aAAAzF,SAAA2F,aACA3F,SAAA4F,YAAA,eAAAJ,GACA3U,OAAA+U,YAAA,SAAAJ,GACAC,GAAA,GAGAA,GAAAI,EAAAtO,MACA,IAAAjG,IAAAuU,GAAAtO,MACAsO,EAAAtO,MAAAjG,GAAAmD,KAAAmE,GAcA,QAAAkN,GAAAlR,EAAAmL,GACA,GACA7B,GADAhJ,EAAAN,EAAAM,MAAA,iDAQA,OALAA,KAAAgJ,EAAApI,EAAAkL,MAAA9C,SAAAhJ,EAAA,GAAA6K,MAAA7K,EAAA,KACAgJ,EAAAA,EAAAxL,OAAA,EAAAwL,EAAAxM,OAAAwD,EAAA,GAAAxD,QACAkD,EAAAsJ,EAAA,MAAAA,EAAAxM,QAAA,EAAA,QAAA,SAAA,UAAAoE,EAAA7D,OAAAkK,QAAAjH,EAAA,IAAAY,EAAA7D,OAAAkK,QAAAjH,EAAA,KAGAN,EAWA,QAAAmR,GAAAnR,GACA,GAEAC,GAFAkK,EAAA,2xBACAoC,EAAApC,EAAA/C,QAAA,IAAApH,EAAA8O,cAAA,IA6LA,OA1LA,GAAAvC,EAEAtM,EAAA,SA0CA,IAAAsM,EAEAtM,EAAA,OAWA,IAAAsM,EAEAtM,EAAA,KAMA,IAAAsM,EAEAtM,EAAA,YAIA,IAAAsM,EAEAtM,EAAA,eASA,IAAAsM,EAEAtM,EAAA,QAiBA,IAAAsM,EAEAtM,EAAA,QAOA,IAAAsM,EAEAtM,EAAA,cAMA,IAAAsM,EAEAtM,EAAA,YAWA,IAAAsM,EAEAtM,EAAA,OAIA,IAAAsM,EAEAtM,EAAA,aAOA,IAAAsM,EAEAtM,EAAA,WAKA,IAAAsM,EAEAtM,EAAA,iBAIA,IAAAsM,EAEAtM,EAAA,WAQA,IAAAsM,EAEAtM,EAAA,QAIA,IAAAsM,EAEAtM,EAAA,aAIA,IAAAsM,IAEAtM,EAAA,SAGAA,EAAA,QAYA,QAAAmR,GAAAjG,EAAA1N,GACA,MAAA,WAAAA,EAAA,IAAAyD,EAAAyL,IAAAzK,UAAAiJ,GAUA,QAAAkG,GAAArN,GACA,GAAAoM,GAAApM,GAAA/H,OAAAoU,KAmBA,OAjBAnP,GAAAxD,OAAA,YAAA0S,EAAAjF,UACAiF,EAAAjF,OAAAjK,EAAAxD,OAAA,YAAA0S,EAAAE,YAAA,KAAAF,EAAAE,YAGApP,EAAAxD,OAAA,YAAA0S,EAAA3S,QACA2S,EAAA3S,KAAA2S,EAAAkB,WAGAlB,EAAAmB,OAAAJ,EAAAf,EAAA3S,MAEA,sDAAAF,KAAA6S,EAAA3S,QACA2S,EAAAoB,MAAAtQ,EAAA6G,MACAqI,EAAAqB,MAAArB,EAAAqB,MAAArB,EAAAsB,QAAAtB,EAAAsB,QAAAtG,SAAAkC,KAAAqE,WAAAvG,SAAAgC,gBAAAuE,WAAA,EACAvB,EAAAwB,MAAAxB,EAAAwB,MAAAxB,EAAAyB,QAAAzB,EAAAyB,QAAAzG,SAAAkC,KAAAwE,UAAA1G,SAAAgC,gBAAA0E,UAAA,IAIA1B,EAWA,QAAA2B,GAAAC,GAiBA,MAhBAA,KACAA,MAGAA,IAAA/V,SACA+V,GAAAA,IAGA9Q,EAAAxD,OAAA,SAAAsU,KACAA,EAAA5G,SAAA2C,iBAAAiE,IAGA9Q,EAAAxD,OAAA,SAAAsU,EAAAlV,UACAkV,GAAAA,IAGA9Q,EAAAqI,SAAAyI,GAWA,QAAAC,GAAAC,GAQA,MAPAhR,GAAAxD,OAAA,SAAAwU,GACAA,EAAAA,EAAA3Q,QAAA,MAAA,IAAAhB,MAAA,WAEA2R,IACAA,MAGAhR,EAAAqI,SAAA2I,GAeA,QAAAC,GAAAH,EAAAE,EAAAxH,EAAA1I,EAAAgO,GACAG,IACAA,EAAA,GAAAT,GAAA2B,IAGAa,EAAAD,EAAAC,GACAH,EAAAC,GAAAzH,KAAA,SAAAY,GACA+G,EAAA3H,KAAA,SAAA8F,GACA,GAAA+B,GAAAjC,EAAApN,OAAAoI,EAAAkF,EAAA3F,EAAA1I,EAAAgO,GAAAtF,GAAA,GAAA,EAEA2H,GAAAD,EAAAjH,OAAAiH,EAAA3U,KAAA2U,EAAAjC,SAAAiC,EAAApC,aAgBA,QAAAnN,GAAAmP,EAAAE,EAAAxH,EAAA1I,GACA,GACA1C,GADAW,IAGA,IAAAkQ,IACA6B,EAIAD,EAAAC,GAAAzH,KAAA,SAAAY,GACA+G,EAIAD,EAAAC,GAAA3H,KAAA,SAAA8F,GACApQ,EAAAA,EAAA4H,OAAAsI,EAAAxF,KAAAQ,EAAAkF,EAAA3F,EAAA1I,MAJA/B,EAAAA,EAAA4H,OAAAsI,EAAAxF,KAAAQ,EAAA,KAAA,KAAAnJ,MALA/B,EAAAA,EAAA4H,OAAAsI,EAAAxF,KAAA,KAAA,KAAA,KAAA3I,IAeA/B,EAAAnD,OAAA,GAAA,CACA,IAAAwC,EAAA,EAAAA,EAAAW,EAAAnD,SAAAwC,EACAgT,EAAArS,EAAAX,GAAA6L,OAAAlL,EAAAX,GAAA7B,KAAAwC,EAAAX,GAAA6Q,SAAAlQ,EAAAX,GAAA0Q,SACAG,EAAAtN,OAAA5C,EAAAX,GAAA6L,OAAAlL,EAAAX,GAAA7B,KAAAiN,EAAA1I,EAGA,QAAA,EAIA,OAAA,EAcA,QAAAqQ,GAAAlH,EAAA1N,EAAAuE,EAAAgO,GACA,GAAAxP,EAEA,IAAA2K,EAAAoH,iBACApH,EAAAoH,iBAAArB,EAAAzT,GAAAuE,EAAAgO,OAEA,IAAA7E,EAAAqH,YACA,OAAArB,EAAA1T,IACA,IAAA,cACA+C,EAAA4Q,EAAAjG,EAAA1N,GACA+C,IAAA2K,IACAxB,OAAAC,eAAAuB,EAAA3K,GAEAiS,cAAA,EAGAC,YAAA,EACA7I,IAAA,WACA,MAAApM,IAGAkV,IAAA,SAAAhS,GACA,GACArB,GADAU,EAAA,KAAAvC,CAOA,IAJAuC,IAAAhC,QACAA,KAAAgC,OAGAkB,EAAAxD,OAAA,WAAAiD,GACA3C,KAAAgC,GAAAsD,KAAA3C,OAMA,KAHAA,EAAAiS,aAAA,EACAjS,EAAA2P,WAAAtS,KAEAsB,EAAA,EAAAA,EAAAtB,KAAAgC,GAAAlD,SACAkB,KAAAgC,GAAAV,GAAA0B,MAAAhD,MAAA2C,IACAA,EAAAiS,eAFAtT,OAYA6L,EAAA3K,GAAAwB,CACA,MAEA,SAIAmJ,EAAAqH,YAAA,KAAA/U,EAAAuE,IAmBA,QAAAsQ,GAAAnH,EAAA1N,EAAAuE,EAAAgO,GACA,GAAA7E,EAAA2F,oBACA3F,EAAA2F,oBAAAI,EAAAzT,GAAAuE,EAAAgO,OAEA,IAAA7E,EAAA6F,YACA,OAAAG,EAAA1T,IACA,IAAA,oBACA0N,GAAAiG,EAAAjG,EAAA1N,GACA,MAEA,SACA0N,EAAA6F,YAAA,KAAAvT,EAAAuE,IAkBA,QAAA6Q,GAAAb,EAAAhS,EAAA8S,GACA,GAIApW,GAJAe,EAAA0T,EAAAnR,IAAA,cACA+S,EAAA7R,EAAAuB,QAAAC,QAAAjF,GACAuV,EAAAF,MACAG,GAAA,CAyBA,OArBAF,IAAA7R,EAAAxD,OAAA,WAAAqV,GACAE,EAAA,GAAAF,GAAA/S,GACAgT,OAAAA,EACAE,YAAA,IAGA,eAAA9H,WACA6H,EAAA7H,SAAA+H,YAAA1V,GACAqV,GAAA,gBAAArV,EACAwV,EAAAG,gBAAApT,GAAA,GAAA,EAAAgT,GAGAC,EAAAI,UAAArT,GAAA,GAAA,IAGA,qBAAAoL,YACA6H,EAAA7H,SAAAkI,oBACAL,EAAA3B,UAAAtR,EACAiT,EAAAD,OAAAA,GAGAC,GACAlB,EAAAC,GAAAzH,KAAA,SAAAY,GACA,iBAAAA,GACAA,EAAAoI,cAAAN,GAEA,aAAA9H,KACA,gBAAA1N,GACAf,EAAA0U,EAAAjG,EAAAnL,GAGAkB,EAAAxD,OAAA,YAAAyN,EAAAzO,MACAyO,EAAAzO,GAAAuW,IAIA9H,EAAAqI,UAAA,KAAAxT,EAAAiT,OAMA,IAGA,EA/zBA,GAEA9C,GAAAf,EAFAiB,EAAArS,KACAiT,IAk1BAZ,GAAA3H,IAAA,SAAAsJ,EAAAE,EAAAxH,EAAA1I,EAAAgO,GAOA,MANAzN,YAAA,WACA4P,EAAAnR,MAAAqP,GAAA2B,EAAAE,GAAArK,OACA3G,EAAAxD,OAAA,WAAAgN,IAAA,KAAAA,EAAA1I,IAAA0I,EAAA1I,EAAAgO,MAEA,GAEAK,GAsBAA,EAAAxN,OAAA,SAAAmP,EAAAE,EAAAxH,EAAA1I,GACA,GAAAxC,IAAAwS,EAAAE,EAAAxH,EAAA1I,EAqBA,OAjBAd,GAAAxD,OAAA,WAAAsU,GACAxS,GAAA,KAAA,KAAA,KAAAwS,GAMA9Q,EAAAxD,OAAA,WAAAwU,GACA1S,GAAAwS,EAAA,KAAA,KAAAE,GAIAhR,EAAAxD,OAAA,WAAAgN,KACAlL,GAAAwS,EAAAE,EAAA,KAAAxH,IAGA7H,EAAA7B,MAAAqP,EAAA7Q,GACA6Q,GAYAA,EAAA4C,QAAA,SAAA9H,EAAAnL,EAAA8S,GACA,MAAAD,GAAA1H,EAAAnL,EAAA8S,IAUAzC,EAAAoD,SAAA,WAKA,MAJAvS,GAAAxD,OAAA,UAAA0R,KACAA,EAAAlO,EAAAuB,QAAA6M,SAAA,UAGAF,GAWAiB,EAAA1N,MAAA,SAAAX,GAEA,MAAA,yBAAAzE,KAAA6N,SAAA2F,aAEAxO,WAAAP,EAAA,IAEA,IAIA,mBAAAiP,GAAAtO,QACAsO,EAAAtO,SAEAyI,SAAAmH,kBAEAnH,SAAAmH,iBAAA,mBAAA3B,GAAA,GAGA3U,OAAAsW,iBAAA,OAAA3B,GAAA,KAIAxF,SAAAoH,YAAA,qBAAA5B,GAGA3U,OAAAuW,YAAA,SAAA5B,KAIAK,EAAAtO,MAAAW,KAAAtB,IACA,IAIAqO,EAAA8B,OAAAjR,EAAAT,UACA,4FACA4P,EAAA3H,KAEA2H,EAAAqD,KAAAxS,EAAAT,UACA,0FACA4P,EAAA3H,KAyBA,QAAAiL,KAaA,QAAAC,GAAAtK,GACA,GAAAlM,GAAA,CAEA,IAAA,UAAAkM,EACA,MAAA,UAGA,OAAAlM,EAAAkM,EAAAlC,QAAA,IAAAhK,KAAA,GACAkM,EAAAA,EAAAxL,OAAA,EAAAV,GAAAkM,EAAAjC,SAAAjK,GAAAoK,cAAA8B,EAAA7D,UAAArI,EAAA,EAGA,OAAAkM,GAYA,QAAAuK,GAAAvK,GAKA,MAJA,aAAAA,IACAA,EAAA,SAGAA,EAAA/H,QAAA,WAAA,OAAAuN,cAYA,QAAAgF,GAAAxK,EAAA6B,GAIA,MAHA7B,GAAAsK,EAAAtK,GACA6B,EAAAA,GAAAC,SAAAkC,KAEAhE,IAAA6B,GAAAiB,MACA9C,GAGAA,EAAApI,EAAAuB,QAAAwM,SAAA/N,EAAA7D,OAAAkK,QAAA+B,GACAA,IAAA6B,GAAAiB,MACA9C,GAGA,GAUA,QAAAyK,KACA,GAEAzU,GAFA0U,EAAA5I,SAAA6I,YACA9J,IAGA,KAAA7K,EAAA,EAAAA,EAAA0U,EAAAlX,SAAAwC,EACA4B,EAAAO,IAAAG,QAAAoS,EAAA1U,GAAAqC,OACAwI,EAAA7G,KAAA0Q,EAAA1U,GAIA,OAAA6K,GAYA,QAAA+J,GAAAlU,EAAAmU,GACA,GAEA7U,GAFA6K,EAAAgK,EAAA/I,SAAA6I,YAAAF,IACAzT,IAGA,QAAAN,GAEA,IAAA,QACAmK,EAAArN,OAAA,IACAwD,GAAA6J,EAAA,IAGA,MAGA,KAAA,OACAA,EAAArN,OAAA,IACAwD,GAAA6J,EAAAA,EAAArN,OAAA,IAGA,MAEA,SAGA,GAAA,QAAAkD,EACAM,EAAA6J,MAEA,IAAAnK,GAKA,GAAAmK,EAAArN,OAAA,EACA,IAAAwC,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACA6K,EAAA7K,GAAAqC,MAAAwI,EAAA7K,GAAAqC,KAAA7D,QAAAkC,EAAAlD,UAAAkD,EACAM,EAAAgD,KAAA6G,EAAA7K,IAEA6K,EAAA7K,GAAA8U,OAAAjK,EAAA7K,GAAA8U,QAAApU,GACAM,EAAAgD,KAAA6G,EAAA7K,QAVAgB,IAAA,EAkBA,MAAAA,GAYA,QAAA+T,GAAA5S,EAAAzB,GACA,GAAAM,GAAA4T,EAAAzS,GAAA,EAKA,OAJAzB,IAAA,IAAAM,EAAAxD,SACAwD,EAAA4T,EAAAlU,GAAA,IAGAM,EAAAxD,OAAA,EAAAwD,EAAA,IAAA,EAaA,QAAAgU,GAAA7S,EAAA8S,EAAAvU,GACA,GAAAwL,GAAA6I,EAAA5S,EAAAzB,GACAqN,EAAAjC,SAAAiC,MAAAjC,SAAA+C,qBAAA,QAAA,EAoBA,OAlBA3C,KACAA,EAAAJ,SAAAU,cAAArK,EAAA,OAAA,SACA+J,EAAAO,aAAA,OAAA,YACAP,EAAAO,aAAA,QAAA/L,GAAA,iBAAAkB,EAAA/B,UAEA,QAAA5B,KAAAiO,EAAAI,YACAJ,EAAAO,aAAA,MAAA,cACAP,EAAAO,aAAA,OAAAtK,IAGA8S,GAAAnJ,SAAAiC,KAAAmH,WACAnH,EAAAoH,aAAAjJ,EAAA6B,EAAAmH,YAGAnH,EAAA/B,YAAAE,IAIAA,EAWA,QAAAkJ,GAAAC,GACA,GAEArV,GAAAsV,EAFAzK,EAAAwK,EAAApU,MAAA,WACAsU,IAGA,KAAAvV,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACAsV,EAAAzK,EAAA7K,GAAAiB,MAAA,WAEA,KAAAqU,EAAA,KACAC,EAAAjB,EAAAgB,EAAA9U,UAAAgV,EAAAF,EAAAhQ,KAAA,MAIA,OAAAiQ,GAWA,QAAAE,GAAAlH,GACA,MAAAA,GAAAtN,MAAA,OAAAqE,KAAA,KAAAkK,cAWA,QAAAgG,GAAAtK,GACA,GAgBA9N,GAhBAiL,GAEAqN,IAAA,OAGAC,IAAA,QAGAC,IAAA,WAGAC,IAAA,UAGA,EAAA,qBAIA,KAAAzY,IAAAiL,GACA6C,EAAAA,EAAAjJ,QAAAoG,EAAAjL,GAAAA,EAqBA,OAjBAiL,GAAA6C,EAAAlK,MAAA,gBACAqH,GAAAA,EAAA7K,OAAA,IACA6K,EAAAA,EAAA,GACAA,EAAA7K,OAAA,IAAA,EACA6K,EAAAzG,EAAA7D,OAAAiH,IAAAqD,EAAA,EAAA,KAEA,IAAAA,EAAA7K,SACA6K,EAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,IAGA6C,EAAA,QACAzM,SAAA4J,EAAA,GAAAA,EAAA,GAAA,IACA5J,SAAA4J,EAAA,GAAAA,EAAA,GAAA,IACA5J,SAAA4J,EAAA,GAAAA,EAAA,GAAA,KACA/C,KAAA,KAAA,KAGA4F,EA7RA,GAAA4B,GAAApO,IAySAoO,GAAAgJ,SAAA,SAAA5J,EAAA6J,GACA,GAAA3T,GAAAR,EAAA7D,OAAA2J,KAAAwE,EAAA8J,WAAA/U,MAAA,MAIA,OAFAiL,GAAA8J,UAAA5T,EAAAmG,OAAA3G,EAAAtE,MAAAwG,KAAAiS,EAAA9U,MAAA,UAAAmB,IAAAkD,KAAA,KAEA4G,EAAA8J,WAYAlJ,EAAAmJ,YAAA,SAAA/J,EAAA6J,GACA,GAEA/V,GAAA5C,EAFA+B,EAAAyC,EAAA7D,OAAA2J,KAAAwE,EAAA8J,WAAA/U,MAAA,OACAiV,EAAAtU,EAAA7D,OAAA2J,KAAAqO,GAAA9U,MAAA,SAGA,KAAAjB,EAAA,EAAAA,EAAAkW,EAAA1Y,SAAAwC,EACA5C,EAAAwE,EAAAtE,MAAAsG,SAAAzE,EAAA+W,EAAAlW,IAEA5C,KAAA,GACA+B,EAAAgX,OAAA/Y,EAAA,EAMA,OAFA8O,GAAA8J,UAAA7W,EAAAmG,KAAA,KAEA4G,EAAA8J,WAYAlJ,EAAAsJ,YAAA,SAAAlK,EAAA6J,GACA,GAEA/V,GAAA5C,EAFAgF,EAAAR,EAAA7D,OAAA2J,KAAAwE,EAAA8J,WAAA/U,MAAA,OACAiV,EAAAtU,EAAA7D,OAAA2J,KAAAqO,GAAA9U,MAAA,SAGA,KAAAjB,EAAA,EAAAA,EAAAkW,EAAA1Y,SAAAwC,EACA5C,EAAAwE,EAAAtE,MAAAsG,SAAAxB,EAAA8T,EAAAlW,IACA5C,KAAA,EACAgF,EAAA+T,OAAA/Y,EAAA,GAGAgF,EAAA4B,KAAAkS,EAAAlW,GAMA,OAFAkM,GAAA8J,UAAA5T,EAAAkD,KAAA,KAEA4G,EAAA8J,WAYAlJ,EAAAuJ,OAAA,SAAAxK,EAAA0J,GACA,GAAAnY,GAAAkZ,CAEA,KAAAlZ,IAAAmY,GACAe,EAAA9B,EAAApX,GAEAkZ,IACAzK,EAAAiB,MAAAwJ,GAAAf,EAAAnY,GAIA,OAAA0P,IAYAA,EAAAyB,SAAA,SAAA1C,EAAA0K,GACA,GAAA3J,GAAAf,EAAAS,SAAAkD,cACAgH,EAAA3K,EAAA4K,aAAA,MAAA,IAAA5K,EAAAqC,aAAA,MAAA,KACA6H,EAAAlK,EAAA4K,aAAA,SAAA,IAAA7U,EAAA7D,OAAA2J,KAAAmE,EAAAqC,aAAA,UAAAjN,MAAA,OAAAqE,KAAA,KAAA,KACAgJ,EAAA,EAMA,QAJA,IAAAnO,UAAA3C,QAAAgZ,GAAAT,KACAzH,GAAAiI,EAAA,GAAA3J,IAAA4J,GAAAT,GAAA,KAGAnU,EAAA7D,OAAA2J,OAAA8O,GAAA3K,EAAAM,YAAAN,IAAAC,SAAAkC,KAAAlB,EAAAyB,SAAA1C,EAAAM,YAAA,GAAA,IAAA,IAAAmC,IAYAxB,EAAA4J,MAAA,SAAA7K,EAAA8K,GACA,GACA3W,GADA6K,EAAA+J,EAAAhT,EAAAxD,OAAA,SAAAyN,GAAAA,EAAA,KAAA8K,KAAA,GAAA,GAAA,EAGA,IAAA/U,EAAAxD,OAAA,YAAAyN,EAAAS,UACA,IAAAtM,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACA,GAAA6K,EAAA7K,GAAA4W,YAAA/K,EACA,OAAAhB,EAAA7K,GAKA,OAAA6K,IAWAiC,EAAArJ,OAAA,SAAA/C,EAAAuU,GACA,GAAA/I,GAAA8I,GAAA,EAAAC,EAAAvU,EAEA,OAAAwL,GAAAwK,QAAA,GAaA5J,EAAA+J,KAAA,SAAA1U,EAAAd,EAAA4T,GACA,GAAAnI,GAAAkI,EAAA7S,EAAA8S,EAmBA,OAhBArT,GAAAxD,OAAA,YAAA0O,EAAA8J,YACA9J,EAAAA,EAAA8J,UAGAvV,GACA4B,WAAA,WACA5B,EAAAK,MAAAoL,GAAAA,KACA,IAGAzL,GACAO,EAAAmP,MAAA3H,IAAA0D,EAAA,OAAA,SAAApI,GACArD,EAAAK,MAAAoL,GAAApI,MAIAoI,GAWAA,EAAAgK,WAAA,SAAAC,GACA,GAEA/W,GAFA6K,EAAA4J,IACA7H,EAAAhL,EAAAxD,OAAA,YAAA2Y,EAAAH,WAAAG,EAAAH,UAAAG,CAGA,KAAA/W,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACA,GAAA6K,EAAA7K,GAAA4W,YAAAhK,EACA,OAAA,CAIA,QAAA,GAcAE,EAAA1D,IAAA,SAAAmF,EAAAgH,EAAAmB,EAAAH,GACA,GACAlL,GAAAjO,EAAA4Z,EADAC,EAAA,EAcA,IAVArV,EAAAxD,OAAA,SAAAmQ,IAAA,YAAAA,KACAA,EAAAzB,EAAAyB,SAAAA,EAAAgI,IAAAzJ,EAAAyB,SAAAA,IAIA3M,EAAAxD,OAAA,SAAAmX,KACAA,EAAAH,EAAAG,KAIA3T,EAAAxD,OAAA,SAAAmX,GACA,OAAA,CASA,MALAmB,GAAA9U,EAAAxD,OAAA,SAAAsY,MACAA,EAAA9B,EAAA8B,GAAA,SAIAA,YAAAtW,OACA,GAAA,IAAAsW,EAAAlZ,OACAkZ,EAAAA,EAAA,OAEA,CAAA,KAAAA,EAAAlZ,QAAA,GAGA,CAEA,IADAyZ,GAAA,EACA7Z,EAAA,EAAAA,EAAAsZ,EAAAlZ,SAAAJ,EACA6Z,EAAAA,GAAAnK,EAAA1D,IAAAmF,EAAAgH,EAAAmB,EAAAtZ,GAGA,OAAA6Z,GARAP,EAAA1B,IAAA0B,MAaArL,EAAAyB,EAAAzB,KAAAkD,EAAAmI,EACA,KAAAtZ,IAAAmY,GACAnY,IAAAiO,IAAAmK,EAAAnK,EAAAjO,MAAAoY,EAAAD,EAAAnY,MACA4Z,EAAAxC,EAAApX,GACA4Z,IACAC,IAAA,KAAAA,EAAA,IAAA,IAAA1C,EAAAyC,GAAA,IAAAzB,EAAAnY,IAMA,OAAAsZ,GAAAQ,QACAR,EAAAQ,QAAA3I,EAAA0I,GAEAP,EAAAS,WACAT,EAAAS,WAAA5I,EAAA,IAAA0I,EAAA,IAAAP,EAAAU,SAAA5Z,SAGA,GAYAsP,EAAAzB,KAAA,SAAAkD,EAAAmI,GACA,GACAnB,GAAAvV,EAAAoE,EADApD,IAcA,KAXAuN,IACAA,EAAAkH,EAAAlH,IAGAmI,EAGAA,YAAAtW,SACAsW,GAAAA,IAHAA,EAAA9B,IAMA5U,EAAA,EAAAA,EAAA0W,EAAAlZ,SAAAwC,EAEA,GADAuV,EAAA3T,EAAAzD,KAAAuY,EAAA1W,GAAAoX,UAAAV,EAAA1W,GAAAoX,SAAAV,EAAA1W,GAAAuV,MACAA,GAAAA,EAAA/X,OACA,IAAA4G,EAAA,EAAAA,EAAAmR,EAAA/X,SAAA4G,EACA,gBAAAmR,GAAAnR,MAAAmK,GAAAkH,EAAAF,EAAAnR,GAAAiT,gBAAA9I,KACAvN,EAAAY,EAAA7B,QAAAiB,EAAAoU,EAAAG,EAAAnR,GAAA0I,MAAAwK,UAMA,OAAAtW,IAaA8L,EAAAvC,IAAA,SAAA2B,EAAAlC,EAAAuN,GACA,GAAArM,EAYA,OAVAlB,GAAAwK,EAAAxK,GACAA,IACArN,OAAA6a,iBACAtM,EAAAY,SAAA2L,YAAAD,iBAAAtL,EAAAqL,GAAA,MAAAG,iBAAAnD,EAAAvK,IAEAkC,EAAAyL,eACAzM,EAAAgB,EAAAyL,aAAArD,EAAAtK,MAIAkB,GAYA4B,EAAA9C,SAAAwK,EAUA1H,EAAA8K,YAAA,SAAArJ,GACA,GAEAvO,GAFAW,GAAA,EAAA,EAAA,EAAA,GACAK,EAAAY,EAAA7D,OAAA2J,KAAA6G,EAAAtM,QAAA,gBAAA,QAAAhB,MAAA,8BAGA,KAAAjB,EAAA,EAAAA,EAAAgB,EAAAxD,SAAAwC,IACAW,EAAA,KAAA1C,KAAA+C,EAAAhB,IAAA,EAAA,mBAAA/B,KAAA+C,EAAAhB,IAAA,EAAA,EAGA,OAAAW,GAAA2E,KAAA,MAaA,QAAAuS,KAeA,QAAAC,GAAAC,GACA,GACAzC,GAAA0C,EAAAxa,EAAAa,EAAA2B,EADAgB,EAAA+W,EAAAA,EAAA/W,MAAAiX,IAAA,CAGA,IAAAjX,EAAA,CAMA,IALAgX,EAAAvZ,SAAAuC,EAAA,GAAA,IACAxD,EAAAiB,SAAAuC,EAAA,GAAA,IACA3C,EAAA2C,EAAA,GACA+W,EAAA,GAEA/X,EAAA,EAAAgY,EAAAhY,IAAAA,EAAA,CAEA,GADAsV,EAAA4C,EAAAC,QAAA9Z,EAAA2B,GACA,OAAAsV,EAIA,OAAA,CAHAyC,IAAAzC,EAOA,IAAAyC,GAAAA,EAAAva,SAAAA,EACA,OAAA,EAIA,MAAAua,GAYA,QAAAK,GAAA1X,EAAAqX,GACA,GAEA/X,GAFA3B,EAAA,KAAAqC,EACAsX,EAAA5Y,KAAA6F,KAAA8S,EAAAva,OAAA6a,EAGA,KAAArY,EAAA,EAAAgY,EAAAhY,IAAAA,EACAkY,EAAAI,QAAAja,EAAA2B,EAAA+X,EAAA5R,UAAAnG,EAAAqY,EAAAjZ,KAAA8G,KAAAlG,EAAA,GAAAqY,EAAAN,EAAAva,SAIA0a,GAAAI,QAAA5X,EAAA,aAAAsX,EAAA,IAAAD,EAAAva,OAAA,IAAAa,EAAA,KAWA,QAAAka,GAAAvX,GACA,GAEAhB,GAFAgY,EAAAvZ,SAAAuC,EAAA,GAAA,IACA3C,EAAA2C,EAAA,EAGA,KAAAhB,EAAA,EAAAgY,EAAAhY,IAAAA,EACAuD,EAAAlF,EAAA2B,GAWA,QAAAwY,KACA,GACAxY,GAAAmL,EADAxK,EAAA,IAGA,IAAAuX,EAEA,IADAvX,KACAX,EAAA,EAAAA,EAAAkY,EAAA1a,SAAAwC,EACAmL,EAAA+M,EAAA/M,IAAAnL,GACAW,EAAAwK,GAAAgN,EAAAhN,EAIA,OAAAxK,GAWA,QAAAwX,GAAAzX,GACA,GAAAqX,GAAAG,EAAAA,EAAAC,QAAAzX,IAAA,CAMA,OAJAqX,IAAAA,EAAA/W,MAAAiX,KACAF,EAAAD,EAAAC,IAGAA,GAAAA,EAAA/W,MAAA,qBACA+W,EAAA,oBAAAnX,KAAAmX,GACAA,EAAAva,OAAA,GAAAua,EAAA,KAAAnW,EAAA7D,OAAA0H,SAAAsS,EAAA,KACAU,KAAA3W,MAAAiW,EAAA,IAIAA,EAAAA,GAAA,EAYA,QAAAO,GAAA5X,EAAAqX,GAIA,MAHAA,GAAAU,KAAAC,UAAAX,GACAA,EAAAnW,EAAA7D,OAAA0H,SAAAsS,GAAA,IAAAA,EAEAG,EACAH,EAAAva,OAAA6a,EAAAD,EAAA1X,EAAAqX,GAAAG,EAAAI,QAAA5X,EAAAqX,IAGA,EAWA,QAAAxU,GAAA7C,GACA,GAAAqX,GAAA/W,CAEA,OAAAkX,IACAH,EAAAG,EAAAC,QAAAzX,GACAqX,IAAA/W,EAAA+W,EAAA/W,MAAAiX,KACAM,EAAAvX,GAGAkX,EAAAS,WAAAjY,KAGA,EAxKA,GAAAkY,GAAAla,KACA2Z,EAAA,KACAH,EAAAtW,EAAAxD,OAAA,YAAAzB,OAAAkc,cAAAlc,OAAAkc,cAAA,EACAZ,EAAA,+CAgLAW,GAAArO,IAAA,SAAA7J,GACA,MAAAA,GAAAyX,EAAAzX,GAAA8X,KAYAI,EAAAvF,IAAAiF,EAUAM,EAAArV,OAAAA,EASAqV,EAAApb,OAAA,WACA,MAAA0a,GAAAA,EAAA1a,QAAA,GAUAob,EAAAzO,KAAA,WACA,GAEA/M,GAFA+N,EAAAqN,IACA3N,IAGA,KAAAzN,IAAA+N,GACAN,EAAA7G,KAAA5G,EAGA,OAAAyN,IAUA+N,EAAAE,MAAA,WACA,GACA9Y,GADA6K,EAAA+N,EAAAzO,MAEA,KAAAnK,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACAuD,EAAAsH,EAAA7K,KAWA4Y,EAAA/S,KAAA,WACA,MAAAkT,WAAAC,mBAAAP,KAAAC,UAAAG,gBAAArb,QAaA,QAAAyb,KAmBA,QAAAC,GAAA/a,EAAAgb,EAAAvW,GACA,YAKA,IAAAwW,GAAA1a,IAEA0a,GAAAjb,KAAAA,EACAib,EAAAxW,UAAAA,EACAwW,EAAAC,UAAAzX,EAAA1E,OACAkc,EAAAE,UAAA1X,EAAA7C,UASAqa,EAAAG,YAAA,WACA,MAAAC,GAAArb,EAAAgb,IASAC,EAAAK,KAAA,WACAC,EAAA9W,IAAA,GAaA,QAAA+W,GAAAnW,GACA,mBAAAoW,GAAApW,KACAoW,EAAApW,OAaA,QAAA4F,GAAA5F,EAAA2V,GAGA,MAFAQ,GAAAnW,GAEAoW,EAAApW,GAAAQ,KAAAmV,GAcA,QAAAK,GAAAhW,EAAA2V,GACA,GAAAnZ,EAEA,KAAAA,EAAA,EAAAA,EAAA4Z,EAAApW,GAAAhG,SAAAwC,EACA4Z,EAAApW,GAAAxD,KAAAmZ,IACAS,EAAApW,GAAAxD,IAAA,GAcA,QAAAuD,GAAAC,EAAA2V,GACA,GAEAnZ,GAFA6Z,KACAC,IAKA,KAFAH,EAAAnW,GAEAxD,EAAA,EAAAA,EAAA4Z,EAAApW,GAAAhG,SAAAwC,GACA4Z,EAAApW,GAAAxD,IAAA4Z,EAAApW,GAAAxD,KAAAmZ,EAAAW,EAAAD,GAAA7V,KAAA4V,EAAApW,GAAAxD,GAKA,OAFA4Z,GAAApW,GAAAsW,EAEAD,EAWA,QAAAf,GAAAtV,GACA,GAAAqW,IAAA,CAOA,OALAjY,GAAAxD,OAAA,YAAAwb,EAAApW,MACAqW,EAAAD,EAAApW,SACAoW,GAAApW,IAGAqW,EAcA,QAAAlG,GAAAnQ,GAOA,IANA,GAIA9C,GAAAV,EAJAE,EAAA0B,EAAAtE,MAAAiH,KAAApE,WACA4Z,EAAAnY,EAAA/B,SACAyV,EAAA9R,EAAAvC,MAAA,KACAkQ,GAAA,EAGAmE,EAAA9X,QAAA,GAAA,CAKA,GAJAkc,EAAAK,IAAA,EACArZ,EAAA4U,EAAAhQ,KAAA,MAAA6L,GAAAmE,EAAA9X,OAAA,IAAA,IAAA,IAAA,IACA2T,GAAA,EAEA,mBAAAyI,GAAAlZ,GACA,IAAAV,EAAA,EAAAA,EAAA4Z,EAAAlZ,GAAAlD,QACAkc,EAAAK,KADA/Z,EAKA4Z,EAAAlZ,GAAAV,KACAE,EAAA,GAAA,GAAAgZ,GAAA1V,EAAAoW,EAAAlZ,GAAAV,GAAA+Z,GACAH,EAAAlZ,GAAAV,GAAA0B,MAAAkY,EAAAlZ,GAAAV,GAAAE,GAKA,KAAAoV,EAAA1F,MACA,YAIA8J,GAAAK,GA5LA,GAAAC,GAAAtb,KACAkb,KACAF,IAuMAM,GAAAC,UAAA,SAAAzW,EAAA2V,EAAA9X,GACA,GAEArB,GAFA6K,EAAArH,EAAAvC,MAAA,UACAN,GAAA,CAGA,KAAAX,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACAW,GAAAyI,EAAAyB,EAAA7K,GAAAmZ,IAAA,GAAA,IAAAxY,CAOA,OAJAU,IACAA,EAAAK,MAAAsY,GAAArZ,IAGAqZ,GAaAA,EAAAT,YAAA,SAAA/V,EAAA2V,EAAA9X,GACA,GAEArB,GAFA6K,EAAArH,EAAAvC,MAAA,UACAN,IAGA,KAAAX,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACAW,EAAAA,EAAA4H,OAAA4Q,EAAA5V,EAAAsH,EAAA7K,GAAAmZ,GAAAL,EAAAjO,EAAA7K,IAOA,OAJAqB,IACAA,EAAAK,MAAAsY,GAAArZ,IAGAqZ,GAcAA,EAAAE,OAAA,WACA,GAEAla,GAFAE,EAAA0B,EAAAtE,MAAAiH,KAAApE,WACA0K,EAAA3K,EAAAM,QAAAS,MAAA,SAGA,KAAAjB,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACA2T,EAAAjS,MAAAsY,GAAAnP,EAAA7K,IAAAuI,OAAArI,KAcA,QAAAia,KAEA,GAAAtc,GAAAa,IAUAb,GAAAuc,KAAA,SAAAxU,GAGA,MAFAA,IAAAA,GAEA,EAAAA,KAAAA,GAAAA,EAAA,IAAA,GAWA/H,EAAAwc,IAAA,SAAAzU,GAGA,MAFAA,IAAAA,GAEA,EAAAA,KAAAA,IAAA/H,EAAAuc,KAAAxU,IAaA/H,EAAAyc,QAAA,SAAA1U,EAAArI,EAAAK,GAKA,MAJAgI,IAAAA,EACArI,GAAAA,EACAK,GAAAA,EAEAgI,GAAAxG,KAAA8G,IAAA3I,EAAAK,IAAAgI,GAAAxG,KAAAsK,IAAAnM,EAAAK,IAeAC,EAAA0c,OAAA,SAAA3U,EAAA4U,EAAA/R,EAAAkI,GACA,GAAA8J,GAAAD,EAAApb,KAAAmK,IAAA,GAAAiR,GAAA,CAoBA,OAjBA/R,GAAA7G,EAAAxD,OAAA,YAAAqK,GAAA,IAAAA,EACAkI,GAAA/O,EAAAxD,OAAA,YAAAuS,IAAAxQ,UAAA3C,OAAA,EAAAmT,EAAA,IAGA/K,IAAA,GAAAA,GAAA3D,QAAA,SAAA,KAGA2D,EAAA6U,EAAA,EAAArb,KAAAyJ,MAAAjD,EAAA6U,GAAAA,EAAA7U,EAGAA,GAAA,IAAA8U,SAAA9U,IAAAA,EAAA,IAAA3E,MAAA,KAGA2E,EAAA,GAAApI,OAAA,GAAAmT,GAAA,KAAAA,IACA/K,EAAA,GAAAhE,EAAA7D,OAAA4H,MAAAC,EAAA,GAAA,EAAAhE,EAAA7D,OAAA4I,WAAArB,KAAAqL,IAGA/K,EAAA,IAAA4U,EAAA,EAAA/R,EAAA7G,EAAA7D,OAAAiH,IAAAY,EAAA,IAAA,GAAA4U,EAAA,IAAA5Y,EAAA7D,OAAAuI,WAAA,KAaA,QAAAqU,KAgBA,QAAAC,KACA,YAKA,IAAAC,GAAAnc,KACAqZ,IAWA8C,GAAArQ,OAAA,SAAAW,EAAAD,GAKA,MAJAtJ,GAAAxD,OAAA,SAAA8M,KACA6M,EAAA5M,GAAAD,GAGA2P,GAUAA,EAAAC,UAAA,WACA,GACA1d,GADA8G,IAGA,KAAA9G,IAAA2a,GACA7T,EAAAF,KAAA5G,EAAA,IAAA4b,mBAAAjB,EAAA3a,IAGA,OAAA8G,GAAAoB,KAAA,MAWAsV,EAAA9a,SAAA,WACA,MAAA+a,GAAAC,aAaA,QAAAC,GAAA5Y,GAcA,MAbA6Y,KACAA,GACAC,YAAA,WAAArZ,EAAA7D,OAAAqI,MAAAxE,EAAAd,aAWAc,EAAAO,IAAAG,QAAAH,GAAA6Y,KAUA,QAAAE,KACA,GAAAC,GAAA,GAAAC,eAGA,OAFAD,GAAAE,QAAAzZ,EAAA/B,SAEAsb,EAWA,QAAAG,GAAAC,GACA,GAMAne,GANA+E,EAAA,OAAAoZ,GAAAA,EAAApZ,IAAAP,EAAAO,IAAAP,EAAAO,IAAAqZ,KAAA,KACArd,EAAA,QAAAod,GAAAA,EAAApd,KAAA+J,cAAA,MACA6P,EAAA,QAAAwD,GAAAE,EAAAF,EAAAxD,MAAA,GACA2D,EAAA,SAAAH,GAAAA,EAAAG,OAAA,EACAC,EAAA,UAAAJ,GAAAxb,QAAAwb,EAAAP,OAAAD,EAAA5Y,IAAA4Y,EAAA5Y,GACAgZ,EAAAD,GAuBA,IApBA,eAAAjd,KAAAE,KACAgE,GAAA,QAAAoZ,IAAA,KAAAA,EAAAxD,KAAA,KAAA,gBAAAwD,GAAAxD,KAAAwD,EAAAxD,KAAAA,GAAA,GACAA,EAAA,MAGAoD,EAAAS,OAAAC,EAAAV,EAAAI,EAAApd,GAEA,YAAAod,IAAA3Z,EAAAxD,OAAA,WAAAmd,EAAAO,WACAla,EAAAmP,MAAA3H,IAAA+R,EAAAY,OAAA,WAAAR,EAAAO,UAGA,SAAAP,IAAA3Z,EAAAxD,OAAA,WAAAmd,EAAAS,QACApa,EAAAmP,MAAA3H,IAAA+R,EAAA,QAAAI,EAAAS,OAGA,SAAAT,IAAA3Z,EAAAxD,OAAA,WAAAmd,EAAAU,QACAra,EAAAmP,MAAA3H,IAAA+R,EAAA,QAAAI,EAAAU,OAGAd,EAAAe,KAAA/d,EAAAgE,EAAAuZ,GACAC,EACA,IAAAve,IAAAue,GACAR,EAAAgB,iBAAA/e,EAAAue,EAAAve,GAMA,OAFA+d,GAAAiB,KAAArE,GAEAoD,EAYA,QAAAU,GAAAV,EAAAI,EAAApd,GACA,MAAA,YACA,GAAAke,GAAAjd,KAAAG,MAAA,IAAAb,KAAA2d,QACAC,GAAA,IACAC,EAAApe,GAEA,IAAAke,GAAA,WAAAd,IACAe,EAAA,UACAf,EAAAiB,QAAA9a,MAAAhD,KAAA+d,EAAA/d,QAEA2d,GAAA,GAAA,SAAAd,KACAe,EAAA,QACAf,EAAAS,MAAAta,MAAAhD,KAAA+d,EAAA/d,QAGA,YAAA6c,KACAe,EAAAA,EAAAA,EAAA,WACAf,EAAAmB,SAAAhb,MAAAhD,MAAAA,KAAA2d,OAAA3d,KAAAie,WAAAje,QAGA4d,GACA1a,EAAAoY,SAAAE,OAAA,gBAAA/b,EAAAqR,cAAA,IAAA8M,EAAAnB,EAAAI,IAaA,QAAAkB,GAAAtB,GACA,GAMAna,GANA4b,EAAAzB,EAAA0B,kBAAA,gBACAlc,GACAwa,EAAAkB,OACAlB,EAAA2B,aACA3B,EAQA,QAJAyB,IAAA5b,EAAA4b,EAAA5b,MAAA,cACA4b,EAAA5b,EAAA,IAGA4b,GACA,IAAA,mBACAjc,EAAA,GAAA8X,KAAA3W,MAAAnB,EAAA,IAIA,MAAAA,GAaA,QAAA8a,GAAA1D,EAAArX,EAAAqc,GACA,GACA3f,GADA8G,EAAA6Y,IAAA,mBAAAC,UAAA,GAAAA,UAAA,GAAApC,GAGA,IAAA,mBAAAqC,OAAAlF,YAAAkF,MACA/Y,EAAAsG,OAAA9J,EAAAqX,EAAAA,EAAArX,UAEA,IAAA,mBAAAwc,OAAAnF,YAAAmF,MACAhZ,EAAAsG,OAAA9J,EAAAqX,EAAA,YAEA,IAAAA,YAAA3X,QAAA,cAAA+c,UAAApF,YAAAoF,UACA,IAAA/f,EAAA,EAAAA,EAAA2a,EAAAva,SAAAJ,EACAqe,EAAA1D,EAAA3a,IAAAsD,GAAA,IAAA,IAAAtD,EAAA,IAAA8G,OAGA,IAAAtC,EAAAxD,OAAA,SAAA2Z,GACA,IAAA3a,IAAA2a,GACA0D,EAAA1D,EAAA3a,GAAAsD,EAAAA,EAAA,IAAAsY,mBAAA5b,GAAA,IAAA4b,mBAAA5b,GAAA8G,OAIAA,GAAAsG,OAAA9J,EAAAqX,EAGA,OAAA7T,GAWA,QAAAkZ,GAAAlf,GACA,GAAAwE,GAAA,SAAA6Y,GACA,OAAA3Z,EAAAzD,KAAAod,IACA,IAAA,SACAA,EAAApd,KAAAD,CACA,MAGA,KAAA,SACAqd,GACApZ,IAAAoZ,EACApd,KAAAD,EAGA,MAEA,SACAqd,GACApd,KAAAD,GAMA,MAAAod,GAAAC,GAQA,OALAgB,GAAAre,EAAAgK,eAAA,EACAtG,EAAAoY,SAAAC,UAAA,gBAAA/b,EAAAsR,cAAA,SAAA6N,EAAA9B,GACA7Y,EAAA6Y,KAGA7Y,EA7SA,GAAA4a,GAAA5e,KACA6d,KACAvB,GAAA,CAsTAsC,GAAAhC,QAAAA,EAUAgC,EAAA/S,IAAA6S,EAAA,OAUAE,EAAAC,KAAAH,EAAA,QAUAE,EAAAE,IAAAJ,EAAA,OAUAE,EAAAG,IAAAL,EAAA,UAUAE,EAAAI,MAAAN,EAAA,SA7iJAxb,EAAAhF,SAAA,MAAA,GAAAiF,IA6JAD,EAAAhF,SAAA,SAAA,GAAA4F,IA0LAZ,EAAAhF,SAAA,QAAA,GAAA+G,IAwXA/B,EAAAhF,SAAA,SAAA,GAAA+H,IAmPA/C,EAAAhF,SAAA,QAAA,SAAAyH,EAAAoD,GACA,MAAA,IAAAe,GAAAnE,EAAAoD,KA8YA7F,EAAAhF,SAAA,WAAA,SAAAmN,GACA,MAAAA,aAAAD,GAAAC,EAAA,GAAAD,GAAAC,KAkUA,SAAAsD,GACAzL,EAAAhF,SAAA,MAAAyQ,GAWAzL,EAAAhF,SAAA,SAAA,SAAA2R,EAAAC,GACA,MAAAnB,GAAAiB,OAAAC,EAAAC,MAEA,GAAA7C,IAwPA/J,EAAAhF,SAAA,UAAA,GAAA+R,IAo+BA/M,EAAAhF,SAAA,QAAA,GAAAuT,IAUAvO,EAAAhF,SAAA,QAAA,SAAA8F,GACA,MAAA,SAAAd,GAAAA,EAAAmP,MAAA1N,MAAAX,IAAA,IA0qBAd,EAAAhF,SAAA,QAAA,GAAAyX,IAgRAzS,EAAAhF,SAAA,UAAA,GAAAib,IAoRAjW,EAAAhF,SAAA,WAAA,GAAAqc,IAgGArX,EAAAhF,SAAA,SAAA,GAAAud,IAwXAvY,EAAAhF,SAAA,OAAA,GAAA+d,MC98JA,SAAArZ,EAAAqc,GAEA,GAAAjd,GAAA,eAEA,iBAAAiB,SAAA,gBAAAA,QAAAic,QACAjc,OAAAic,QAAAD,IAEA,kBAAAE,SAAAA,OAAAC,IACAD,OAAAnd,EAAAid,IAGA,gBAAAC,SAAAA,QAAAtc,GAAAZ,GAAAid,KAGAjf,KAAA,WAEA,QAAAqf,KAuBA,QAAAC,GAAAC,GACA,MAAAC,GAAApW,QAAAmW,IAAA,EAWA,QAAAE,GAAAF,EAAAG,GACA,GAAAC,GAAAC,CAOA,OAJAF,KAAAJ,EAAAC,KAAA5V,EAAAkW,QAAAtgB,KAAAggB,KACAI,EAAA,IAGAA,EAAAJ,EAAAI,EAUA,QAAAG,GAAA7d,GACA,MAAA0H,GAAAoW,QAAAxgB,KAAA0C,GAAA6d,EAAA7d,EAAAnC,OAAA,EAAAmC,EAAAnD,OAAA,IAAAmD,EAWA,QAAA+d,GAAAT,EAAApT,GAMA,IALA,GACA8T,GADAhe,KAKAkK,EAAArN,QAIA,GAHAmhB,EAAA9T,EAAArK;AAGA,OAAAme,EAAAA,EAAAnhB,OAAA,GAAA,CAcA,GAAAmhB,IAAAV,EAEA,KAGAtd,GAAAqD,KAAA2a,OAlBAtW,GAAAuW,OAAA3gB,KAAA4M,EAAA,MAEA8T,EAAAA,EAAAngB,OAAA,EAAAmgB,EAAAnhB,OAAA,IAIAmD,EAAAqD,KAAA2a,GAIAhe,EAAAqD,KAAA6G,EAAArK,QAWA,OAAA2d,GAAAxd,EAAA2E,KAAA,KAUA,QAAAuZ,GAAAhU,GAIA,IAHA,GACAoT,GADAtd,EAAA,GAGAkK,EAAArN,QAGA,OAFAygB,EAAApT,EAAArK,SAIA,IAAA,IACA,KAGA,KAAA,IACA,IAAA,IACAG,EAAA6d,EAAA7d,GAAA4H,QAAA0V,GACA,MAGA,KAAA,IACA,IAAA,IACAtd,GAAA+d,EAAAT,EAAApT,EACA,MAGA,SACAlK,GAAAwd,EAAAF,EAAA,MAAApT,EAAA,IAKA,MAAAlK,GAUA,QAAAme,GAAAlZ,GACA,GACA5F,GADAW,IAIA,KAAAX,EAAA,EAAAA,EAAA4F,EAAApI,SAAAwC,EAEA,IAAAW,EAAAnD,QAAAwgB,EAAApY,EAAA5F,KAAAge,EAAArd,EAAAA,EAAAnD,OAAA,IACAmD,EAAAqD,KAAA4B,EAAA5F,IAIAW,EAAAA,EAAAnD,OAAA,IAAAoI,EAAA5F,EAIA,OAAAW,GAlKA,GAAA,mBAAAod,GAAA1d,UAAA0e,cAAArgB,eAAAqf,IACA,MAAAA,GAAA1d,UAAA0e,YAAA,GAAAhB,EAEAA,GAAA1d,UAAA0e,WAAArgB,IAEA,IAAAsgB,GAAAtgB,KACAwf,EAAA,aACAI,EAAA,IACAjW,GACAuW,OAAA,oBACAL,QAAA,+CACAE,QAAA,QAiKAO,GAAApR,QAAA,SAAAhI,GAEA,MAAAiZ,GAAAC,EAAAlZ,IAEA3D,QAAA,gBAAA,SAAAjB,EAAAie,GACA,GAAAN,GAAA,MAAAM,EAAA,KAAA,IAGA,OAAAje,GAAA,KAAA2d,EAAA,GAAAA,EAAA,GAAAH,EAAAxd,GAAA2d,EAAA,GAAA3d,KAYAge,EAAAld,MAAA,SAAA8D,GACA,MAAA6S,MAAA3W,MAAAkd,EAAApR,QAAAhI,KAKA,MAAAmY,KAIA,SAAAmB,EAAAvB,GACA,YAOA,SAAAwB,KAUA,QAAApiB,KACA,MAAAqiB,MAOAC,EAAA,GAAAtB,eAGAuB,GACAC,UACAC,QAAA,EACAC,UAAA,aAEAC,aACAC,IAAAT,EAAAU,uBAAA,SAAAhY,GACA3E,WAAA2E,EAAA,MAKAkE,SAAAmH,iBAAA,mBAAA,WAEA5P,IAIAic,EAAAjc,OAAA,IACA,OAGAsa,GAAA+B,IA/BAzc,WAAA,WACAI,EAAA,wBACA,GAsCA,QAAA+b,KACA,GAAAze,IAAA,CAMA,OAJAA,GAAAA,GAAA,oBAAAmL,UACAnL,EAAAA,GAAA,oBAAA0J,QACA1J,EAAAA,GAAA,4BAAA0J,QAYA,QAAAwV,GAAAtb,GACA,MAAAnE,OAAAC,UAAAC,MAAAC,KAAAgE,GAUA,QAAAlB,GAAA2Y,EAAAnR,GACA,GAAA3K,IAAA8b,EAAA8D,EAIA,IAFAjV,EAAAA,GAAAyU,GAAA,SAAAA,GAAAA,EAAAjc,OAAA,EAGA,IAAA,GAAArD,GAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACA6K,EAAA7K,GAAA0B,MAAA,KAAAxB,EAIA,OAAA4f,GAWA,QAAAJ,GAAAhf,EAAAgC,GAKA,MAJAA,KACA4c,EAAAI,UAAAhf,GAAAgC,GAGAhC,IAAA4e,GAAAI,UAMAJ,EAAAI,UAAAhf,GALA,WACAe,QAAAua,MAAA,4BAAAtb,EAAA,MAcA,QAAAqf,GAAA7T,GAKA,IAJA,GAEAU,GAFAjM,KACAqf,EAAAlU,SAAAmU,iBAAA/T,EAAAgU,WAAAC,UAAA,MAAA,GAGAvT,EAAAoT,EAAAI,YACAzf,EAAAqD,KAAA4I,EAGA,OAAAjM,GAUA,QAAA0f,GAAAnU,GACA,GACArB,GAAA7K,EADAW,IAGA,QAAAuL,EAAA+B,UACA,IAAA,IACA,IAAAjO,EAAA,EAAAA,EAAAkM,EAAAoU,WAAA9iB,SAAAwC,EACAW,EAAAA,EAAA4H,OAAA8X,EAAAnU,EAAAoU,WAAAtgB,IAGA,MAEA,KAAA,GACAkM,EAAAuK,aAAA6I,EAAAC,SAAAE,YACA9e,EAAAqD,KAAAkI,EAGA,KAAA,GAEA,IADArB,EAAAqB,EAAAuC,iBAAA,IAAA6Q,EAAAC,SAAAE,UAAA,KACAzf,EAAA,EAAAA,EAAA6K,EAAArN,SAAAwC,EACAW,EAAAqD,KAAA6G,EAAA7K,IAMA,MAAAW,GAWA,QAAA4f,GAAA3T,GACA,GAAA5L,GAAA4L,EAAA4T,UAAAxf,MAAA,kBACAyf,EAAAzf,EAAA,IAAAA,EAAA+J,MAAA6B,EAAAA,EAAA8T,UAAA1f,EAAA+J,OAAA,KACA4V,EAAA3f,EAAAyf,EAAAC,UAAA1f,EAAA,GAAAxD,QAAA,KACAmD,EAAA8f,GAAAA,KAUA,OARAA,KACAA,EAAAG,SAAAH,EAAAD,WAGAG,IACAhgB,EAAAA,EAAA4H,OAAAgY,EAAAI,KAGAhgB,EAUA,QAAAkgB,GAAA3U,GACA,GAAAvL,KAMA,OAJAof,GAAA7T,GAAA4U,QAAA,SAAAlU,GACAjM,EAAAA,EAAA4H,OAAAgY,EAAA3T,MAGAjM,EAUA,QAAA4e,GAAAwB,GACA,GAAA3jB,EAEA,IAAA2jB,GAAA,gBAAAA,GACA,IAAA3jB,IAAA2jB,GACAzB,EAAAC,SAAAniB,GAAA2jB,EAAA3jB,EAIA,OAAAkiB,GAAAC,SAUA,QAAA3R,GAAAoT,GACA,GAGA7V,GAAAzI,EAHAue,GACAC,UAAA9N,YAAA,EAAAlI,OAAA,GAIA,IAAA,gBAAA8V,MAAA,YAAAA,IAAAA,EAAAE,UAAA,CACA,IAAA/V,IAAA6V,GAGA,kBAAAA,GAAA7V,IAAA,YAAA6V,GAAA7V,GAyBA,SAAA6V,GAAA7V,KAAA6V,EAAA7V,GAAA7J,SACA0f,EAAA7V,GAAA7J,MAAA0f,GAzBA,kBAAAA,GAAA7V,GACA8V,EAAA9V,IACAiI,YAAA,EACA+N,UAAA,EACAjW,MAAA8V,EAAA7V,IAGA,gBAAA6V,GAAA7V,IAAA6V,EAAA7V,YAAA/K,QAQAsC,EAAAmO,EAAAmQ,EAAA7V,GAAA6V,GAEAC,EAAA9V,IACAiI,YAAA,EACA7I,IAAA7H,EACA2Q,IAAA3Q,IAZAue,EAAA9V,IACAiI,YAAA,EACA+N,UAAA,EACAjW,MAAA0C,EAAAoT,EAAA7V,IAkBAd,QAAA+W,iBAAAJ,EAAAC,GAGA,MAAAD,GAWA,QAAAK,GAAAL,EAAA7V,GACA,GACA8V,GAAAK,EADA3gB,GAAA,CAGA,IAAAwK,IAAA6V,GAEA,kBAAAA,GAAA7V,IAAA,WAAA6V,GAAA7V,GACAxK,EAAAqgB,EAAA7V,IAIA8V,EAAA5W,OAAAkX,yBAAAP,EAAA7V,GACAxK,EAAAsgB,EAAA1W,SAKA,IADA+W,EAAAnW,EAAArD,QAAA,KACAwZ,EAAA,GAAAnW,EAAA3M,OAAA,EAAA8iB,IAAAN,GACA,MAAAK,GAAAL,EAAA7V,EAAA3M,OAAA,EAAA8iB,IAAAnW,EAAA3M,OAAA8iB,EAAA,GAIA,OAAA3gB,GAWA,QAAAkQ,GAAAkH,EAAAzW,GACA,GAAAkgB,MACAC,KACAC,KACAxW,EAAAyW,EAAA5J,GACA6J,EAAA,WAWA,MAVAzhB,WAAA3C,QACAua,EAAA6J,EAAAC,SAAA1hB,UAAA,IACA+K,EAAAyW,EAAAjgB,MAAAJ,GAAAyW,EAAAyJ,EAAAC,EAAA,cAEAC,EAAAlkB,QACAkkB,EAAAZ,QAAA,SAAAzf,GACAA,EAAAK,MAAA,MAAAqW,MAIA7M,EAyFA,OArFA6M,aAAA3X,UACA,aAAA,OAAA,MAAA,OAAA,UAAA,QAAA,OAAA,SAAA,WAAA0gB,QAAA,SAAA3V,GACA,kBAAA4M,GAAA5M,KACA4M,EAAA,IAAA5M,GAAA4M,EAAA5M,GACA4M,EAAA5M,GAAA,WACA,GAAAxK,GAAAoX,EAAA,IAAA5M,GAAAzJ,MAAAqW,EAAA5X,UASA,OANA4X,GAAA+I,QAAA,SAAA9V,EAAAD,GACAgN,EAAAhN,GAAA6C,EAAA5C,KAGA2W,EAAAjgB,MAAAJ,GAAAyW,EAAAyJ,EAAAC,EAAAtW,IAEAxK,MAKAoX,EAAA+I,QAAA,SAAA9V,EAAAD,GACAgN,EAAAhN,GAAA6C,EAAA5C,MAKA4W,EAAAC,SAAA,SAAA9J,GACA,GAAA1W,EASA,OAPA,kBAAA0W,KACA1W,EAAA0W,EACAA,EAAA,WACA,MAAA4J,GAAAjgB,MAAAJ,GAAAD,EAAAK,MAAA,KAAAvB,WAAAqhB,EAAAC,EAAA,eAIA1J,GAIA6J,EAAAtgB,MAAA,WAKA,OAJAA,GAAAnB,UAAA3C,SACA8D,EAAAnB,UAAA,IAGAmB,GAIAsgB,EAAA1V,QAAA,WACA,GAAArB,EAEA,OAAA1K,WAAA3C,QACAqN,EAAAgV,EAAA1f,WAEA0K,EAAAiW,QAAA,SAAAgB,GACAC,EAAAD,EAAAF,KAGAD,EAAAjgB,MAAAJ,GAAAyW,EAAAlN,EAAAhO,OAAA,YACA2kB,EAAAA,EAAAjZ,OAAAsC,GAMA+W,GAHAJ,GAOAI,EAAAI,OAAA,WAGA,MAFAN,GAAAA,EAAAnZ,OAAAsX,EAAA1f,YAEAyhB,GAIAA,EAAA3H,UAAA,WAGA,MAFAwH,GAAAA,EAAAlZ,OAAAsX,EAAA1f,YAEAyhB,GAIAA,EAAAC,SAAA9J,GAEA6J,EAaA,QAAAD,GAAA5J,EAAAyJ,EAAAS,EAAAvhB,GACA,GAEA8f,GAFAtV,EAAA,kBAAA6M,GAAAA,IAAAA,EACAiJ,EAAAtiB,IAwBA,OArBAujB,IACAA,EAAAnB,QAAA,SAAAoB,GACA,GAAAvhB,GAAAuhB,EAAAxgB,MAAA,MAAAwJ,EAAA8V,EAAAtgB,GAEA7D,UAAA8D,IACAuK,EAAAvK,KAKA6gB,IACAhB,EAAA,GAAAtV,EACAsW,EAAAV,QAAA,SAAA5U,GACAsU,IAAAtU,EAAAsU,WACAlB,EAAAK,IAAAje,MAAAwd,GAAA,WACAhT,EAAAsU,UAAAA,QAMA,kBAAAzI,GAAAA,EAAA7M,EAYA,QAAAiX,GAAA/Q,EAAAlG,GACA,GAAA9I,GAAAgP,IACAjT,QAAAiE,EAMA,QAJA,WAAAjE,IACAA,EAAAA,YAAAiC,OAAA,QAAAjC,GAGAA,GACA,IAAA,WACAiE,IAAA8I,GACAkG,EAAAlG,EAEA,MAEA,KAAA,UACA9I,KAAA8I,GACAkG,GAAAlG,EAEA,MAEA,KAAA,YACA9I,KAAA8I,GACAkG,IAAAlG,EAEA,MAEA,KAAA,SAEA,QACA9I,IAAA8I,GACAkG,EAAAlG,IAcA,QAAA6W,GAAAK,EAAAhR,GACA,GAAA4I,EAEA,aAAAsF,KACAA,EAAAtF,SAAAkF,EAAAmD,kBAAAnD,EAAAoD,yBAAA,EACAhD,EAAAiD,oBACAC,eAAA,EACAC,uBAAA,IAIAnD,EAAAtF,UACAA,EAAA,GAAAsF,GAAAtF,SAAA,SAAA0I,GACAA,EAAA5B,QAAA,SAAA6B,GACAR,EAAA/Q,EAAAuR,EAAA9W,OAAA2U,eAIAxG,EAAA+H,QAAAK,EAAA9C,EAAAiD,qBAEAH,EAAAnP,kBACAmP,EAAAnP,iBAAA,2BAAA,SAAAvO,GACAA,EAAAke,UACAT,EAAA/Q,EAAA1M,EAAAke,YAriBA,GACAvD,GAAAC,EADAQ,EAAAphB,IAmjBAohB,GAAAzc,MAAA,WACA,GAAAnD,GAAA2f,EAAA1f,UAKA,IAHAmf,IACAA,MAEA,SAAAA,IAGA,GAAAA,EAAAjc,SAAA,EACA,MAAAA,GAAAnD,OAHAof,GAAAjc,QAQA,OAFAic,GAAAjc,MAAAic,EAAAjc,MAAAkF,OAAArI,GAEA4f,GAaAA,EAAA+C,IAAA,WACA,GAGAjW,GAHA1M,EAAA2f,EAAA1f,WACA6gB,EAAA,gBAAA9gB,GAAA,IAAA,YAAAA,GAAA,MAAAA,EAAAM,QACAugB,EAAAxB,EAAArf,EAAA1C,OAAA,GAAA,gBAAA0C,GAAAA,EAAA1C,OAAA,MAAA,YAAA0C,GAAAA,EAAA1C,OAAA,IAAA0C,EAAA0P,SAGA1P,GAAA1C,QAAA,GACA0C,EAAA8D,KAAA8H,SAAAkC,MAGAgT,EAAApT,EAAAoT,GAEA,QAAA1B,KACAA,EAAAwD,SAEAxD,EAAAwD,KAAA9e,MAAAgd,MAAAA,EAAAnV,OAAA3L,EAAAI,SAEA,MAAAJ,EAAA1C,QACAoP,EAAA1M,EAAAM,QAEAqgB,EAAAjU,GACAkU,QAAA,SAAAsB,GACA,GAAAW,GAAAX,EAAA5B,UAAAhiB,OAAA,EAAA4jB,EAAA5B,UAAAhjB,OAAA,GAAAyD,MAAA,KACAkK,EAAA4X,EAAAviB,QACAwiB,EAAAD,EAAAvlB,OAAAulB,EAAAzd,KAAA,KAAA,GACA2d,EAAA5B,EAAAL,EAAA7V,EAEA8X,GACAA,KACAA,EAAAD,GAGAjC,EAAAvB,SACAyD,EAAApS,EAAAmS,EAAAhC,GACA3W,OAAAC,eAAA0W,EAAA7V,GACAiI,YAAA,EACA7I,IAAA0Y,EACA5P,IAAA4P,KAKAA,GACAA,EAAA/W,QAAAkW,KAKA/B,EAAAzT,GACAkU,QAAA,SAAAjV,GACA,GAAA0P,EAEAzP,UAAAkC,KAAApK,SAAAiI,KACA0P,EAAA8D,EAAAvd,MAAA+J,EAAAqC,aAAAoR,EAAAC,SAAAE,YAEA,gBAAAlE,IACAlR,OAAAF,KAAAoR,GACAuF,QAAA,SAAA3V,GACA,GAAA+X,GAAAxD,EAAAvU,EAEA+X,GAAArX,EAAAmV,EAAAzF,EAAApQ,GAAAkW,OASA,OAAAL,IASAlB,EAAAP,SAAA,SAAAwB,GAKA,MAJAA,IAAA,gBAAAA,KACAzB,EAAAC,SAAAA,EAAAwB,IAGAzB,EAAAC,UAUAO,EAAAjP,SAAAA,EACAiP,EAAAjP,SAAAtG,IAAA8W,EAUAvB,EAAAJ,UAAAA,EASAI,EAAAgD,KAAA,SAAA5W,GACA,GAAAvL,MACAwiB,GAAAjX,EAEA,IAAA,QAAAoT,GAAA,CAEA,KAAA6D,EAAAA,EAAA3lB,OAAA,GAAA2O,YACAgX,EAAAnf,KAAAmf,EAAAA,EAAA3lB,OAAA,GAAA2O,WAIAmT,GAAAwD,KAAAhC,QAAA,SAAA+B,GACA,GAAAhY,GAAAgY,EAAAhX,OAAAT,OAAA,SAAAwB,GACA,MAAAuW,GAAArb,QAAA8E,IAAA,GAGA/B,GAAArN,QACAmD,EAAAqD,KAAA6e,EAAA7B,SAKA,MAAArgB,IAIA5D,IAIAmiB,EAAAY,KAAA,GAAAX,IAEAzgB,KAAA,SAAA9B,GAIAA,EAAA,YAAA,SAAAsP,EAAA8U,EAAAzF,EAAAnK,GACA,YAEA,SAAAuQ,GAAAxW,EAAAD,GACAA,EACAgB,EAAAO,aAAAtB,EAAAD,GAGAgB,EAAAkX,gBAAAjY,GAIAd,OAAAF,KAAAoR,GACAuF,QAAA,SAAA3V,GACA,GAAA8X,GAAA7R,EAAA4P,EAAAzF,EAAApQ,GAGA8X,IAEAA,EAAAhJ,UAAA,SAAA/O,GACAgB,EAAAgC,aAAA/C,KAAAD,GACAyW,EAAAxW,EAAAD,KAMAyW,EAAAxW,EAAA6V,EAAAzF,EAAApQ,SAOAvO,EAAA,QAAA,SAAAsP,EAAA8U,EAAAzF,EAAAnK,GACA,YAEA/G,QAAAF,KAAAoR,GACAuF,QAAA,SAAA3V,GACA,GAsBA9C,GAtBA4a,EAAA7R,EAAA4P,EAAAzF,EAAApQ,IACAkY,EAAA,SAAAnY,GACA,GAAAL,EAEA,cAAAqB,GACAA,EAAAgK,UAAAhL,EAAA,MAAA,UAAAC,IAKA9C,IACAA,EAAA,GAAAC,QAAA,aAAA6C,EAAA,aAGAN,EAAAqB,EAAA8J,UAAA/T,QAAAoG,EAAA,SAAArH,EAAAsiB,GACA,MAAAA,IAAA,KAGApX,EAAA8J,UAAAnL,GAAAK,EAAA,IAAAC,EAAA,KAOA8X,IAEAA,EAAAhJ,UAAAoJ,GAIAA,EAAArC,EAAAzF,EAAApQ,SAOAvO,EAAA,OAAA,SAAAsP,EAAA8U,EAAA7V,EAAAiG,GACA,YAEA,IAAA6R,GAAA7R,EAAA4P,EAAA7V,GACAiX,EAAAlW,EAAAgJ,YAAA,IAAAhJ,EAAAgJ,WAAAjH,SAAA/B,EAAAgJ,WAAApJ,SAAAY,eAAAuW,EAAAA,IAAA,IACAI,EAAA,WACAjB,EAAAjW,aAAAD,IACAA,EAAAgJ,WACAhJ,EAAAiJ,aAAAiN,EAAAlW,EAAAgJ,YAGAhJ,EAAAF,YAAAoW,IAKAa,KACAA,EAAAhJ,UAAAoJ,GACAJ,EAAA/W,QAAAkW,IAGAiB,EAAArC,EAAA7V,MAKAvO,EAAA,OAAA,SAAAsP,EAAA8U,EAAA7V,EAAAiG,GACA,YAuBA,SAAAmS,GAAA5iB,GACA,GAAAe,EAmBA,QAjBA,MAAA,UAAAof,QAAA,SAAAtf,GACAA,IAAA2J,KACAzJ,EAAAyJ,EAAA3J,YAAApB,OAAA+K,EAAA3J,IAAA2J,EAAA3J,IACAE,EAAAof,QAAA,SAAApgB,GACA,GAAA,kBAAAsgB,GAAAtgB,GACAC,EAAAA,EAAAa,GAAAwf,EAAAtgB,QAEA,CAAA,GAAA,kBAAA/D,QAAA+D,GAIA,KAAA,IAAA8iB,OAAA9iB,EAAA,aAAAc,EAAA,YAHAb,GAAAA,EAAAa,GAAA7E,OAAA+D,UASAC,EAGA,QAAAghB,KACA,GAAA3b,GAAA8F,SAAA2X,yBACAX,KACA/Y,EAAAiX,EAAAnV,EA2BA,KAzBA,gBAAAV,KACApB,EAAAwZ,EAAAxZ,IAGAA,EAAA+W,QAAA,SAAA5V,EAAAH,GACA,GAEA/K,GAFAgL,EAAA,gBAAAE,GAAAA,KACAhL,GAAA8K,EAOA,KAJAA,EAAA0Y,MAAAxY,EACAF,EAAA2Y,QAAA3C,EAAA7V,GACAH,EAAA4Y,OAAA7Y,EAEA/K,EAAA,EAAAA,EAAA6jB,EAAArmB,SAAAwC,EACAE,EAAA8D,KAAAgC,EAAAgG,YAAA6X,EAAA7jB,GAAA8jB,WAAA,IAKAhB,GAAA9e,KAAA,WACA8b,KAAA+C,IAAAnhB,MAAAoe,KAAA5f,OAKAgM,EAAA6X,WACA7X,EAAA8X,YAAA9X,EAAA6X,UAEA7X,GAAAF,YAAAhG,GAGA8c,EAAAhC,QAAA,SAAA+B,GACAA,MAjFA,GACAhX,GAAAoX,EADAY,IAGA,IAAA,gBAAA1Y,IAGA,GAFAU,EAAAV,EAAAU,SAAA,GAEAA,EACA,KAAA,IAAA2X,OAAA,iCAIA3X,GAAAV,CAMA,KAHA8X,EAAA7R,EAAA4P,EAAAnV,GAGAK,EAAAgJ,YACA2O,EAAA7f,KAAAkI,EAAA8X,YAAA9X,EAAAgJ,YAAA4O,WAAA,GAmEAb,GAAAhJ,UAAA,WACA0H,MAGAA,MAKA/kB,EAAA,QAAA,SAAAsP,EAAA8U,EAAAzF,EAAAnK,GACA,YAEA/G,QAAAF,KAAAoR,GACAuF,QAAA,SAAA3V,GAIA,IAHA,GAAAmK,GAAA,gBAAAiG,GAAApQ,GAAAoQ,EAAApQ,GAAAlK,MAAA,QACAK,EAAA0f,EAEA1L,EAAA9X,QACA8X,EAAA,IAAAhU,KACAA,EAAAA,EAAAgU,EAAA,KAGAA,EAAA9U,OAGA0L,GAAA+G,iBAAA9H,EAAA,SAAAzG,GACA,kBAAApD,GACAA,EAAAI,MAAAsf,GAAAtc,EAAAsc,EAAAzF,EAAApQ,KAEA,gBAAA7J,IAAAA,EAAAia,EAAApQ,aAAA/K,QACAiK,OAAAF,KAAAoR,EAAApQ,IACA2V,QAAA,SAAAmD,GACA,GAAAhB,GAAAgB,IAAA3iB,GAAA8P,EAAA9P,EAAA2iB,GAAA,IAEAhB,IACAA,EAAA1H,EAAApQ,GAAA8Y,QAKA,OAOArnB,EAAA,QAAA,SAAAsP,EAAA8U,EAAA7V,EAAAiG,GAIA,QAAAjT,GAAAyO,GACA,MAAA,QAAAA,GAAAA,EAAAzO,KAAA,WAAAF,KAAA2O,EAAAN,UAAA,WAAAM,EAAAsX,SAAA,WAAA,OAAA,OAGA,QAAA/K,GAAAnP,GAYA,MAXAA,KAAAtH,KACAA,EAAAsH,IACAgX,MAAA,WACAiC,EAAA/W,EAAAlC,KAEAkC,QAAA,SAAAhB,GACAgB,EAAAlC,GAAAkB,KAKAxI,EAAAsH,GAGA,QAAAma,KACA,GAAAC,GAAA,WAAAjZ,IAAAD,MAAA,KAAAmZ,MAAAlZ,EAAA,aAAA,EACAwW,EAAA,WACA,GAAA2C,GAAA,CAEA,YAAAnZ,IAAAA,EAAA4V,UAAAC,KACAoD,IACAlY,EAAA6U,QAAAuD,GAAA,GAAAC,QAAAH,EAAAC,MAAAD,EAAAlZ,SACAoZ,GAGApY,EAAA6U,QAAAvjB,OAAA8mB,EAEA,gBAAAtD,GAAA7V,EAAA4V,WACAC,EAAA7V,EAAA4V,kBAAA3gB,OACA4gB,EAAA7V,EAAA4V,SACAD,QAAA,SAAA5V,EAAAH,GACA,gBAAAG,GACAgB,EAAA6U,QAAAhW,EAAAuZ,GAAA,GAAAC,QAAArZ,EAAAmZ,OAAAnZ,EAAAA,OAAA,GAAAA,EAAAA,OAAA,IAGAgB,EAAA6U,QAAAhW,EAAAuZ,GAAA,GAAAC,QAAArZ,KAMAb,OAAAF,KAAA6W,EAAA7V,EAAA4V,UACAD,QAAA,SAAA5V,EAAAH,GACAmB,EAAA6U,QAAAhW,EAAAuZ,GAAA,GAAAC,QAAAvD,EAAA7V,EAAA4V,SAAA7V,GAAAA,OAOAgB,EAAA6U,QAAAvjB,QAAAylB,GACAA,EAAA/W,EAAA6U,QAAA7U,EAAAsY,eAAAtZ,QAGAoD,EAAA,SAAApD,GACA,GAAAlL,EAEA,KAAAA,EAAA,EAAAA,EAAAkM,EAAA6U,QAAAvjB,SAAAwC,EACAkL,YAAA9K,OACA8L,EAAA6U,QAAA/gB,GAAAykB,SAAAvZ,EAAApD,QAAAoE,EAAA6U,QAAA/gB,GAAAkL,QAAA,EAGAgB,EAAA6U,QAAA/gB,GAAAykB,SAAAvY,EAAA6U,QAAA/gB,GAAAkL,QAAAA,GAIAwZ,EAAA,WAAAvZ,GAAAiG,EAAA4P,EAAA7V,EAAA4V,UAAA,EACAkC,EAAA,SAAA9X,GAAAiG,EAAA4P,EAAA7V,EAAAD,QAAA,EACA8X,EAAAC,EAAAA,IAAA,IAEAyB,IACAA,EAAAzK,UAAA,SAAA0K,GACAhD,OAIAsB,GAAA,SAAA9X,KACA8X,EAAAnD,KAAAjP,SAAA3E,EAAAuK,aAAA,eAAA,IACApM,OAAAC,eAAA0W,EAAA7V,EAAAD,OACAkI,YAAA,EACA7I,IAAA0Y,EACA5P,IAAA4P,KAIAA,IACAD,YAAA5iB,OACA8L,EAAAO,aAAA,WAAA,IAGAP,EAAAkX,gBAAA,YAGAlX,EAAA+G,iBAAA,SAAA,SAAAvO,GACAwH,EAAA6U,QAAAvjB,QACAylB,EAAA/W,EAAA6U,QAAA7U,EAAAsY,eAAAtZ,SAEA,GACA+X,EAAAhJ,UAAA3L,KAGAoW,GAAAzB,KACAtB,IACArT,EAAA0U,IA/GA,GACAhZ,GAAAiZ,EADAvgB,IAmHA,QAAAvE,EAAA+N,IACA,IAAA,WACA,IAAA,QACAlC,EAAA,SACA,MAEA,KAAA,SACA,IAAA,aACA,IAAA,kBAEAma,GACA,MAEA,SACAna,EAAA,QAIAA,IACAiZ,EAAA7R,EAAA4P,EAAA7V,EAAAnB,IACAiZ,IACA/W,EAAA+G,iBAAA,QAAAkG,EAAAnP,GAAAgX,OAAA,GACA9U,EAAA+G,iBAAA,SAAAkG,EAAAnP,GAAAgX,OAAA,GACAiC,EAAAhJ,UAAAd,EAAAnP,GAAAkC,SAEAA,EAAAlC,GAAAiZ,UCz0CAhmB,GAAAoG,MAAA,WACA,YAEA,IAKAwH,GAAA6I,EAAAkR,EALA5I,EAAA,SAAAK,EAAAwI,EAAA1J,GACA1Z,QAAAua,MAAAK,EAAAwI,IAEA/jB,EAAA,KACAgkB,EAAA,QAAAhkB,EAAA,OAoBA7D,IAAA8T,MAAA3H,IAAA,gBAAA,QAAA,eAAA,SAAA2H,GACA,GAAAlF,GAAAnN,KACA8X,EAAA3K,EAAAwU,WAAA,WAAAnV,KA6BA,OA3BA6F,GAAAgU,mBAEAC,QAAA1I,OAAA,MAAA0I,SAAA1I,OAAA0I,QAAA1I,MAAA9F,KAAAA,IACAwO,QAAAC,WAAAzO,GAAAA,GAAA,OAAA3K,EAAAxJ,KAAAJ,QAAAtF,OAAAoF,SAAAM,KAAA,KAGApF,GAAAqgB,KAAA/S,KACApI,IAAA2iB,EAAA,IAAAtO,EACAgG,QAAA,SAAAH,EAAAwI,EAAA1J,GACAyJ,EAIAva,OAAAF,KAAA0a,EAAAlkB,QAAAmgB,QAAA,SAAA3V,GACAyZ,EAAAzZ,GAAA0Z,EAAAlkB,OAAAwK,KAJAyZ,EAAA9E,KAAA+C,IAAAgC,EAAAlkB,OAAA+S,GAQAzW,GAAA6P,MAAAgJ,SAAAhK,SAAAC,cAAA,gBAAA,UAEA2H,EAAA5G,MAAAI,QAAA,QACArC,EAAAiC,MAAAI,QAAA,QAGA8O,MAAAA,KAGA,IAGA/e,GAAAqgB,KAAA/S,KACApI,IAAA,mBACAqa,QAAA,SAAAH,EAAAwI,EAAA1J,GACArP,SAAAC,cAAA,iBAAA+C,WAAA+V,EAEAha,EAAAiB,SAAAC,cAAA,cACA2H,EAAA5H,SAAAC,cAAA,sBAEA2H,EAAA5G,MAAAI,QAAA,OAEAjQ,GAAAqgB,KAAA/S,KACApI,IAAA2iB,EACAtI,QAAA,SAAAH,EAAAwI,EAAA1J,GACA,GAAA+J,EAEApF,MAAA+C,KAAAsC,MAAAN,EAAAlkB,QAAAkK,GAEA,MAAAlO,OAAAoF,SAAAqjB,UAAA,QAAAF,EAAApZ,SAAAC,cAAA,WAAApP,OAAAoF,SAAAqjB,SAAA,SACAJ,QAAAK,aAAA,KAAA,GAAA,KACA1oB,OAAAoF,SAAAM,KAAA,QAGA6iB,IACAA,EAAAI,QACAza,EAAAiC,MAAAI,QAAA,SAIA8O,MAAAA,KAIAA,MAAA,SAAAK,EAAAwI,EAAA1J,OAKAxe,OAAA4oB,WAAA,SAAAxU,GACA,MAAAA,GAAAuL,OAAA,gBAAAvL,GAAAuL,OAAA,MAAAvL,GAAAuL,MASAxQ,SAAAC,cAAA,yBAAAgF,EAAAuL,MAAA9F,GAAA,MAAA8O,SARAza,EAAAiC,MAAAI,QAAA,QACAwG,EAAA5G,MAAAI,QAAA,OAEAjQ,GAAA6P,MAAAmJ,YAAAnK,SAAAC,cAAA,gBAAA,WAEA,IAMA+T,KAAAJ,UAAA,OAAA,SAAAxT,EAAA8U,EAAA7V,EAAAiG,GACA,GAAA6R,GAAA7R,EAAA4P,EAAA7V,GACA0Y,EAAA/X,SAAAU,cAAA,OACA6W,EAAA,SAAAnY,GACA2Y,EAAA/U,UAAA5D,EAGAgB,GAAAF,YAAA6X,GAEAZ,GACAA,EAAAhJ,UAAAoJ,GAGAA,EAAArC,EAAA7V","file":"combined.min.js","sourcesContent":["/*\n *       __    Konflux (version 1.0.0-alpha.59 - 2015-10-02) - a javascript helper library\n *      /\\_\\\n *   /\\/ / /   Copyright 2012-2015, Konfirm (Rogier Spieker)\n *   \\  / /    Released under the MIT license\n *    \\/_/     More information: http://konfirm.net/konflux\n *\n *  Contributors:\n *  - Daan van Ham <daan@vanham.io>\n *  - Paul den Otter <pauldenotter@gmail.com>\n */\n\n;(function(window, register, undefined) {\n\t'use strict';\n\n\t/*\n\t *  BUILD INFO\n\t *  ---------------------------------------------------------------------\n\t *    date: Fri Oct 02 2015 10:26:02 GMT+0200 (CEST)\n\t *    time: 27.74ms\n\t *    size: 135.72KB\n\t *  ---------------------------------------------------------------------\n\t *   files: included 14 files\n\t *     +2.02KB src/core/url\n\t *     +3.35KB src/core/timing\n\t *     +3.81KB src/core/array\n\t *     +9.57KB src/core/string [uses: array]\n\t *     +5.63KB src/core/point\n\t *    +10.22KB src/core/iterator [uses: array]\n\t *     +9.38KB src/core/dom [uses: iterator, style]\n\t *     +7.45KB src/core/browser [uses: string]\n\t *    +34.34KB src/core/event [uses: browser, dom, iterator, point, string, style]\n\t *    +18.22KB src/core/style [uses: array, browser, event, string, url]\n\t *     +5.73KB src/core/storage [uses: string]\n\t *     +6.62KB src/core/observer [uses: array]\n\t *     +2.89KB src/core/number [uses: string]\n\t *     +8.97KB src/core/ajax [uses: event, observer, string, url]\n\t */\n\n\tvar version = '1.0.0-alpha.59 - 2015-10-02 - 5203429';\n\n\t/**\n\t *  The Konflux object\n\t *  @name    Konflux\n\t *  @type    constructor function\n\t *  @access  internal\n\t *  @return  object   konflux\n\t *  @note    konflux is available both as (window.)konflux and (window.)kx\n\t */\n\tfunction Konflux() {\n\t\t/*jshint validthis: true*/\n\t\tvar kx = this,\n\t\t\tcounter = 0,\n\t\t\ttimestamp;\n\n\t\tfunction init() {\n\t\t\ttimestamp = kx.time();\n\t\t}\n\n\t\t/**\n\t\t *  Verify whether given argument is empty\n\t\t *  @name    empty\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed variable to check\n\t\t *  @return  bool  empty\n\t\t *  @note    The function follows PHP's empty function; null, undefined, 0, '', '0', {}, [] and false are all considered empty\n\t\t */\n\t\tfunction empty(p) {\n\t\t\tvar types = {\n\t\t\t\t\tarray:   function(a) {\n\t\t\t\t\t\treturn a.length > 0;\n\t\t\t\t\t},\n\n\t\t\t\t\tobject:  function(o) {\n\t\t\t\t\t\tfor (o in o) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\n\t\t\t\t\tboolean: function(b) {\n\t\t\t\t\t\treturn b;\n\t\t\t\t\t},\n\n\t\t\t\t\tnumber:  function(n) {\n\t\t\t\t\t\treturn n !== 0;\n\t\t\t\t\t},\n\n\t\t\t\t\tstring:  function(s) {\n\t\t\t\t\t\treturn !/^0?$/.test(s);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tt = kx.type(p);\n\n\t\t\tif (isType('function', types[t]) && types[t](p)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n\t\t *  Test the type of given variable\n\t\t *  @name    isType\n\t\t *  @type    method\n\t\t *  @access  internal\n\t\t *  @param   string type\n\t\t *  @param   mixed  variable\n\t\t *  @return  bool   is type\n\t\t */\n\t\tfunction isType(type, variable) {\n\t\t\tvar full = kx.type(variable),\n\t\t\t\tcheck = type && type.length ? full.substr(0, type.length) : null;\n\n\t\t\tif (check !== type) {\n\t\t\t\tswitch (full) {\n\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tcheck = kx.type(variable, true).substr(0, type.length);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\tcheck = (parseInt(variable, 10) === variable ? 'integer' : 'float').substr(0, type.length);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn check === type;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the milliseconds since the UNIX Epoch (Jan 1, 1970 00:00:00.000)\n\t\t *  @name    time\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  int milliseconds\n\t\t */\n\t\tkx.time = function() {\n\t\t\treturn Date.now ? Date.now() : (new Date()).getTime();\n\t\t};\n\n\t\t/**\n\t\t *  Obtain the elapsed time since Konflux started (roughly), using the format: [Nd] hh:mm:ss.ms\n\t\t *  @name    elapsed\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  string formatted time\n\t\t */\n\t\tkx.elapsed = function() {\n\t\t\tvar day = 86400000,\n\t\t\t\thour = 3600000,\n\t\t\t\tminute = 60000,\n\t\t\t\tdelta = Math.abs((new Date()).getTime() - timestamp),\n\t\t\t\tdays = Math.floor(delta / day),\n\t\t\t\thours = Math.floor((delta -= days * day) / hour),\n\t\t\t\tminutes = Math.floor((delta -= hours * hour) / minute),\n\t\t\t\tseconds = Math.floor((delta -= minutes * minute) / 1000),\n\t\t\t\tms = Math.floor(delta -= seconds * 1000),\n\t\t\t\tzero = '000';\n\n\t\t\treturn (days > 0 ? days + 'd ' : '') +\n\t\t\t\t\t(zero + hours).substr(-2) + ':' +\n\t\t\t\t\t(zero + minutes).substr(-2) + ':' +\n\t\t\t\t\t(zero + seconds).substr(-2) + '.' +\n\t\t\t\t\t(zero + ms).substr(-3);\n\t\t};\n\n\t\t/**\n\t\t *  Obtain an unique key, the key is guaranteed to be unique within the browser runtime\n\t\t *  @name    unique\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  string key\n\t\t */\n\t\tkx.unique = function() {\n\t\t\treturn (++counter + kx.time() % 86400000).toString(36);\n\t\t};\n\n\t\t/**\n\t\t *  Shorthand method for creating a combined version of several objects\n\t\t *  @name    combine\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object variable1\n\t\t *  @param   object ...\n\t\t *  @param   object variableN\n\t\t *  @return  function constructor\n\t\t */\n\t\tkx.combine = function() {\n\t\t\tvar obj = {},\n\t\t\t\targ = arguments,\n\t\t\t\ti, p;\n\n\t\t\tfor (i = 0; i < arg.length; ++i) {\n\t\t\t\tif (kx.isType('object', arg[i])) {\n\t\t\t\t\tfor (p in arg[i]) {\n\t\t\t\t\t\tobj[p] = p in obj && kx.isType('object', obj[p]) ? kx.combine(arg[i][p], obj[p]) : arg[i][p];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t};\n\n\t\t/**\n\t\t *  Verify whether given arguments are empty\n\t\t *  @name    empty\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed variable1\n\t\t *  @param   mixed ...\n\t\t *  @param   mixed variableN\n\t\t *  @return  bool  variables are empty\n\t\t */\n\t\tkx.empty = function() {\n\t\t\tvar arg = Array.prototype.slice.call(arguments);\n\n\t\t\twhile (arg.length) {\n\t\t\t\tif (!empty(arg.shift())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\t/**\n\t\t *  Determine the type of given variable\n\t\t *  @name    type\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed  variable\n\t\t *  @param   bool   explicit types [optional, default undefined - simple types]\n\t\t *  @return  string type\n\t\t */\n\t\tkx.type = function(variable, explicit) {\n\t\t\tvar result = variable instanceof Array ? 'array' : (variable === null ? 'null' : typeof variable),\n\t\t\t\tname;\n\n\t\t\tif (explicit && result === 'object') {\n\t\t\t\tname = /(?:function\\s+)?(.{1,})\\(/i.exec(variable.constructor.toString());\n\n\t\t\t\tif (name && name.length > 1 && name[1] !== 'Object') {\n\t\t\t\t\treturn name[1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\t/**\n\t\t *  Test the type of given variable\n\t\t *  @name    isType\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string type\n\t\t *  @param   mixed  variable\n\t\t *  @return  bool   is type\n\t\t */\n\t\tkx.isType = isType;\n\n\t\t/**\n\t\t *  Obtain the konflux version info\n\t\t *  @name   version\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  bool   info [optional, default false - no build information]\n\t\t *  @return string version (object info if bool info is true)\n\t\t */\n\t\tkx.version = function(info) {\n\t\t\tvar match = version.split(' - '),\n\t\t\t\tprop = ['version', 'date', 'revision', 'type'],\n\t\t\t\tresult = {};\n\n\t\t\twhile (prop.length && match.length) {\n\t\t\t\tresult[prop.shift()] = match.shift();\n\t\t\t}\n\n\t\t\treturn info ? result : result.version;\n\t\t};\n\n\t\t/**\n\t\t *  Provide feedback about deprecated features, once (per function, per browser view)\n\t\t *  @name    deprecate\n\t\t *  @type    function\n\t\t *  @access  public\n\t\t *  @param   string   message\n\t\t *  @param   function callback\n\t\t *  @param   object   scope [optional, default undefined - no scope]\n\t\t *  @return  void\n\t\t */\n\t\tkx.deprecate = function(message, callback, scope) {\n\t\t\tvar shown;\n\n\t\t\treturn function() {\n\t\t\t\tvar method = ['info', 'warn', 'log'],\n\t\t\t\t\ti;\n\n\t\t\t\tif (!shown) {\n\t\t\t\t\tshown = true;\n\n\t\t\t\t\tfor (i = 0 ; i < method.length; ++i) {\n\t\t\t\t\t\t/*global console*/\n\t\t\t\t\t\tif (kx.isType('function', console[method[i]])) {\n\t\t\t\t\t\t\tconsole[method[i]](kx.elapsed() + ' DEPRECATED: ' + message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn callback.apply(scope || null, arguments);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t\t *  Register a module or function onto the kx object\n\t\t *  @name    register\n\t\t *  @access  public\n\t\t *  @param   string  name\n\t\t *  @param   mixed   value [one of: object (module) or function]\n\t\t *  @return  mixed   old value\n\t\t */\n\t\tkx.register = function(name, module) {\n\t\t\tvar result = false;\n\n\t\t\tif (kx.isType('function', module) || kx.isType('object', module)) {\n\t\t\t\tresult = name in kx ? kx[name] : null;\n\t\t\t\tkx[name] = module;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\tinit();\n\t}\n\n\t(function(konflux) {\n\t\t//  register object instances\n\t\tif (register) {\n\t\t\tregister(konflux);\n\t\t}\n\n\t\t//  make konflux available on the global (window) scope both as 'konflux' and 'kx'\n\t\twindow.konflux = window.kx = konflux;\n\t})(new Konflux());\n\n})(window, function(konflux) {\n\t//BEGIN INCLUDE: core/url\n\t/**\n\t *  Handle URL's/URI's\n\t *  @module  url\n\t *  @note    available as konflux.url / kx.url\n\t */\n\tfunction KonfluxURL() {\n\t\t/*jshint validthis: true*/\n\t\tvar url = this;\n\n\t\t/**\n\t\t *  Parse given URL into its URI components\n\t\t *  @name    parse\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string location\n\t\t *  @return  object result\n\t\t */\n\t\tfunction parse(location) {\n\t\t\t//  URL regex + key processing based on the work of Derek Watson's jsUri (http://code.google.com/p/jsuri/)\n\t\t\tvar match = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(location),\n\t\t\t\tprop = ['source', 'protocol', 'domain', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'],\n\t\t\t\tresult = {};\n\t\t\twhile (prop.length) {\n\t\t\t\tresult[prop.shift()] = match.length ? match.shift() : '';\n\t\t\t}\n\n\t\t\tif (result.query) {\n\t\t\t\tresult.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function(a, b, c) {\n\t\t\t\t\tif (konflux.isType('object', result.query)) {\n\t\t\t\t\t\tresult.query = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (b) {\n\t\t\t\t\t\tresult.query[b] = c;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  The parsed url for the URL of the current page\n\t\t *  @name    current\n\t\t *  @type    object\n\t\t *  @access  public\n\t\t */\n\t\turl.current = !konflux.isType('undefined', window.location.href) ? parse(window.location.href) : false;\n\n\t\t/**\n\t\t *  Parse given URL into its URI components\n\t\t *  @name    parse\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string url\n\t\t *  @return  object result\n\t\t */\n\t\turl.parse   = parse;\n\n\t\t/**\n\t\t *  Determine whether given URL is on the same domain as the page itself\n\t\t *  @name    isLocal\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string location\n\t\t *  @return  bool   local\n\t\t */\n\t\turl.isLocal = function(location) {\n\t\t\treturn url.current.domain === url.parse(location).domain;\n\t\t};\n\t}\n\n\tkonflux.register('url', new KonfluxURL());\n\n\t//END INCLUDE: core/url [726.34µs, 1.89KB]\n\t//BEGIN INCLUDE: core/timing\n\t/**\n\t *  Timing utils\n\t *  @module  timing\n\t *  @note    available as konflux.timing / kx.timing\n\t */\n\tfunction KonfluxTiming() {\n\t\t/*jshint validthis: true*/\n\t\tvar timing = this,\n\t\t\tstack = {};\n\n\t\t/*global KonfluxTimingDelay*/\n\n\t\t//BEGIN INCLUDE: timing/delay\n\t\t/**\n\t\t *  Delay object, instances of this are be provided for all KonfluxTimings\n\t\t *  @name    KonfluxTimingDelay\n\t\t *  @type    class\n\t\t *  @access  internal\n\t\t *  @param   function handle\n\t\t *  @param   Number   timeout\n\t\t *  @param   string   reference\n\t\t *  @return  KonfluxTimingDelay  object\n\t\t */\n\t\tfunction KonfluxTimingDelay(handler, timeout, reference) {\n\t\t\t//\n\t\t\t'use strict';\n\n\t\t\t/*jshint validthis: true*/\n\t\t\tvar delay = this,\n\t\t\t\ttimer, raf;\n\n\t\t\t/**\n\t\t\t *  Cancel the timer\n\t\t\t *  @name    cancel\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @return  void\n\t\t\t */\n\t\t\tfunction cancel() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Start the timer\n\t\t\t *  @name    start\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @return  void\n\t\t\t */\n\t\t\tfunction start() {\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\tif (!raf) {\n\t\t\t\t\t\traf = konflux.browser.feature('requestAnimationFrame') || function(ready) {\n\t\t\t\t\t\t\tsetTimeout(ready, 16);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\traf(cancel);\n\n\t\t\t\t\thandler.call();\n\t\t\t\t}, timeout);\n\t\t\t}\n\n\t\t\t//  expose\n\t\t\t/**\n\t\t\t *  Cancel the timer\n\t\t\t *  @name    cancel\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @return  void\n\t\t\t */\n\t\t\tdelay.cancel = cancel;\n\n\t\t\t/**\n\t\t\t *  Obtain the associated reference\n\t\t\t *  @name    reference\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @return  string reference\n\t\t\t */\n\t\t\tdelay.reference = function() {\n\t\t\t\treturn reference;\n\t\t\t};\n\n\t\t\tstart();\n\t\t}\n\n\t\t//END INCLUDE: timing/delay [733.16µs, 1.29KB]\n\t\t/**\n\t\t *  Remove timer object by their reference\n\t\t *  @name    remove\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string reference\n\t\t *  @return  void\n\t\t */\n\t\tfunction remove(reference) {\n\t\t\tif (typeof stack[reference] !== 'undefined') {\n\t\t\t\t//  cancel the stack reference\n\t\t\t\tstack[reference].cancel();\n\n\t\t\t\t//  delete it\n\t\t\t\tdelete stack[reference];\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Create a timer object to call given handler after given delay and store it with given reference\n\t\t *  @name    create\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   function handle\n\t\t *  @param   Number   delay\n\t\t *  @param   string   reference\n\t\t *  @return  KonfluxTimingDelay  object\n\t\t */\n\t\tfunction create(handler, delay, reference) {\n\t\t\tif (reference) {\n\t\t\t\tremove(reference);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treference = handler.toString() || konflux.unique();\n\t\t\t}\n\n\t\t\tstack[reference] = new KonfluxTimingDelay(handler, delay || 0, reference);\n\n\t\t\treturn stack[reference];\n\t\t}\n\n\t\t//  expose\n\t\t/**\n\t\t *  Remove timer object by their reference\n\t\t *  @name    remove\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string reference\n\t\t *  @return  void\n\t\t */\n\t\ttiming.remove = remove;\n\n\t\t/**\n\t\t *  Create a timer object to call given handler after given delay and store it with given reference\n\t\t *  @name    create\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   function handle\n\t\t *  @param   Number   delay\n\t\t *  @param   string   reference\n\t\t *  @return  KonfluxTimingDelay  object\n\t\t */\n\t\ttiming.create = create;\n\t}\n\n\tkonflux.register('timing', new KonfluxTiming());\n\n\t//END INCLUDE: core/timing [1.93ms, 3.14KB]\n\t//BEGIN INCLUDE: core/array\n\t/**\n\t *  Array utils\n\t *  @module  array\n\t *  @note    available as konflux.array / kx.array\n\t */\n\tfunction KonfluxArray() {\n\t\t/*jshint validthis: true*/\n\t\tvar array = this;\n\n\t\t/**\n\t\t *  Determine whether given value (needle) is in the array (haystack)\n\t\t *  @name    contains\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   array haystack\n\t\t *  @param   mixed needle\n\t\t *  @return  int   position\n\t\t */\n\t\tfunction contains(a, v) {\n\t\t\tfor (var i = 0; i < a.length; ++i) {\n\t\t\t\tif (a[i] === v) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Return the difference between two arrays\n\t\t *  @name    diff\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   array array1\n\t\t *  @param   array array2\n\t\t *  @return  array difference\n\t\t */\n\t\tfunction diff(a, b) {\n\t\t\tvar ret = [],\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < a.length; ++i) {\n\t\t\t\tif (contains(b, a[i]) === false) {\n\t\t\t\t\tret.push(a[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\t/**\n\t\t *  Create an array with values between (including) given start and end\n\t\t *  @name    range\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   number start\n\t\t *  @param   number end\n\t\t *  @return  array range\n\t\t */\n\t\tfunction range(a, b) {\n\t\t\tvar r = [];\n\t\t\tb -= a;\n\t\t\twhile (r.length <= b) {\n\t\t\t\tr.push(a + r.length);\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\n\t\t/**\n\t\t *  Shuffle given array\n\t\t *  @name    shuffle\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   array source\n\t\t *  @return  array shuffled\n\t\t */\n\t\tfunction shuffle(a) {\n\t\t\tfor (var j, x, i = a.length; i; j = (Math.random() * i) | 0, x = a[--i], a[i] = a[j], a[j] = x);\n\t\t\treturn a;\n\t\t}\n\n\t\t/**\n\t\t *  Cast given value to an array\n\t\t *  @name    cast\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed source\n\t\t *  @return  array source (bool false if the cast could not be done)\n\t\t *  @note    any scalar value will become an array holding that value (e.g. 'my string' becomes ['my string'])\n\t\t */\n\t\tfunction cast(mixed) {\n\t\t\tvar result = false,\n\t\t\t\tlen, i;\n\n\t\t\tswitch (konflux.type(mixed)) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tif (!('length' in mixed)) {\n\t\t\t\t\t\tresult = [mixed];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = Array.prototype.slice.call(mixed);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\tfor (result = [], len = mixed.length, i = 0; i < len; ++i) {\n\t\t\t\t\t\t\tresult.push(mixed[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'null':\n\t\t\t\tcase 'undefined':\n\t\t\t\t\tresult = [];\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tresult = [mixed];\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t//  expose\n\t\t/**\n\t\t *  Does the array contain given value\n\t\t *  @name    contains\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   array   haystack\n\t\t *  @param   mixed   needle\n\t\t *  @return  boolean contains\n\t\t */\n\t\tarray.contains = contains;\n\n\t\t/**\n\t\t *  Return the difference between two arrays\n\t\t *  @name    diff\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   array array1\n\t\t *  @param   array array2\n\t\t *  @return  array difference\n\t\t */\n\t\tarray.diff = diff;\n\n\t\t/**\n\t\t *  Create an array with values between (including) given start and end\n\t\t *  @name    range\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   int start\n\t\t *  @param   int end\n\t\t *  @return  array range\n\t\t */\n\t\tarray.range = range;\n\n\t\t/**\n\t\t *  Shuffle given array\n\t\t *  @name    shuffle\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   array source\n\t\t *  @return  array shuffled\n\t\t */\n\t\tarray.shuffle = shuffle;\n\n\t\t/**\n\t\t *  Cast given value to an array\n\t\t *  @name    cast\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed source\n\t\t *  @return  array source (bool false if the cast could not be done)\n\t\t *  @note    any scalar value will become an array holding that value (e.g. 'my string' becomes ['my string'])\n\t\t */\n\t\tarray.cast = cast;\n\t}\n\n\tkonflux.register('array', new KonfluxArray());\n\n\t//END INCLUDE: core/array [1.03ms, 3.58KB]\n\t//BEGIN INCLUDE: core/string\n\t/**\n\t *  String utils\n\t *  @module  string\n\t *  @note    available as konflux.string / kx.string\n\t */\n\tfunction KonfluxString() {\n\t\t/*jshint validthis: true*/\n\t\tvar string = this;\n\n\t\t//  'constants'\n\t\tstring.PAD_LEFT    = 1;\n\t\tstring.PAD_BOTH    = 2;\n\t\tstring.PAD_RIGHT   = 3;\n\t\tstring.TRIM_LEFT   = 1;\n\t\tstring.TRIM_BOTH   = 2;\n\t\tstring.TRIM_RIGHT  = 3;\n\t\tstring.CHUNK_START = 1;\n\t\tstring.CHUNK_END   = 2;\n\n\t\t/**\n\t\t *  Javascript port of Java's String.hashCode()\n\t\t *  (Based on http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/)\n\t\t *  @name    hashCode\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string input\n\t\t *  @return  number hash (32bit integer)\n\t\t */\n\t\tfunction hashCode(s) {\n\t\t\tfor (var r = 0, i = 0, l = s.length; i < l; ++i) {\n\t\t\t\tr  = (r = r * 31 + s.charCodeAt(i)) & r;\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\n\t\t/**\n\t\t *  Create a hash from a string\n\t\t *  @name    hash\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string source\n\t\t *  @return  string hash\n\t\t */\n\t\tfunction hash(s) {\n\t\t\tvar p = 16,\n\t\t\t\tpad = ('abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ' + s).substr(-(Math.ceil((s.length || 1) / p) * p)),\n\t\t\t\tr = 0;\n\n\t\t\twhile (pad.length) {\n\t\t\t\tr  += hashCode(pad.substr(0, p));\n\t\t\t\tpad = pad.substr(p);\n\t\t\t}\n\n\t\t\treturn Math.abs(r).toString(36);\n\t\t}\n\n\t\t/**\n\t\t *  Return the ASCII value of given character\n\t\t *  @name    ord\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string character\n\t\t *  @return  number character code\n\t\t */\n\t\tfunction ord(s) {\n\t\t\treturn s.charCodeAt(0);\n\t\t}\n\n\t\t/**\n\t\t *  Return the character corresponding with given ASCII value\n\t\t *  @name    chr\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   number character code\n\t\t *  @return  string character\n\t\t */\n\t\tfunction chr(n) {\n\t\t\treturn String.fromCharCode(n);\n\t\t}\n\n\t\t/**\n\t\t *  Pad a string\n\t\t *  @name    pad\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string to pad\n\t\t *  @param   number length\n\t\t *  @param   string pad string\n\t\t *  @param   int pad type\n\t\t *  @return  padded string\n\t\t */\n\t\tfunction pad(s, n, c, t) {\n\t\t\tc = new Array(n + 1).join(c);\n\n\t\t\treturn (n -= s.length) > 0 && (t = t === string.PAD_LEFT ? n : (t === string.PAD_BOTH ? Math.ceil(n / 2) : 0)) !== false ? (t > 0 ? c.substr(0, t) : '') + s + c.substr(0, n - t) : s;\n\t\t}\n\n\t\t/**\n\t\t *  Generate a checksum for given string\n\t\t *  @name    checksum\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string source\n\t\t *  @return  string checksum\n\t\t */\n\t\tfunction checksum(s) {\n\t\t\tfor (var n = s.length, r = 0; n > 0; --n) {\n\t\t\t\tr += n * ord(s[n]);\n\t\t\t}\n\n\t\t\treturn Math.abs((r + '' + s.length) | 0).toString(36);\n\t\t}\n\n\t\t/**\n\t\t *  Generate a UUID\n\t\t *  @name    uuid\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  string uuid\n\t\t */\n\t\tfunction uuid() {\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\t\tvar r = Math.random() * 16 | 0;\n\n\t\t\t\treturn (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t *  Split given string into chunks of given size\n\t\t *  @name    chunk\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string input\n\t\t *  @param   int    size [optional, default 1]\n\t\t *  @param   bool   end [optional, default false - start from the beginning of the input string]\n\t\t *  @return  array chunks\n\t\t *  @note    the last chunk is provided as is, there for it can be of a length less than given size\n\t\t */\n\t\tfunction chunk(input, size, end) {\n\t\t\tvar source = '' + input,\n\t\t\t\toutput = [],\n\t\t\t\ti;\n\n\t\t\tif (!size || size === 1) {\n\t\t\t\toutput = source.split('');\n\t\t\t}\n\t\t\telse if (input.length < size) {\n\t\t\t\toutput.push(input);\n\t\t\t}\n\t\t\telse if (end) {\n\t\t\t\tfor (i = source.length; i > 0; output.unshift(source.substr(i -= Math.min(source.length, size))), source) {\n\t\t\t\t\tsource = source.substring(0, i);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (source.length > 0, output.push(source.substring(0, size)), source) {\n\t\t\t\t\tsource = source.substr(size);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t\t *  Convert characters based on their ASCII value\n\t\t *  @name    ascii\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string input\n\t\t *  @param   object conversion (syntax: {replacement: [ASCII value, ASCII value, ...]})\n\t\t *  @return  string converted\n\t\t */\n\t\tfunction ascii(input, convert) {\n\t\t\tvar result = [],\n\t\t\t\ti, p, s;\n\n\t\t\tfor (i = 0; i < input.length; ++i) {\n\t\t\t\ts = input.substr(i, 1);\n\t\t\t\tfor (p in convert) {\n\t\t\t\t\tif (konflux.array.contains(convert[p], s.charCodeAt(0)) !== false) {\n\t\t\t\t\t\ts = p;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresult.push(s);\n\t\t\t}\n\n\t\t\treturn result.join('');\n\t\t}\n\n\t\t/**\n\t\t *  Convert characters based on their ASCII value\n\t\t *  @name    ascii\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @param   object conversion (syntax: {replacement: [ASCII value, ASCII value, ...]} - optional, default high ASCII characters)\n\t\t *  @return  string converted\n\t\t */\n\t\tstring.ascii = function(input, user) {\n\t\t\treturn ascii(input, user || {\n\t\t\t\tA: [192, 193, 194, 195, 196, 197],\n\t\t\t\tC: [199],\n\t\t\t\tE: [200, 201, 202, 203],\n\t\t\t\tI: [204, 205, 206, 207],\n\t\t\t\tD: [208],\n\t\t\t\tN: [209],\n\t\t\t\tO: [210, 211, 212, 213, 214, 216],\n\t\t\t\tU: [217, 218, 219, 220],\n\t\t\t\tY: [221],\n\t\t\t\tss: [223],\n\t\t\t\ta: [224, 225, 226, 227, 228, 229],\n\t\t\t\tbeta: [946],\n\t\t\t\tc: [231],\n\t\t\t\te: [232, 233, 234, 235],\n\t\t\t\ti: [236, 237, 238, 239],\n\t\t\t\tn: [241],\n\t\t\t\to: [240, 242, 243, 244, 245, 246],\n\t\t\t\tu: [249, 250, 251, 252],\n\t\t\t\ty: [253]\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t *  Trim string from leading/trailing pattern (whitespace by default)\n\t\t *  @name    trim\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @param   string character [default \\s, may be the contents of a regular expression pattern]\n\t\t *  @param   int    side [optional, One of: TRIM_BOTH (default), TRIM_LEFT, TRIM_RIGHT]\n\t\t *  @return  string trimmed\n\t\t *  @note    the side params are located in konflux.string (e.g. konflux.string.TRIM_LEFT)\n\t\t */\n\t\tstring.trim = function(input, chr, dir) {\n\t\t\tvar chars = chr || ' \\n\\r\\t\\f',\n\t\t\t\tf, t;\n\n\t\t\tfor (t = input.length; t > 0 && dir !== string.TRIM_LEFT && chars.indexOf(input.charAt(--t)) >= 0;);\n\t\t\tfor (f = 0; f < t && dir !== string.TRIM_RIGHT && chars.indexOf(input.charAt(f)) >= 0; ++f);\n\n\t\t\treturn input.substring(f, t + 1);\n\t\t};\n\n\t\t/**\n\t\t *  Reverse given string\n\t\t *  @name    reverse\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @return  string reversed\n\t\t */\n\t\tstring.reverse = function(s) {\n\t\t\tfor (var n = s.length, r = ''; n > 0; --n) {\n\t\t\t\tr += s[n];\n\t\t\t}\n\n\t\t\treturn r;\n\t\t};\n\n\t\t/**\n\t\t *  Pad a string\n\t\t *  @name    pad\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string to pad\n\t\t *  @param   number length\n\t\t *  @param   string pad string [optional, default ' ' - a space]\n\t\t *  @param   int type [optional, default PAD_RIGHT - add padding to the right. One of: PAD_LEFT, PAD_RIGHT (default), PAD_BOTH]\n\t\t *  @return  string padded\n\t\t *  @note    the type params are located in konflux.string (e.g. konflux.string.PAD_LEFT)\n\t\t */\n\t\tstring.pad = function(s, n, c, t) {\n\t\t\treturn pad(s, n, c || ' ', t || string.PAD_RIGHT);\n\t\t};\n\n\t\t/**\n\t\t *  Uppercase the first character of given string\n\t\t *  @name    ucFirst\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @return  string uppercased first character\n\t\t */\n\t\tstring.ucFirst = function(input) {\n\t\t\treturn input.charAt(0).toUpperCase() + input.substr(1);\n\t\t};\n\n\t\t/**\n\t\t *  Create a hash from a string\n\t\t *  @name    hash\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @return  string hash\n\t\t */\n\t\tstring.hash = hash;\n\n\t\t/**\n\t\t *  Generate a checksum for given string\n\t\t *  @name    checksum\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string source\n\t\t *  @return  string checksum\n\t\t */\n\t\tstring.checksum = checksum;\n\n\t\t/**\n\t\t *  Generate a UUID\n\t\t *  @name    uuid\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  string uuid\n\t\t */\n\t\tstring.uuid = uuid;\n\n\t\t/**\n\t\t *  Return the ASCII value of given character\n\t\t *  @name    ord\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string character\n\t\t *  @return  number character code\n\t\t */\n\t\tstring.ord = ord;\n\n\t\t/**\n\t\t *  Return the character corresponding with given ASCII value\n\t\t *  @name    chr\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   int    code\n\t\t *  @return  string character\n\t\t */\n\t\tstring.chr = chr;\n\n\t\t/**\n\t\t *  Divide the given input string into chunks of certain size\n\t\t *  @name    chunk\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @param   int    size [optional, default 1]\n\t\t *  @param   int    direction [optional, default CHUNK_START - start the chunks from the start, one of: CHUNK_START, CHUNK_END]\n\t\t *  @return  array chunks\n\t\t *  @note    the last chunk is provided as is, there for it can be of a length less than given size\n\t\t */\n\t\tstring.chunk = function(input, size, start) {\n\t\t\treturn chunk(input, size || 1, start === string.CHUNK_END);\n\t\t};\n\n\t\t/**\n\t\t *  Prepare given input string for use in a regular expression\n\t\t *  @name    escapeRegExp\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string input\n\t\t *  @param   string delimiter [optional, default null - no delimeter to consider]\n\t\t *  @return  string escaped\n\t\t */\n\t\tstring.escapeRegExp = function(input, delimeter) {\n\t\t\tvar chars = '.\\\\+*?[^]$(){}=!<>|:-'.split(''),\n\t\t\t\tpattern = new RegExp('[' + chars.concat(delimeter ? [delimeter] : []).join('\\\\') + ']', 'g');\n\n\t\t\treturn konflux.isType('string', input) ? input.replace(pattern, '\\\\$&') : '';\n\t\t};\n\t}\n\n\tkonflux.register('string', new KonfluxString());\n\n\t//END INCLUDE: core/string [1.83ms, 9.17KB]\n\t//BEGIN INCLUDE: core/point\n\t/**\n\t *  KonfluxPoint object, handling the (heavy) lifting of working with points\n\t *  @module  point\n\t *  @factory konflux.point\n\t *  @param   number x position\n\t *  @param   number y position\n\t *  @note    available as konflux.point / kx.point\n\t */\n\tfunction KonfluxPoint(x, y) {\n\t\t/*jshint validthis: true*/\n\t\tvar point = this;\n\n\t\tpoint.x = x || 0;\n\t\tpoint.y = y || 0;\n\n\t\t/**\n\t\t *  Move the point to a specific position\n\t\t *  @name    to\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number x\n\t\t *  @param   number y\n\t\t *  @return  KonfluxPoint  point\n\t\t */\n\t\tpoint.to = function(x, y) {\n\t\t\tpoint.x = x;\n\t\t\tpoint.y = y;\n\n\t\t\treturn point;\n\t\t};\n\n\t\t/**\n\t\t *  Snap the point to a grid\n\t\t *  @name    snap\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number grid [optional, default 1 - round the position x and y]\n\t\t *  @return  KonfluxPoint  point\n\t\t */\n\t\tpoint.snap = function(grid) {\n\t\t\tpoint.x = grid ? Math.round(point.x / grid) * grid : Math.round(point.x);\n\t\t\tpoint.y = grid ? Math.round(point.y / grid) * grid : Math.round(point.y);\n\n\t\t\treturn point;\n\t\t};\n\n\t\t/**\n\t\t *  Create a new point based on the current\n\t\t *  @name    clone\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  KonfluxPoint  point\n\t\t */\n\t\tpoint.clone = function() {\n\t\t\treturn new KonfluxPoint(point.x, point.y);\n\t\t};\n\n\t\t/**\n\t\t *  Move the point object by given x and y\n\t\t *  @name    move\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number x\n\t\t *  @param   number y\n\t\t *  @return  KonfluxPoint  point\n\t\t */\n\t\tpoint.move = function(x, y) {\n\t\t\tpoint.x += x;\n\t\t\tpoint.y += y;\n\n\t\t\treturn point;\n\t\t};\n\n\t\t/**\n\t\t *  Is given point on the exact same position\n\t\t *  @name    equal\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   KonfluxPoint point\n\t\t *  @param   bool    round\n\t\t *  @return  bool    equal\n\t\t */\n\t\tpoint.equal = function(p, round) {\n\t\t\treturn round ? Math.round(point.x) === Math.round(p.x) && Math.round(point.y) === Math.round(p.y) : point.x === p.x && point.y === p.y;\n\t\t};\n\n\t\t/**\n\t\t *  Scale the points coordinates by given factor\n\t\t *  @name    scale\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number factor\n\t\t *  @return  void\n\t\t */\n\t\tpoint.scale = function(factor) {\n\t\t\tpoint.x *= factor;\n\t\t\tpoint.y *= factor;\n\n\t\t\treturn point;\n\t\t};\n\n\t\t/**\n\t\t *  Subtract a point for the current point\n\t\t *  @name    subtract\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object point\n\t\t *  @return  KonfluxPoint\n\t\t */\n\t\tpoint.subtract = function(p) {\n\t\t\treturn new KonfluxPoint(point.x - p.x, point.y - p.y);\n\t\t};\n\n\t\t/**\n\t\t *  Add a point to the current point\n\t\t *  @name    add\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object point\n\t\t *  @return  KonfluxPoint\n\t\t */\n\t\tpoint.add = function(p) {\n\t\t\treturn new KonfluxPoint(point.x + p.x, point.y + p.y);\n\t\t};\n\n\t\t/**\n\t\t *  Get the distance between given and current point\n\t\t *  @name    distance\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object point\n\t\t *  @return  number distance\n\t\t */\n\t\tpoint.distance = function(p) {\n\t\t\treturn Math.sqrt(Math.pow(Math.abs(point.x - p.x), 2) + Math.pow(Math.abs(point.y - p.y), 2));\n\t\t};\n\n\t\t/**\n\t\t *  Get the angle in radians between given and current point\n\t\t *  @name    angle\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object point\n\t\t *  @return  number angle\n\t\t */\n\t\tpoint.angle = function(p) {\n\t\t\treturn Math.atan2(p.x - point.x, p.y - point.y);\n\t\t};\n\n\t\t/**\n\t\t *  Create a point with the maximum coordinates of both the current and given point\n\t\t *  @name    max\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   KonfluxPoint point1\n\t\t *  @param   KonfluxPoint ...\n\t\t *  @param   KonfluxPoint pointN\n\t\t *  @return  KonfluxPoint\n\t\t */\n\t\tpoint.max = function() {\n\t\t\tvar x = point.x,\n\t\t\t\ty = point.y,\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < arguments.length; ++i) {\n\t\t\t\tx = Math.max(x, arguments[i].x);\n\t\t\t\ty = Math.max(y, arguments[i].y);\n\t\t\t}\n\n\t\t\treturn new KonfluxPoint(x, y);\n\t\t};\n\n\t\t/**\n\t\t *  Create a point with the minimum coordinates of both the current and given point\n\t\t *  @name    min\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   KonfluxPoint point1\n\t\t *  @param   KonfluxPoint ...\n\t\t *  @param   KonfluxPoint pointN\n\t\t *  @return  KonfluxPoint\n\t\t */\n\t\tpoint.min = function() {\n\t\t\tvar x = point.x,\n\t\t\t\ty = point.y,\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < arguments.length; ++i) {\n\t\t\t\tx = Math.min(x, arguments[i].x);\n\t\t\t\ty = Math.min(y, arguments[i].y);\n\t\t\t}\n\n\t\t\treturn new KonfluxPoint(x, y);\n\t\t};\n\n\t\t/**\n\t\t *  Create a new point from the current mapped to isometric coordinates\n\t\t *  @name    iso\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number angle [optional, default 30 degrees]\n\t\t *  @return  KonfluxPoint\n\t\t */\n\t\tpoint.iso = function(angle) {\n\t\t\tangle = (angle || 30) * Math.PI / 180;\n\n\t\t\treturn new KonfluxPoint(\n\t\t\t\tpoint.x - point.y,\n\t\t\t\t(point.x + point.y) * angle\n\t\t\t);\n\t\t};\n\n\t\t/**\n\t\t *  Create a new point between the current and given point\n\t\t *  @name    mid\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   KonfluxPoint p\n\t\t *  @return  KonfluxPoint mid\n\t\t */\n\t\tpoint.mid = function(p) {\n\t\t\treturn new KonfluxPoint(\n\t\t\t\t(point.x + p.x) * 0.5,\n\t\t\t\t(point.y + p.y) * 0.5\n\t\t\t);\n\t\t};\n\t}\n\n\t/**\n\t *  Create a KonfluxPoint instance\n\t *  @name   point\n\t *  @type   method\n\t *  @access public\n\t *  @param  number x position\n\t *  @param  number y position\n\t *  @return KonfluxPoint point\n\t *  @note   As of konflux version > 0.3.1 the points are created without the new keyword\n\t *          ('new konflux.point(X, Y)' can now be 'konflux.point(X, Y)')\n\t */\n\tkonflux.register('point', function(x, y) {\n\t\treturn new KonfluxPoint(x, y);\n\t});\n\n\t//END INCLUDE: core/point [794.50µs, 5.34KB]\n\t//BEGIN INCLUDE: core/iterator\n\t/**\n\t *  Iterator object, providing a uniform mechanism to traverse collections (Array, Object, DOMNodeList, etc)\n\t *  @module  iterator\n\t *  @factory konflux.iterator\n\t *  @param   mixed collection\n\t *  @note    available as konflux.iterator / kx.iterator\n\t */\n\tfunction KonfluxIterator(collection) {\n\t\t/*jshint validthis: true*/\n\t\tvar iterator = this,\n\t\t\tkeys, current;\n\n\t\t/**\n\t\t *  Initialize the iterator object\n\t\t *  @name    init\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  void\n\t\t */\n\t\tfunction init() {\n\t\t\tvar p;\n\n\t\t\tcollection = collection || [];\n\n\t\t\tif (typeof collection !== 'object') {\n\t\t\t\tcollection = [collection];\n\t\t\t}\n\n\t\t\t//  create a magic property for the length\n\t\t\tif ('length' in collection) {\n\t\t\t\tproperty('length');\n\t\t\t}\n\n\t\t\t//  decorate the iterator with the various collection members\n\t\t\tfor (p in collection) {\n\t\t\t\tif (!(p in iterator)) {\n\t\t\t\t\titerator[p] = relay(p);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tkeys = iterator.keys();\n\t\t}\n\n\t\t/**\n\t\t *  Create relayed access to a collection member\n\t\t *  @name    relay\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string member name\n\t\t *  @return  function relay\n\t\t */\n\t\tfunction relay(member) {\n\t\t\tif (konflux.isType('function', collection[member])) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn collection[member].apply(collection, konflux.array.cast(arguments));\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn collection[member];\n\t\t}\n\n\t\t/**\n\t\t *  Try to create a getter for the given property, copy the value if a getter is not possible\n\t\t *  @name    property\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name\n\t\t *  @return  mixed  result (the property value if it was copied, KonfluxIterator otherwise)\n\t\t */\n\t\tfunction property(name) {\n\t\t\t//  Unfortunatly we have to fall back onto a try catch block, as the IE8 implementation does not\n\t\t\t//  accept defined properties on any object other than DOMElements\n\t\t\ttry {\n\t\t\t\treturn Object.defineProperty(iterator, name, {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn collection[name];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\treturn (iterator[name] = collection[name]);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Expand the underlying collection with another\n\t\t *  @name    add\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed  append\n\t\t *  @return  void\n\t\t */\n\t\tfunction add(append) {\n\t\t\tvar length, i;\n\n\t\t\t//  for now we only support index based objects to handle expansion\n\t\t\tif (!('length' in collection)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t//  we enforce the underlying collection to become an array\n\t\t\tif (!(collection instanceof Array)) {\n\t\t\t\tcollection = konflux.array.cast(collection);\n\t\t\t}\n\n\t\t\t//  if we are trying to append a KonfluxIterator instance, we want the underlying collection\n\t\t\tif (append instanceof KonfluxIterator) {\n\t\t\t\tappend = append.collection();\n\t\t\t}\n\n\t\t\t//  and ensure it'll be an array\n\t\t\tif (!(append instanceof Array)) {\n\t\t\t\tappend = konflux.isType('object', append) ? [append] : konflux.array.cast(append);\n\t\t\t}\n\n\t\t\t//  if the appending variable holds an array, we concatenate it into the collection\n\t\t\tif (append instanceof Array) {\n\t\t\t\tlength     = collection.length;\n\t\t\t\tcollection = collection.concat(append);\n\t\t\t\tkeys       = iterator.keys();\n\n\t\t\t\tfor (i = length; i < collection.length; ++i) {\n\t\t\t\t\tproperty(i);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Create a function which implements a specific signature (which occurs repeatedly)\n\t\t *  @name    implement\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string   name\n\t\t *  @param   function evaluation\n\t\t *  @param   bool     one [optional, default undefined (false-ish) - return a KonfluxIterator]\n\t\t *  @return  function implementation\n\t\t */\n\t\tfunction implement(name, evaluate, one) {\n\t\t\treturn function(callback, context) {\n\t\t\t\tvar list, result, keys, i;\n\n\t\t\t\t//  always use the native implementation, if it exists\n\t\t\t\tif (name in collection && konflux.isType('function', collection[name])) {\n\t\t\t\t\treturn new KonfluxIterator(collection[name].apply(collection, arguments));\n\t\t\t\t}\n\n\t\t\t\tlist = collection instanceof Array ? [] : {};\n\n\t\t\t\tkeys = iterator.keys();\n\t\t\t\tfor (i = 0; i < keys.length; ++i) {\n\t\t\t\t\tresult = evaluate(callback.apply(context || undefined, [collection[keys[i]], keys[i], collection]), collection[keys[i]]);\n\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tif (one) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlist[keys[i]] = result;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn konflux.iterator(list);\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the raw underlying collection\n\t\t *  @name    collection\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  mixed collection\n\t\t */\n\t\titerator.collection = function() {\n\t\t\treturn collection;\n\t\t};\n\n\t\t/**\n\t\t *  Get or set the cursor position, if an non-existant position is given, the cursor does not budge\n\t\t *  @name    cursor\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed index [optional, default null - don't update the cursor]\n\t\t *  @return  mixed value\n\t\t */\n\t\titerator.cursor = function(index) {\n\t\t\tvar result;\n\n\t\t\tif (index) {\n\t\t\t\tif (collection instanceof Array && index in keys) {\n\t\t\t\t\tcurrent = index;\n\t\t\t\t}\n\t\t\t\telse if (!(collection instanceof Array)) {\n\t\t\t\t\tresult = konflux.array.contains(keys, index);\n\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tcurrent = result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult = current || 0;\n\n\t\t\treturn collection instanceof Array ? result : keys[result];\n\t\t};\n\n\t\t/**\n\t\t *  Obtain a member from the underlying collection\n\t\t *  @name    item\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed index\n\t\t *  @return  mixed value\n\t\t */\n\t\titerator.item = function(index) {\n\t\t\tif ('item' in collection && konflux.isType('function', collection.item)) {\n\t\t\t\treturn collection.item(index);\n\t\t\t}\n\n\t\t\treturn ('length' in collection && (index >= 0 || index < collection.length)) || index in collection ? collection[index] : null;\n\t\t};\n\n\t\t/**\n\t\t *  Obtain the current value, whithout shifting the cursor\n\t\t *  @name    current\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  mixed value\n\t\t */\n\t\titerator.current = function() {\n\t\t\tif (!current) {\n\t\t\t\tcurrent = 0;\n\t\t\t}\n\n\t\t\treturn typeof keys[current] !== 'undefined' ? iterator.item(keys[current]) : false;\n\t\t};\n\n\t\t/**\n\t\t *  Obtain an array which contains all the keys for the underlying collection\n\t\t *  @name    keys\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  Array keys\n\t\t */\n\t\titerator.keys = function() {\n\t\t\tvar result = [];\n\n\t\t\titerator.each(function(value, key) {\n\t\t\t\tresult.push(key);\n\t\t\t});\n\n\t\t\treturn result;\n\t\t};\n\n\t\t/**\n\t\t *  Create a new KonfluxIterator from the current containing only elements which received a true(-ish) result\n\t\t *  from the provided filter method\n\t\t *  @name    filter\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   function evaluate\n\t\t *  @param   object   thisArg 'this' [optional, default undefined]\n\t\t *  @return  KonfluxIterator matches\n\t\t */\n\t\titerator.filter = implement('filter', function(result, item) {\n\t\t\treturn !!result ? item : false;\n\t\t});\n\n\t\t/**\n\t\t *  Return the first matching item (true-ish result from the evaluation function) from the iterator\n\t\t *  @name    find\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   function map\n\t\t *  @param   object   thisArg 'this' [optional, default undefined]\n\t\t *  @return  KonfluxIterator found\n\t\t */\n\t\titerator.find = implement('find', function(result, item) {\n\t\t\treturn !!result ? item : false;\n\t\t}, true);\n\n\t\t/**\n\t\t *  Create a new KonfluxIterator from the current containing items (possibly) modified by the map function\n\t\t *  @name    map\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   function map\n\t\t *  @param   object   thisArg 'this' [optional, default undefined]\n\t\t *  @return  KonfluxIterator mapped\n\t\t */\n\t\titerator.map = implement('map', function(result) {\n\t\t\treturn result;\n\t\t});\n\n\t\t/**\n\t\t *  Obtain the previous value, shifting the cursor to the previous position\n\t\t *  @name    previous\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  mixed value\n\t\t */\n\t\titerator.previous = function() {\n\t\t\tcurrent = Math.max(typeof current !== 'undefined' ? current - 1 : 0, -1);\n\n\t\t\treturn iterator.current();\n\t\t};\n\n\t\t/**\n\t\t *  Obtain the previous value, shifting the cursor back\n\t\t *  @name    prev\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  mixed value\n\t\t *  @alias   iterator.previous\n\t\t */\n\t\titerator.prev = iterator.previous;\n\n\t\t/**\n\t\t *  Obtain the next value, shifting the cursor to the next position\n\t\t *  @name    next\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  mixed value\n\t\t */\n\t\titerator.next = function() {\n\t\t\tcurrent = Math.min(typeof current !== 'undefined' ? current + 1 : 0, keys.length);\n\n\t\t\treturn iterator.current();\n\t\t};\n\n\t\t/**\n\t\t *  Traverse the underlying collection and call given handle on every item in the collection\n\t\t *  @name    each\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   function   callback\n\t\t *  @param   object     thisArg (value to use as this when executing callback)\n\t\t *  @return  KonfluxIterator instance\n\t\t */\n\t\titerator.each = function(callback, thisArg) {\n\t\t\tvar p;\n\n\t\t\tif ('length' in collection) {\n\t\t\t\tfor (p = 0; p < collection.length; ++p) {\n\t\t\t\t\tcallback.apply(thisArg || undefined, [collection[p], p, iterator]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (p in collection) {\n\t\t\t\t\tcallback.apply(thisArg || undefined, [collection[p], p, iterator]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn iterator;\n\t\t};\n\n\t\t/**\n\t\t *  Add items to the collection\n\t\t *  @name    add\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed argument1\n\t\t *  @param   mixed ...\n\t\t *  @param   mixed argumentN\n\t\t *  @return  KonfluxIterator instance\n\t\t *  @note    Adding items to the collection will destroy the original collection and turn it into an array\n\t\t *  @note    Any scalar variable type (String, Number, Boolean and NULL) will added as is, any\n\t\t *           Array or Object will be disected and treated as array (if possible)\n\t\t */\n\t\titerator.add = function() {\n\t\t\tvar i;\n\n\t\t\tfor (i = 0; i < arguments.length; ++i) {\n\t\t\t\tadd(arguments[i]);\n\t\t\t}\n\n\t\t\treturn iterator;\n\t\t};\n\n\t\tinit();\n\t}\n\n\t/**\n\t *  Create a KonfluxIterator instance\n\t *  @name   iterator\n\t *  @type   method\n\t *  @access public\n\t *  @param  mixed collection\n\t *  @return KonfluxIterator iterator\n\t */\n\tkonflux.register('iterator', function(collection) {\n\t\treturn collection instanceof KonfluxIterator ? collection : new KonfluxIterator(collection);\n\t});\n\n\t//END INCLUDE: core/iterator [963.28µs, 9.80KB]\n\t//BEGIN INCLUDE: core/dom\n\t/**\n\t *  DOM Structure helper\n\t *  @module  dom\n\t *  @note    available as konflux.dom / kx.dom\n\t */\n\tfunction KonfluxDOM() {\n\t\t/*jshint validthis: true*/\n\t\tvar dom = this;\n\n\t\t//  constants\n\t\tdom.STACK_NEGATIVE   = 1;\n\t\tdom.STACK_BLOCK      = dom.STACK_NEGATIVE << 1;\n\t\tdom.STACK_FLOAT      = dom.STACK_BLOCK << 1;\n\t\tdom.STACK_INLINE     = dom.STACK_FLOAT << 1;\n\t\tdom.STACK_POSITIONED = dom.STACK_INLINE << 1;\n\t\tdom.STACK_POSITIVE   = dom.STACK_POSITIONED << 1;\n\t\tdom.STACK_GLOBAL     = dom.STACK_POSITIVE << 1;\n\n\t\t/**\n\t\t *  Append given source element or structure to the target element\n\t\t *  @name   appendTo\n\t\t *  @type   function\n\t\t *  @access internal\n\t\t *  @param  DOMElement target\n\t\t *  @param  mixed source (one of: DOMElement, Object structure)\n\t\t *  @return Array of added source elements\n\t\t */\n\t\tfunction appendTo(target, source) {\n\t\t\tvar result, i;\n\n\t\t\tif (konflux.isType('string', target)) {\n\t\t\t\ttarget = document.querySelector(target);\n\t\t\t}\n\n\t\t\tif (source instanceof Array) {\n\t\t\t\tresult = [];\n\t\t\t\tfor (i = 0; i < source.length; ++i) {\n\t\t\t\t\tresult.push(appendTo(target, source[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult = target.appendChild(source);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Determine whether element is in the ancestor element or the ancestor element itself\n\t\t *  @name   contains\n\t\t *  @type   function\n\t\t *  @access internal\n\t\t *  @param  DOMElement ancestor\n\t\t *  @param  DOMElement element\n\t\t *  @return bool element is (in) ancestor\n\t\t */\n\t\tfunction contains(ancestor, element) {\n\t\t\t//  use the contains method if it exists\n\t\t\tif ('contains' in ancestor) {\n\t\t\t\treturn ancestor.contains(element);\n\t\t\t}\n\n\t\t\t//  old school tree walker\n\t\t\twhile (element !== ancestor && element) {\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\treturn !!element;\n\t\t}\n\n\t\t/**\n\t\t *  Create a dom structure from given variable\n\t\t *  @name   createStructure\n\t\t *  @type   function\n\t\t *  @access internal\n\t\t *  @param  mixed   source\n\t\t *  @param  DOMNode scope\n\t\t *  @return DOMElement structure\n\t\t */\n\t\tfunction createStructure(struct, scope) {\n\t\t\tvar nodeName, element, p, i;\n\n\t\t\tswitch (konflux.type(struct)) {\n\t\t\t\tcase 'array':\n\t\t\t\t\telement = [];\n\t\t\t\t\tfor (i = 0; i < struct.length; ++i) {\n\t\t\t\t\t\telement.push(createStructure(struct[i]));\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'object':\n\t\t\t\t\tnodeName = 'tag' in struct ? struct.tag : ('name' in struct ? struct.name : 'div');\n\n\t\t\t\t\tif (!/^[a-z]+[a-z0-9-]*$/i.test(nodeName)) {\n\t\t\t\t\t\telement = (scope ? scope.querySelector(nodeName) : null) || document.querySelector(nodeName);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\telement = document.createElement(nodeName);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (p in struct) {\n\t\t\t\t\t\tswitch (p)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcase 'name':\n\t\t\t\t\t\t\t\tif ('tag' in struct) {\n\t\t\t\t\t\t\t\t\telement.setAttribute('name', struct[p]);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'child':\n\t\t\t\t\t\t\tcase 'content':\n\t\t\t\t\t\t\t\tappendTo(element, createStructure(struct[p], element));\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'class':\n\t\t\t\t\t\t\tcase 'className':\n\t\t\t\t\t\t\t\telement.setAttribute('class', struct[p]);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\telement.setAttribute(p, struct[p]);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'boolean':\n\t\t\t\t\tstruct = struct ? 'true' : 'false';\n\t\t\t\t\t/* falls through */\n\t\t\t\tdefault:\n\t\t\t\t\telement = document.createTextNode(struct);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn element;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the stacking order index\n\t\t *  @name   stackOrderIndex\n\t\t *  @type   function\n\t\t *  @access internal\n\t\t *  @param  DOMElement node\n\t\t *  @return object stack order (format: {type:<int>, index:<int>})\n\t\t *  @note   the dom constants: STACK_NEGATIVE, STACK_BLOCK, STACK_FLOAT\n\t\t *          STACK_INLINE, STACK_POSITIONED, STACK_POSITIVE, STACK_GLOBAL\n\t\t *          with the type number to determine the matching type.\n\t\t *          e.g. type & konflux.dom.STACK_POSITIONED !== 0 is a positioned element\n\t\t *  @see    spec:  http://www.w3.org/TR/CSS2/zindex.html#painting-order\n\t\t *  @see    human: http://philipwalton.com/articles/what-no-one-told-you-about-z-index/\n\t\t */\n\t\tfunction stackOrderIndex(node) {\n\t\t\tvar zIndex = +konflux.style.get(node, 'z-index'),\n\t\t\t\topacity = parseFloat(konflux.style.get(node, 'opacity')),\n\t\t\t\tposition = konflux.style.get(node, 'position'),\n\t\t\t\tdisplay = konflux.style.get(node, 'display'),\n\t\t\t\tfloatValue = konflux.style.get(node, 'float'),\n\t\t\t\tcontext = (position !== 'static' && zIndex !== 'auto') || opacity < 1,\n\n\t\t\t\t//  https://developer.mozilla.org/en-US/docs/Web/CSS/display\n\t\t\t\tblockType = /^(?:(?:inline\\-)?block|list\\-item|table(?:\\-(?:cell|caption|column|row))?|table\\-(?:column|footer|header|row)\\-group|flex|grid)$/.test(display),\n\t\t\t\ttype = parseInt([\n\n\t\t\t\t\t//  fixed positioning, a world in its own\n\t\t\t\t\tposition === 'fixed' ? 1 : 0,\n\n\t\t\t\t\t//  positive stacking context: 0/1\n\t\t\t\t\tcontext && (zIndex === 'auto' || zIndex >= 0) ? 1 : 0,\n\n\t\t\t\t\t//  positioned (and not stacking context)\n\t\t\t\t\tposition !== 'static' && !context ? 1 : 0,\n\n\t\t\t\t\t//  inline level elements (natural position order)\n\t\t\t\t\tfloatValue === 'none' && position === 'static' && !blockType ? 1 : 0,\n\n\t\t\t\t\t//  floating elements are between natural positioned inline and block level elements\n\t\t\t\t\tfloatValue !== 'none' && !context && position === 'static' ? 1 : 0,\n\n\t\t\t\t\t//  block level element (natural position order)\n\t\t\t\t\tfloatValue === 'none' && position === 'static' && blockType ? 1 : 0,\n\n\t\t\t\t\t//  negative stacking context\n\t\t\t\t\tcontext && zIndex < 0 ? 1 : 0\n\t\t\t\t].join(''), 2);\n\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tindex: position !== 'static' || !zIndex || zIndex === 'auto' ? 0 : zIndex,\n\t\t\t\tcontext: (dom.STACK_NEGATIVE & type || dom.STACK_POSITIONED & type || dom.STACK_POSITIVE & type || dom.STACK_GLOBAL & type) !== 0\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t *  Get the unique reference for given DOM element, adds it if it does not yet exist\n\t\t *  @name    elementReference\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   DOMElement element\n\t\t *  @param   bool       hidden [optional, default false]\n\t\t *  @return  string unique reference\n\t\t *  @note    this function adds an attribute 'data-kxref' to the element if the reference is not hidden\n\t\t *           (the hidden option is not considered to be best practise)\n\t\t */\n\t\tfunction elementReference(element, hidden) {\n\t\t\tvar name = 'kxref',\n\t\t\t\tprepare = {\n\t\t\t\t\twindow: window,\n\t\t\t\t\tdocument: document,\n\t\t\t\t\troot: document.documentElement,\n\t\t\t\t\thead: document.head,\n\t\t\t\t\tbody: document.body\n\t\t\t\t},\n\t\t\t\treference, p;\n\n\t\t\t//  we don't ever contaminate the window object, document, documentElement or body element\n\t\t\tfor (p in prepare) {\n\t\t\t\tif (element === prepare[p]) {\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!element || !('nodeType' in element) || element.nodeType !== 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treference = hidden ? (name in element ? element[name] : null) : element.getAttribute('data-' + name);\n\t\t\t}\n\n\t\t\t//  if no reference was set yet, do so now\n\t\t\tif (!reference) {\n\t\t\t\treference = konflux.unique();\n\n\t\t\t\tif (hidden) {\n\t\t\t\t\telement[name] = reference;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\telement.setAttribute('data-' + name, reference);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn reference;\n\t\t}\n\n\t\t/**\n\t\t *  Create a dom structure from given variable\n\t\t *  @name   create\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  mixed source\n\t\t *  @return DOMElement structure\n\t\t */\n\t\tdom.create = createStructure;\n\n\t\t/**\n\t\t *  Append given source element or structure to the target element\n\t\t *  @name   appendTo\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  DOMElement target\n\t\t *  @param  mixed source (one of: DOMElement, Object structure)\n\t\t *  @return Array of added source elements\n\t\t */\n\t\tdom.appendTo = function(target, source) {\n\t\t\treturn appendTo(target, konflux.isType('object', source) && !konflux.isType('undefined', source.nodeType) ? source : createStructure(source, target));\n\t\t};\n\n\t\t/**\n\t\t *  Determine whether element is in the ancestor element or the ancestor element itself\n\t\t *  @name   contains\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  DOMElement ancestor\n\t\t *  @param  DOMElement element\n\t\t *  @return bool is (in) ancestor\n\t\t */\n\t\tdom.contains = contains;\n\n\t\t/**\n\t\t *  Select elements matching given CSS selector\n\t\t *  @name   select\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  string     selector\n\t\t *  @param  DOMElement parent\n\t\t *  @return KonfluxIterator nodeList\n\t\t */\n\t\tdom.select = function(selector, parent) {\n\t\t\treturn konflux.iterator((parent || document).querySelectorAll(selector));\n\t\t};\n\n\t\t/**\n\t\t *  Get the unique reference for given DOM element, adds it if it does not yet exist\n\t\t *  @name    reference\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement element\n\t\t *  @return  string unique reference\n\t\t *  @note    this function adds an attribute 'data-kxref' to the element\n\t\t */\n\t\tdom.reference = function(element) {\n\t\t\treturn elementReference(element);\n\t\t};\n\n\t\t/**\n\t\t *  Obtain the stacking order level\n\t\t *  @name   stackLevel\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  DOMElement node\n\t\t *  @return object stack order (format: {type:<int>, index:<int>})\n\t\t */\n\t\tdom.stackLevel = stackOrderIndex;\n\t}\n\n\t;(function(dom) {\n\t\tkonflux.register('dom', dom);\n\n\t\t/**\n\t\t *  Select elements matching given CSS selector\n\t\t *  @name   select\n\t\t *  @type   method\n\t\t *  @access public\n\t\t *  @param  string     selector\n\t\t *  @param  DOMElement parent\n\t\t *  @return DOMNodeList (empty Array if the dom module is not available)\n\t\t */\n\t\tkonflux.register('select', function(selector, parent) {\n\t\t\treturn dom.select(selector, parent);\n\t\t});\n\t})(new KonfluxDOM());\n\n\t//END INCLUDE: core/dom [1.80ms, 9.03KB]\n\t//BEGIN INCLUDE: core/browser\n\t/**\n\t *  Browser/feature detection\n\t *  @module  browser\n\t *  @note    available as konflux.browser / kx.browser\n\t */\n\tfunction KonfluxBrowser() {\n\t\t/*jshint validthis: true*/\n\t\tvar browser = this,\n\t\t\tsupport = {\n\t\t\t\ttouch: 'ontouchstart' in window || 'msMaxTouchPoints' in navigator\n\t\t\t},\n\t\t\tprefix,\n\t\t\tieVersion;\n\n\t\t/**\n\t\t *  Determine whether or not the browser is Internet Explorer (4+)\n\t\t *  @name    detectIE\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  mixed (boolean false if not IE, version number if IE)\n\t\t */\n\t\tfunction detectIE() {\n\t\t\t//  https://gist.github.com/527683 (Conditional comments only work for IE 5 - 9)\n\t\t\tvar node = document.createElement('div'),\n\t\t\t\tcheck = node.getElementsByTagName('i'),\n\t\t\t\tversion = 4;\n\n\t\t\t//  Starting with IE 4 (as version is incremented before first use), an <i> element is added to\n\t\t\t//  the 'node' element surrounded by conditional comments. The 'check' variable is automatically updated\n\t\t\t//  to contain all <i> elements. These elements are not there if the browser does not support conditional\n\t\t\t//  comments or does not match the IE version\n\t\t\t//  Note that there are two conditions for the while loop; the innerHTML filling and the check, the while\n\t\t\t//  loop itself has no body (as it is closed off by a semi-colon right after declaration)\n\t\t\twhile (node.innerHTML = '<!--[if gt IE ' + version + ']><i></i><![endif]-->', check.length && version < 10) {\n\t\t\t\t++version;\n\t\t\t}\n\n\t\t\t//  Added IE's @cc_on trickery for browser which do not support conditional comments (such as IE10)\n\t\t\tversion = version > 4 ? version : /*jshint evil: true */Function('/*@cc_on return document.documentMode;@*/return false')()/*jshint evil: false */;\n\n\t\t\t//  IE11 removed the @cc_on syntax, so we need to go deeper\n\t\t\treturn version ? version : ('-ms-ime-align' in document.documentElement.style ? 11 : false);\n\t\t}\n\n\t\t/**\n\t\t *  Determine whether or not the browser has given feature in either the window or document scope\n\t\t *  @name    hasFeature\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string   feature\n\t\t *  @return  boolean  has feature\n\t\t */\n\t\tfunction hasFeature(feature) {\n\t\t\treturn !konflux.isType('undefined', support[feature]) ? support[feature] : feature in window || feature in document;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain a specific feature from the browser, be it the native property or the vendor prefixed property\n\t\t *  @name    getFeature\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed    feature [one of: string feature or array with string features]\n\t\t *  @param   array    scope(s) [optional, default null - global scopes]\n\t\t *  @return  mixed    feature (false if it doesn't exist)\n\t\t */\n\t\tfunction getFeature(feature, scope) {\n\t\t\tvar vendor = vendorPrefix(),\n\n\t\t\t\t//  the objects to search for the feature\n\t\t\t\tobject = scope ? scope : [\n\t\t\t\t\twindow,\n\t\t\t\t\tdocument,\n\t\t\t\t\tnavigator\n\t\t\t\t],\n\t\t\t\tsearch = [],\n\t\t\t\tuc, i;\n\n\t\t\tif (!(feature instanceof Array)) {\n\t\t\t\tfeature = [feature];\n\t\t\t}\n\n\t\t\tfor (i = 0; i < feature.length; ++i) {\n\t\t\t\tuc = konflux.string.ucFirst(feature[i]);\n\t\t\t\tsearch = search.concat([\n\t\t\t\t\tfeature[i],\n\t\t\t\t\tvendor + uc,\n\t\t\t\t\tvendor.toLowerCase() + uc\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\twhile (search.length) {\n\t\t\t\tfeature = search.shift();\n\n\t\t\t\tfor (i = 0; i < object.length; ++i) {\n\t\t\t\t\tif (feature in object[i]) {\n\t\t\t\t\t\treturn object[i][feature];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the vendor prefix for the current browser\n\t\t *  @name   vendorPrefix\n\t\t *  @type   function\n\t\t *  @access internal\n\t\t *  @return string prefix\n\t\t */\n\t\tfunction vendorPrefix() {\n\t\t\tvar vendor = ['Icab', 'Khtml', 'O', 'ms', 'Moz', 'webkit'],\n\t\t\t\tregex  = new RegExp('^(' + vendor.join('|') + ')(?=[A-Z])'),\n\t\t\t\tscript = document.createElement('script'),\n\t\t\t\tp;\n\n\t\t\t//  try to find any vendor prefixed style property on our script node\n\t\t\tfor (p in script.style) {\n\t\t\t\tif (regex.test(p)) {\n\t\t\t\t\tprefix = p.match(regex).shift();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//  as a last resort, try to see if the <pre>Opacity property exists\n\t\t\twhile (!prefix && vendor.length) {\n\t\t\t\tp = vendor.pop();\n\t\t\t\tif (p + 'Opacity' in script.style) {\n\t\t\t\t\tprefix = p;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tscript = null;\n\n\t\t\treturn prefix;\n\t\t}\n\n\t\t/**\n\t\t *  Verify if the browser at hand is any version of Internet Explorer (4+)\n\t\t *  @name    ie\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number min version [optional, default null - obtain the version number]\n\t\t *  @return  mixed (boolean false if not IE (or not minimal version), version number if IE)\n\t\t *  @see     detectIE\n\t\t *  @note    this public implementation caches the result\n\t\t */\n\t\tbrowser.ie = function(min) {\n\t\t\tif (konflux.isType('undefined', ieVersion)) {\n\t\t\t\tieVersion = detectIE();\n\t\t\t}\n\n\t\t\treturn min && ieVersion ? ieVersion < min : ieVersion;\n\t\t};\n\n\t\t/**\n\t\t *  Obtain the vendor prefix for the current browser\n\t\t *  @name    prefix\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  string prefix\n\t\t *  @note    this public implementation caches the result\n\t\t */\n\t\tbrowser.prefix = function() {\n\t\t\tif (!prefix) {\n\t\t\t\tprefix = vendorPrefix();\n\t\t\t}\n\n\t\t\treturn prefix;\n\t\t};\n\n\t\t/**\n\t\t *  Obtain a specific feature from the browser\n\t\t *  @name    feature\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed    feature [one of: string feature or array with string features]\n\t\t *  @param   mixed    scope(s) [optional, default null - global scopes]\n\t\t *  @return  mixed    feature (false if it doesn't exist)\n\t\t *  @note    this method attempts to search for the native feature and falls back onto vendor prefixed features\n\t\t */\n\t\tbrowser.feature = function(feature, scope) {\n\t\t\tif (scope && !(scope instanceof Array)) {\n\t\t\t\tscope = [scope];\n\t\t\t}\n\n\t\t\treturn getFeature(feature, scope);\n\t\t};\n\n\t\t/**\n\t\t *  Test whether or not the browser at hand is aware of given feature(s) exist in either the window or document scope\n\t\t *  @name    supports\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string feature1\n\t\t *  @param   string ...\n\t\t *  @param   string featureN\n\t\t *  @return  boolean support\n\t\t *  @note    multiple features can be provided, in which case the return value indicates the support of all given features\n\t\t */\n\t\tbrowser.supports = function() {\n\t\t\tvar r = true,\n\t\t\t\ti = arguments.length;\n\n\t\t\t//  test all the features given\n\t\t\twhile (r && --i >= 0) {\n\t\t\t\tr = r && hasFeature(arguments[i]);\n\t\t\t}\n\n\t\t\treturn r;\n\t\t};\n\n\t\t/**\n\t\t *  Enable the HTML5 fullscreen mode for given element\n\t\t *  @name    fullscreen\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMNode target [optional, default document.documentElement]\n\t\t *  @return  bool    success\n\t\t *  @note    this method is highly experimental\n\t\t */\n\t\tbrowser.fullscreen = function(target) {\n\t\t\tvar check = ['fullScreen', 'isFullScreen'],\n\t\t\t\tvendor = browser.prefix().toLowerCase(),\n\t\t\t\tmethod, i;\n\n\t\t\tif (!target) {\n\t\t\t\ttarget = document.documentElement;\n\t\t\t}\n\n\t\t\tfor (i = 0, method = null; i < check.length, method === null; ++i) {\n\t\t\t\tmethod = check[i] in document ? check[i] : vendor + konflux.string.ucFirst(check[i]);\n\t\t\t\tif (!(method in document)) {\n\t\t\t\t\tmethod = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvendor = method.match(new RegExp('^' + vendor)) ? vendor : null;\n\t\t\tvendor = (vendor || (document[method] ? 'cancel' : 'request')) + konflux.string.ucFirst((vendor ? (document[method] ? 'cancel' : 'request') : '') + konflux.string.ucFirst(check[0]));\n\n\t\t\t(document[method] ? document : target)[vendor](target.ALLOW_KEYBOARD_INPUT || null);\n\t\t};\n\t}\n\n\tkonflux.register('browser', new KonfluxBrowser());\n\n\t//END INCLUDE: core/browser [1.46ms, 7.17KB]\n\t//BEGIN INCLUDE: core/event\n\t/**\n\t *  Event attachment handler\n\t *  @module  event\n\t *  @note    available as konflux.event / Konflux.event\n\t */\n\tfunction KonfluxEvent() {\n\t\t/*jshint validthis: true*/\n\t\tvar event = this,\n\t\t\tqueue = {},\n\t\t\tdelegate, touch;\n\n\t\t/*global KonfluxEventDelegate*/\n\n\t\t//BEGIN INCLUDE: event/delegate\n\t\t/**\n\t\t *  Delegate manager object, keep track of all delegates created for DOMElement/Event combinations\n\t\t *  @name    KonfluxEventDelegate\n\t\t *  @type    module\n\t\t *  @access  internal\n\t\t */\n\t\tfunction KonfluxEventDelegate(unifier) {\n\t\t\t//\n\t\t\t'use strict';\n\n\t\t\t/*global konflux*/\n\n\t\t\t/*jshint validthis: true*/\n\t\t\tvar delegation = this,\n\t\t\t\tseparator = '!',\n\t\t\t\tstore = {};\n\n\t\t\t/**\n\t\t\t *  Unify the event type into an object alway containing the name and the namespace\n\t\t\t *  @name    namespace\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @param   string event type\n\t\t\t *  @return  object namespace ({name: * | type, namespace: * || namespace})\n\t\t\t */\n\t\t\tfunction namespace(type) {\n\t\t\t\tvar match = type ? type.match(/^([^\\.]*)?(?:\\.(.+))?$/) : ['', '*', '*'];\n\n\t\t\t\treturn {\n\t\t\t\t\tname: match[1] || '*',\n\t\t\t\t\tnamespace: match[2] || '*'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Obtain a proper key value for given target DOMElement\n\t\t\t *  @name    targetKey\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @param   DOMElement target\n\t\t\t *  @return  string     key\n\t\t\t */\n\t\t\tfunction targetKey(target) {\n\t\t\t\treturn konflux.dom.reference(target);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Remove whitespace and comments from given input, making nearly every string usable as key\n\t\t\t *  @name    strip\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @param   string input\n\t\t\t *  @return  string stripped\n\t\t\t */\n\t\t\tfunction strip(input) {\n\t\t\t\treturn (input + '').replace(/\\s+|\\/\\*.*?\\*\\//g, '');\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Create a delegate function for the given combination of arguments, or return the previously created one\n\t\t\t *  @name    create\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @param   DOMElement target\n\t\t\t *  @param   string event namespace\n\t\t\t *  @param   string event name\n\t\t\t *  @param   string filter\n\t\t\t *  @param   function handler\n\t\t\t *  @param   bool capture\n\t\t\t *  @return  object delegate ({target, namespace, type, filter, capture, delegate})\n\t\t\t */\n\t\t\tfunction create(target, ns, type, filter, handler, capture) {\n\t\t\t\tvar key = [\n\t\t\t\t\t\ttargetKey(target),\n\t\t\t\t\t\tns,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tfilter ? strip(filter) : false,\n\t\t\t\t\t\tcapture || false,\n\t\t\t\t\t\tstrip(handler)\n\t\t\t\t\t].join(separator);\n\n\t\t\t\t//  if the key does not yet exist in the store, we create it\n\t\t\t\tif (!(key in store)) {\n\t\t\t\t\tstore[key] = {\n\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\tnamespace: ns,\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tfilter: filter,\n\t\t\t\t\t\tcapture: capture || false,\n\t\t\t\t\t\tdelegate: function(e) {\n\t\t\t\t\t\t\tvar evt = e || window.event,\n\t\t\t\t\t\t\t\tresult;\n\n\t\t\t\t\t\t\tif (filter) {\n\t\t\t\t\t\t\t\tif (!('target' in evt) && 'srcElement' in evt) {\n\t\t\t\t\t\t\t\t\tevt.target = evt.srcElement;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tkonflux.select(filter, target).each(function(element) {\n\t\t\t\t\t\t\t\t\tif (evt.target === element || konflux.dom.contains(element, evt.target)) {\n\t\t\t\t\t\t\t\t\t\tevt.delegate = target;\n\t\t\t\t\t\t\t\t\t\tresult = handler.apply(element, [unifier(evt)]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (handler) {\n\t\t\t\t\t\t\t\tresult = handler.apply(target, [unifier(evt)]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (result === false) {\n\t\t\t\t\t\t\t\tif (evt.stopPropagation) {\n\t\t\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (evt.cancelBubble) {\n\t\t\t\t\t\t\t\t\tevt.cancelBubble = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn store[key];\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Remove given key from the store\n\t\t\t *  @name    remove\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @param   string key\n\t\t\t *  @return  void\n\t\t\t */\n\t\t\tfunction remove(key) {\n\t\t\t\tif (key in store) {\n\t\t\t\t\tdelete store[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Find all delegates that match given arguments\n\t\t\t *  @name    find\n\t\t\t *  @type    function\n\t\t\t *  @access  internal\n\t\t\t *  @param   DOMElement target\n\t\t\t *  @param   string event namespace\n\t\t\t *  @param   string event name\n\t\t\t *  @param   string filter\n\t\t\t *  @param   function handler\n\t\t\t *  @return  Array matches\n\t\t\t */\n\t\t\tfunction find(target, ns, type, filter, handler) {\n\t\t\t\tvar wildcard = '.*?',\n\t\t\t\t\tpattern = new RegExp([\n\t\t\t\t\t\t'^' + (target ? konflux.string.escapeRegExp(targetKey(target)) : wildcard),\n\t\t\t\t\t\tns && ns !== '*' ? konflux.string.escapeRegExp(ns) : wildcard,\n\t\t\t\t\t\ttype && type !== '*' ? konflux.string.escapeRegExp(type) : wildcard,\n\t\t\t\t\t\tfilter ? konflux.string.escapeRegExp(strip(filter)) : wildcard,\n\t\t\t\t\t\twildcard,\n\t\t\t\t\t\t(handler ? konflux.string.escapeRegExp(strip(handler)) : wildcard) + '$'\n\t\t\t\t\t].join(separator)),\n\t\t\t\t\tresult = {},\n\t\t\t\t\tp;\n\n\t\t\t\tfor (p in store) {\n\t\t\t\t\tif (pattern.test(p)) {\n\t\t\t\t\t\tresult[p] = store[p];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t *  Find all delegates that match given arguments\n\t\t\t *  @name    find\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @param   DOMElement target\n\t\t\t *  @param   string event namespace\n\t\t\t *  @param   string event name\n\t\t\t *  @param   string filter\n\t\t\t *  @param   function handler\n\t\t\t *  @return  Array matches\n\t\t\t */\n\t\t\tdelegation.find = function(target, name, filter, handler) {\n\t\t\t\tvar type = namespace(name),\n\t\t\t\t\tfinds = find(target, type.namespace, type.name, filter, handler),\n\t\t\t\t\tresult = [],\n\t\t\t\t\tp;\n\n\t\t\t\tfor (p in finds) {\n\t\t\t\t\tresult.push(finds[p]);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t *  Remove all delegates that match given arguments, and return all of the removed delegates\n\t\t\t *  @name    find\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @param   DOMElement target\n\t\t\t *  @param   string event namespace\n\t\t\t *  @param   string event name\n\t\t\t *  @param   string filter\n\t\t\t *  @param   function handler\n\t\t\t *  @return  Array matches\n\t\t\t */\n\t\t\tdelegation.remove = function(target, name, filter, handler) {\n\t\t\t\tvar type = namespace(name),\n\t\t\t\t\tfinds = find(target, type.namespace, type.name, filter, handler),\n\t\t\t\t\tresult = [],\n\t\t\t\t\tp;\n\n\t\t\t\tfor (p in finds) {\n\t\t\t\t\tresult.push(finds[p]);\n\t\t\t\t\tremove(p);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t *  Create a delegate function for the given combination of arguments, or return the previously created one\n\t\t\t *  @name    create\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @param   DOMElement target\n\t\t\t *  @param   string event\n\t\t\t *  @param   string filter\n\t\t\t *  @param   function handler\n\t\t\t *  @param   bool capture\n\t\t\t *  @return  object delegate ({target, namespace, type, filter, capture, delegate})\n\t\t\t */\n\t\t\tdelegation.create = function(target, name, filter, handler, capture) {\n\t\t\t\tvar type = namespace(name);\n\n\t\t\t\treturn create(target, type.namespace, type.name, filter, handler, capture || false);\n\t\t\t};\n\t\t}\n\n\t\t//END INCLUDE: event/delegate [1.10ms, 5.88KB]\n\t\t/**\n\t\t *  Ready state handler, removes all relevant triggers and executes any handler that is set\n\t\t *  @name    handleReadyState\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  void\n\t\t */\n\t\tfunction handleReadyState(e) {\n\t\t\tvar run = false,\n\t\t\t\tp;\n\n\t\t\tif (document.removeEventListener) {\n\t\t\t\tdocument.removeEventListener('DOMContentLoaded', handleReadyState, false);\n\t\t\t\twindow.removeEventListener('load', handleReadyState, false);\n\t\t\t\trun = true;\n\t\t\t}\n\t\t\telse if (document.readyState === 'complete') {\n\t\t\t\tdocument.detachEvent('onreadystate', handleReadyState);\n\t\t\t\twindow.detachEvent('onload', handleReadyState);\n\t\t\t\trun = true;\n\t\t\t}\n\n\t\t\tif (run && queue.ready) {\n\t\t\t\tfor (p in queue.ready) {\n\t\t\t\t\tqueue.ready[p].call(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Get the event name for given event\n\t\t *  @name    getEventName\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string     name\n\t\t *  @param   DOMElement target\n\t\t *  @return  string     name\n\t\t */\n\t\tfunction getEventName(name, target) {\n\t\t\tvar match = name.match(/^(transition|animation)(end|iteration|start)$/i),\n\t\t\t\tproperty;\n\n\t\t\tif (match && (property = konflux.style.property(match[1], target)) !== match[1]) {\n\t\t\t\tproperty = property.substr(0, property.length - match[1].length);\n\t\t\t\tname = property['to' + (property.length <= 2 ? 'Upper' : 'Lower') + 'Case']() + konflux.string.ucFirst(match[1]) + konflux.string.ucFirst(match[2]);\n\t\t\t}\n\n\t\t\treturn name;\n\t\t}\n\n\t\t/**\n\t\t *  Get the proper event type for given event trigger\n\t\t *  @name    getEventType\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name\n\t\t *  @return  string type\n\t\t */\n\t\tfunction getEventType(name) {\n\t\t\tvar list = '!afterprint!beforeprint!canplay!canplaythrough!change!domcontentloaded!durationchange!emptied!ended!input!invalid!loadeddata!loadedmetadata!offline!online!pause!play!playing!ratechange!readystatechange!reset!seeked!seeking!stalled!submit!suspend!timeupdate!volumechange!waiting!abort!domactivate!error!load!resize!scroll!select!unload!animationend!animationiteration!animationstart!beforeunload!blur!domfocusin!domfocusout!focus!focusin!focusout!click!contextmenu!dblclick!mousedown!mouseenter!mouseleave!mousemove!mouseout!mouseover!mouseup!show!compositionend!compositionstart!compositionupdate!copy!cut!paste!drag!dragend!dragenter!dragleave!dragover!dragstart!drop!hashchange!keydown!keypress!keyup!pagehide!pageshow!popstate!touchcancel!touchend!touchmove!touchstart!transitionend!wheel!',\n\t\t\t\tposition = list.indexOf('!' + name.toLowerCase() + '!'),\n\t\t\t\tresult;\n\n\t\t\tif (position < 0) {\n\t\t\t\t//  Use a Custom event for anything we don't know\n\t\t\t\tresult = 'Custom';\n\t\t\t}\n\n\t\t\t//  'afterprint'         (HTML5) The associated document has started printing or the print preview has been closed.\n\t\t\t//  'beforeprint'        (HTML5) The associated document is about to be printed or previewed for printing.\n\t\t\t//  'canplay'            (HTML5 media) The user agent can play the media, but estimates that not enough data has been\n\t\t\t//                                     loaded to play the media up to its end without having to stop for further\n\t\t\t//                                     buffering of content.\n\t\t\t//  'canplaythrough'     (HTML5 media) The user agent can play the media, and estimates that enough data has been\n\t\t\t//                                     loaded to play the media up to its end without having to stop for further\n\t\t\t//                                     buffering of content.\n\t\t\t//  'change'             (DOM L2, HTML5) An element loses focus and its value changed since gaining focus.\n\t\t\t//  'DOMContentLoaded'   (HTML5) The document has finished loading (but not its dependent resources).\n\t\t\t//  'durationchange'     (HTML5 media) The duration attribute has been updated.\n\t\t\t//  'emptied'            (HTML5 media) The media has become empty; for example, this event is sent if the media has\n\t\t\t//                                     already been loaded (or partially loaded), and the load() method is called\n\t\t\t//                                     to reload it.\n\t\t\t//  'ended'              (HTML5 media) Playback has stopped because the end of the media was reached.\n\t\t\t//  'input'              (HTML5) The value of an element changes or the content of an element with the attribute\n\t\t\t//                               contenteditable is modified.\n\t\t\t//  'invalid'            (HTML5) A submittable element has been checked and doesn't satisfy its constraints.\n\t\t\t//  'loadeddata'         (HTML5 media) The first frame of the media has finished loading.\n\t\t\t//  'loadedmetadata'     (HTML5 media) The metadata has been loaded.\n\t\t\t//  'offline'            (HTML5 offline) The browser has lost access to the network.\n\t\t\t//  'online'             (HTML5 offline) The browser has gained access to the network (but particular websites\n\t\t\t//                                       might be unreachable).\n\t\t\t//  'pause'              (HTML5 media) Playback has been paused.\n\t\t\t//  'play'               (HTML5 media) Playback has begun.\n\t\t\t//  'playing'            (HTML5 media) Playback is ready to start after having been paused or delayed due to\n\t\t\t//                                     lack of data.\n\t\t\t//  'ratechange'         (HTML5 media) The playback rate has changed.\n\t\t\t//  'readystatechange'   (HTML5 and XMLHttpRequest) The readyState attribute of a document has changed.\n\t\t\t//  'reset'              (DOM L2, HTML5) A form is reset.\n\t\t\t//  'seeked'             (HTML5 media) A seek operation completed.\n\t\t\t//  'seeking'            (HTML5 media) A seek operation began.\n\t\t\t//  'stalled'            (HTML5 media) The user agent is trying to fetch media data, but data is unexpectedly\n\t\t\t//                                     not forthcoming.\n\t\t\t//  'submit'             (DOM L2, HTML5) A form is submitted.\n\t\t\t//  'suspend'            (HTML5 media) Media data loading has been suspended.\n\t\t\t//  'timeupdate'         (HTML5 media) The time indicated by the currentTime attribute has been updated.\n\t\t\t//  'volumechange'       (HTML5 media) The volume has changed.\n\t\t\t//  'waiting'            (HTML5 media) Playback has stopped because of a temporary lack of data.\n\t\t\telse if (position < 277) {\n\t\t\t\t//  HTMLEvent\n\t\t\t\tresult = 'HTML';\n\t\t\t}\n\n\t\t\t//  'abort'              (DOM L3) The loading of a resource has been aborted.\n\t\t\t//  'DOMActivate'        (DOM L3) A button, link or state changing element is activated (use click instead).\n\t\t\t//  'error'              (DOM L3) A resource failed to load.\n\t\t\t//  'load'               (DOM L3) A resource and its dependent resources have finished loading.\n\t\t\t//  'resize'             (DOM L3) The document view has been resized.\n\t\t\t//  'scroll'             (DOM L3) The document view or an element has been scrolled.\n\t\t\t//  'select'             (DOM L3) Some text is being selected.\n\t\t\t//  'unload'             (DOM L3) The document or a dependent resource is being unloaded.\n\t\t\telse if (position < 334) {\n\t\t\t\t//  UIEvent\n\t\t\t\tresult = 'UI';\n\t\t\t}\n\n\t\t\t//  'animationend'       (CSS Animations) A CSS animation has completed.\n\t\t\t//  'animationiteration' (CSS Animations) A CSS animation is repeated.\n\t\t\t//  'animationstart'     (CSS Animations) A CSS animation has started.\n\t\t\telse if (position < 381) {\n\t\t\t\t//  AnimationEvent\n\t\t\t\tresult = 'Animation';\n\t\t\t}\n\n\t\t\t//  'beforeunload'       (HTML5)\n\t\t\telse if (position < 394) {\n\t\t\t\t//  BeforeUnloadEvent\n\t\t\t\tresult = 'BeforeUnload';\n\t\t\t}\n\n\t\t\t//  'blur'               (DOM L3) An element has lost focus (does not bubble).\n\t\t\t//  'DOMFocusIn'         (DOM L3) An element has received focus (use focus or focusin instead).\n\t\t\t//  'DOMFocusOut'        (DOM L3) An element has lost focus (use blur or focusout instead).\n\t\t\t//  'focus'              (DOM L3) An element has received focus (does not bubble).\n\t\t\t//  'focusin'            (DOM L3) An element is about to receive focus (bubbles).\n\t\t\t//  'focusout'           (DOM L3) An element is about to lose focus (bubbles).\n\t\t\telse if (position < 445) {\n\t\t\t\t//  FocusEvent\n\t\t\t\tresult = 'Focus';\n\t\t\t}\n\n\t\t\t//  'click'              (DOM L3) A pointing device button has been pressed and released on an element.\n\t\t\t//  'contextmenu'        (HTML5) The right button of the mouse is clicked (before the context menu is displayed).\n\t\t\t//  'dblclick'           (DOM L3) A pointing device button is clicked twice on an element.\n\t\t\t//  'mousedown'          (DOM L3) A pointing device button (usually a mouse) is pressed on an element.\n\t\t\t//  'mouseenter'         (DOM L3) A pointing device is moved onto the element that has the listener attached.\n\t\t\t//  'mouseleave'         (DOM L3) A pointing device is moved off the element that has the listener attached.\n\t\t\t//  'mousemove'          (DOM L3) A pointing device is moved over an element.\n\t\t\t//  'mouseout'           (DOM L3) A pointing device is moved off the element that has the listener attached or\n\t\t\t//                                off one of its children.\n\t\t\t//  'mouseover'          (DOM L3) A pointing device is moved onto the element that has the listener attached or\n\t\t\t//                                onto one of its children.\n\t\t\t//  'mouseup'            (DOM L3) A pointing device button is released over an element.\n\t\t\t//  'show'               (HTML5) A contextmenu event was fired on/bubbled to an element that has a\n\t\t\t//                               contextmenu attribute\n\t\t\telse if (position < 546) {\n\t\t\t\t//  MouseEvent\n\t\t\t\tresult = 'Mouse';\n\t\t\t}\n\n\t\t\t//  'compositionend'     (DOM L3) The composition of a passage of text has been completed or canceled.\n\t\t\t//  'compositionstart'   (DOM L3) The composition of a passage of text is prepared (similar to keydown for\n\t\t\t//                                a keyboard input, but works with other inputs such as speech recognition).\n\t\t\t//  'compositionupdate'  (DOM L3) A character is added to a passage of text being composed.\n\t\t\telse if (position < 596) {\n\t\t\t\t//  CompositionEvent\n\t\t\t\tresult = 'Composition';\n\t\t\t}\n\n\t\t\t//  'copy'               (Clipboard) The text selection has been added to the clipboard.\n\t\t\t//  'cut'                (Clipboard) The text selection has been removed from the document and added to the clipboard.\n\t\t\t//  'paste'              (Clipboard) Data has been transfered from the system clipboard to the document.\n\t\t\telse if (position < 611) {\n\t\t\t\t//  ClipboardEvent\n\t\t\t\tresult = 'Clipboard';\n\t\t\t}\n\n\t\t\t//  'drag'               (HTML5) An element or text selection is being dragged (every 350ms).\n\t\t\t//  'dragend'            (HTML5) A drag operation is being ended (by releasing a mouse button or hitting the\n\t\t\t//                               escape key).\n\t\t\t//  'dragenter'          (HTML5) A dragged element or text selection enters a valid drop target.\n\t\t\t//  'dragleave'          (HTML5) A dragged element or text selection enters a valid drop target.\n\t\t\t//  'dragover'           (HTML5) An element or text selection is being dragged over a valid drop target (every 350ms).\n\t\t\t//  'dragstart'          (HTML5) The user starts dragging an element or text selection.\n\t\t\t//  'drop'               (HTML5) An element is dropped on a valid drop target.\n\t\t\telse if (position < 668) {\n\t\t\t\t//  DragEvent\n\t\t\t\tresult = 'Drag';\n\t\t\t}\n\n\t\t\t//  'hashchange'         (HTML5) The fragment identifier of the URL has changed (the part of the URL after the #).\n\t\t\telse if (position < 679) {\n\t\t\t\t//  HashChangeEvent\n\t\t\t\tresult = 'HashChange';\n\t\t\t}\n\n\t\t\t//  'keydown'            (DOM L3) A key is pressed down.\n\t\t\t//  'keypress'           (DOM L3) A key is pressed down and that key normally produces a character value\n\t\t\t//                                (use input instead).\n\t\t\t//  'keyup'              (DOM L3) A key is released.\n\t\t\telse if (position < 702) {\n\t\t\t\t//  KeyboardEvent\n\t\t\t\tresult = 'Keyboard';\n\t\t\t}\n\n\t\t\t//  'pagehide'           (HTML5) A session history entry is being traversed from.\n\t\t\t//  'pageshow'           (HTML5) A session history entry is being traversed to.\n\t\t\telse if (position < 720) {\n\t\t\t\t//  PageTransitionEvent\n\t\t\t\tresult = 'PageTransition';\n\t\t\t}\n\n\t\t\t//  'popstate'           (HTML5) A session history entry is being navigated to (in certain cases).\n\t\t\telse if (position < 729) {\n\t\t\t\t//  PopStateEvent\n\t\t\t\tresult = 'PopState';\n\t\t\t}\n\n\t\t\t//  'touchcancel'        (Touch Events) A touch point has been disrupted in an implementation-specific manners\n\t\t\t//                                      (too many touch points for example).\n\t\t\t//  'touchend'           (Touch Events) A touch point is removed from the touch surface.\n\t\t\t//  'touchmove'          (Touch Events) A touch point is moved along the touch surface.\n\t\t\t//  'touchstart'         (Touch Events) A touch point is placed on the touch surface.\n\t\t\telse if (position < 771) {\n\t\t\t\t//  TouchEvent\n\t\t\t\tresult = 'Touch';\n\t\t\t}\n\n\t\t\t//  'transitionend'      (Transition Events) A CSS Transition has completed.\n\t\t\telse if (position < 777) {\n\t\t\t\t//  TransitionEvent\n\t\t\t\tresult = 'Transition';\n\t\t\t}\n\n\t\t\t//  'wheel'              (DOM L3) A wheel button of a pointing device is rotated in any direction.\n\t\t\telse if (position < 786) {\n\t\t\t\t//  WheelEvent\n\t\t\t\tresult = 'Wheel';\n\t\t\t}\n\n\t\t\treturn result + 'Event';\n\t\t}\n\n\t\t/**\n\t\t *  Get a property name unique per event type/dom element\n\t\t *  @name    getEventProperty\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   DOMElement target\n\t\t *  @param   string     type\n\t\t *  @return  string name\n\t\t */\n\t\tfunction getEventProperty(target, type) {\n\t\t\treturn '__kxevt_' + type + '_' + konflux.dom.reference(target);\n\t\t}\n\n\t\t/**\n\t\t *  Unify the event object, which makes event more consistent across browsers\n\t\t *  @name    unifyEvent\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  Event object\n\t\t */\n\t\tfunction unifyEvent(e) {\n\t\t\tvar evt = e || window.event;\n\n\t\t\tif (konflux.isType('undefined', evt.target)) {\n\t\t\t\tevt.target = !konflux.isType('undefined', evt.srcElement) ? evt.srcElement : null;\n\t\t\t}\n\n\t\t\tif (konflux.isType('undefined', evt.type)) {\n\t\t\t\tevt.type = evt.eventType;\n\t\t\t}\n\n\t\t\tevt.family = getEventType(evt.type);\n\n\t\t\tif (/^(mouse[a-z]+|drag(?:[a-z]+)?|drop|(?:dbl)?click)$/i.test(evt.type)) {\n\t\t\t\tevt.mouse = konflux.point(\n\t\t\t\t\tevt.pageX ? evt.pageX : (evt.clientX ? evt.clientX + document.body.scrollLeft + document.documentElement.scrollLeft : 0),\n\t\t\t\t\tevt.pageY ? evt.pageY : (evt.clientY ? evt.clientY + document.body.scrollTop + document.documentElement.scrollTop : 0)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn evt;\n\t\t}\n\n\t\t/**\n\t\t *  Prepare an iterator containing all given targets as item\n\t\t *  @name    prepareTargetIterator\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed target [one of: string CSSSelector, DOMElement, DOMNodeList, Array DOMElement, KonfluxIterator DOMElement, window]\n\t\t *  @return  KonfluxIterator target\n\t\t */\n\t\tfunction prepareTargetIterator(targets) {\n\t\t\tif (!targets) {\n\t\t\t\ttargets = [];\n\t\t\t}\n\n\t\t\tif (targets === window) {\n\t\t\t\ttargets = [targets];\n\t\t\t}\n\n\t\t\tif (konflux.isType('string', targets)) {\n\t\t\t\ttargets = document.querySelectorAll(targets);\n\t\t\t}\n\n\t\t\tif (!konflux.isType('number', targets.length)) {\n\t\t\t\ttargets = [targets];\n\t\t\t}\n\n\t\t\treturn konflux.iterator(targets);\n\t\t}\n\n\t\t/**\n\t\t *  Prepare an iterator containing all given events as item\n\t\t *  @name    prepareEventIterator\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed event [one of: string events, Array events, KonfluxIterator events]\n\t\t *  @return  KonfluxIterator events\n\t\t */\n\t\tfunction prepareEventIterator(events) {\n\t\t\tif (konflux.isType('string', events)) {\n\t\t\t\tevents = events.replace(/\\*/g, '').split(/[\\s*,]+/);\n\t\t\t}\n\t\t\telse if (!events) {\n\t\t\t\tevents = [];\n\t\t\t}\n\n\t\t\treturn konflux.iterator(events);\n\t\t}\n\n\t\t/**\n\t\t *  Attach event handler(s) to elements\n\t\t *  @name    listen\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed target [one of: string CSSSelector, DOMElement, DOMNodeList, Array DOMElement, KonfluxIterator DOMElement, window]\n\t\t *  @param   mixed event [one of: string events, Array events, KonfluxIterator events]\n\t\t *  @param   mixed [one of: function handler or string CSSSelector]\n\t\t *  @param   mixed [one of: function handler or bool capture]\n\t\t *  @param   mixed [one of: bool capture or null]\n\t\t *  @return  void\n\t\t */\n\t\tfunction listen(targets, events, filter, handler, capture) {\n\t\t\tif (!delegate) {\n\t\t\t\tdelegate = new KonfluxEventDelegate(unifyEvent);\n\t\t\t}\n\n\t\t\tevents = prepareEventIterator(events);\n\t\t\tprepareTargetIterator(targets).each(function(target) {\n\t\t\t\tevents.each(function(event) {\n\t\t\t\t\tvar setting = delegate.create(target, event, filter, handler, capture || filter ? true : false);\n\n\t\t\t\t\tattach(setting.target, setting.type, setting.delegate, setting.capture);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t *  Remove event handlers from elements\n\t\t *  @name    remove\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed [one of: string CSSSelector, DOMElement, DOMNodeList, Array DOMElement, KonfluxIterator DOMElement, function handler, window]\n\t\t *  @param   mixed [one of: string events, Array events, KonfluxIterator events, function handler, null]\n\t\t *  @param   mixed [one of: string CSSSelector, function handler, null]\n\t\t *  @param   mixed [one of: function handler, null]\n\t\t *  @return  void\n\t\t */\n\t\tfunction remove(targets, events, filter, handler) {\n\t\t\tvar result = [],\n\t\t\t\ti;\n\n\t\t\tif (delegate) {\n\t\t\t\tif (!targets) {\n\t\t\t\t\tresult = result.concat(delegate.find(null, null, null, handler));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tprepareTargetIterator(targets).each(function(target) {\n\t\t\t\t\t\tif (!events) {\n\t\t\t\t\t\t\tresult = result.concat(delegate.find(target, null, null, handler));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tprepareEventIterator(events).each(function(event) {\n\t\t\t\t\t\t\t\tresult = result.concat(delegate.find(target, event, filter, handler));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (result.length > 0) {\n\t\t\t\t\tfor (i = 0; i < result.length; ++i) {\n\t\t\t\t\t\tdetach(result[i].target, result[i].type, result[i].delegate, result[i].capture);\n\t\t\t\t\t\tdelegate.remove(result[i].target, result[i].type, filter, handler);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Attach an event handler to the target element\n\t\t *  @name    attach\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   DOMElement target\n\t\t *  @param   string     event\n\t\t *  @param   function   handler\n\t\t *  @param   bool       capture\n\t\t *  @return  void\n\t\t */\n\t\tfunction attach(target, type, handler, capture) {\n\t\t\tvar prop;\n\n\t\t\tif (target.addEventListener) {\n\t\t\t\ttarget.addEventListener(getEventName(type), handler, capture);\n\t\t\t}\n\t\t\telse if (target.attachEvent) {\n\t\t\t\tswitch (getEventType(type)) {\n\t\t\t\t\tcase 'CustomEvent':\n\t\t\t\t\t\tprop = getEventProperty(target, type);\n\t\t\t\t\t\tif (!(prop in target)) {\n\t\t\t\t\t\t\tObject.defineProperty(target, prop, {\n\t\t\t\t\t\t\t\t//  allow us to meddle with the defined property later on (e.g. remove it)\n\t\t\t\t\t\t\t\tconfigurable: true,\n\n\t\t\t\t\t\t\t\t//  prevent this property from showing up in a for .. in loop\n\t\t\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t\t\t\tget: function() {\n\t\t\t\t\t\t\t\t\treturn type;\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\tset: function(callback) {\n\t\t\t\t\t\t\t\t\tvar name = 'on' + type,\n\t\t\t\t\t\t\t\t\t\ti;\n\n\t\t\t\t\t\t\t\t\tif (!(name in this)) {\n\t\t\t\t\t\t\t\t\t\tthis[name] = [];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (konflux.isType('function', callback)) {\n\t\t\t\t\t\t\t\t\t\tthis[name].push(callback);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tcallback.returnValue = true;\n\t\t\t\t\t\t\t\t\t\tcallback.srcElement  = this;\n\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < this[name].length; ++i) {\n\t\t\t\t\t\t\t\t\t\t\tthis[name][i].apply(this, [callback]);\n\t\t\t\t\t\t\t\t\t\t\tif (!callback.returnValue) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//  assign the event handler\n\t\t\t\t\t\ttarget[prop] = handler;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t//  we deliberately ignore the 'capturing', as this will actually route any (such) event through\n\t\t\t\t\t\t//  the capture target in IE8 (which is the only browser using attachEvent\n\t\t\t\t\t\ttarget.attachEvent('on' + type, handler);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t *  Detach the event associated with the event type, handler and capturing from the target element\n\t\t *  @name    detach\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   DOMElement target\n\t\t *  @param   string     event\n\t\t *  @param   function   handler\n\t\t *  @param   bool       capture\n\t\t *  @return  void\n\t\t */\n\t\tfunction detach(target, type, handler, capture) {\n\t\t\tif (target.removeEventListener) {\n\t\t\t\ttarget.removeEventListener(getEventName(type), handler, capture);\n\t\t\t}\n\t\t\telse if (target.detachEvent) {\n\t\t\t\tswitch (getEventType(type)) {\n\t\t\t\t\tcase 'CustomEvent':\n\t\t\t\t\t\tdelete target[getEventProperty(target, type)];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttarget.detachEvent('on' + type, handler);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//  Custom events\n\n\t\t/**\n\t\t *  Create an event object and fire it for any given target\n\t\t *  @name    dispatch\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed  target [one of: string CSSSelector, DOMElement, DOMNodeList, Array DOMElement, KonfluxIterator DOMElement]\n\t\t *  @param   string type\n\t\t *  @param   object option\n\t\t *  @return  void\n\t\t */\n\t\tfunction dispatch(targets, name, option) {\n\t\t\tvar type = getEventType(name) || 'CustomEvent',\n\t\t\t\tSupport = konflux.browser.feature(type),\n\t\t\t\tdetail  = option || {},\n\t\t\t\ttrigger = false,\n\t\t\t\tp;\n\n\t\t\t//  IE11 actually has the CustomEvent (and the likes), but one cannot construct those directly as they are objects\n\t\t\tif (Support && konflux.isType('function', Support)) {\n\t\t\t\ttrigger = new Support(name, {\n\t\t\t\t\tdetail: detail,\n\t\t\t\t\tcancelable: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if ('createEvent' in document) {\n\t\t\t\ttrigger = document.createEvent(type);\n\t\t\t\tif (option || type === 'CustomEvent') {\n\t\t\t\t\ttrigger.initCustomEvent(name, false, true, detail);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttrigger.initEvent(name, false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ('createEventObject' in document) {\n\t\t\t\ttrigger = document.createEventObject();\n\t\t\t\ttrigger.eventType = name;\n\t\t\t\ttrigger.detail    = detail;\n\t\t\t}\n\n\t\t\tif (trigger) {\n\t\t\t\tprepareTargetIterator(targets).each(function(target) {\n\t\t\t\t\tif ('dispatchEvent' in target) {\n\t\t\t\t\t\ttarget.dispatchEvent(trigger);\n\t\t\t\t\t}\n\t\t\t\t\telse if ('fireEvent' in target) {\n\t\t\t\t\t\tif (type === 'CustomEvent') {\n\t\t\t\t\t\t\tp = getEventProperty(target, name);\n\n\t\t\t\t\t\t\t//  simply set the event property as we've already set up an setter function on it\n\t\t\t\t\t\t\tif (!konflux.isType('undefined', target[p])) {\n\t\t\t\t\t\t\t\ttarget[p] = trigger;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttarget.fireEvent('on' + name, trigger);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t//  expose public API\n\n\t\t/**\n\t\t *  Attach event handler(s) to elements\n\t\t *  @name    add\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed target [one of: string CSSSelector, DOMElement, DOMNodeList, Array DOMElement, KonfluxIterator DOMElement]\n\t\t *  @param   mixed event [one of: string events, Array events, KonfluxIterator events]\n\t\t *  @param   mixed [one of: function handler or string CSSSelector]\n\t\t *  @param   mixed [one of: function handler or bool capture]\n\t\t *  @param   mixed [one of: bool capture or null]\n\t\t *  @return  KonfluxEvent reference\n\t\t *\n\t\t *  @note    event.add(target, event, handler [,capture]) - add event handler(s) to target(s)\n\t\t *  @note    event.add(target, event, filter, handler [,capture]) - add event handler(s) to a selection of elements in target(s) matching given filter\n\t\t */\n\t\tevent.add = function(targets, events, filter, handler, capture) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tlisten.apply(event, [targets, events].concat(\n\t\t\t\t\tkonflux.isType('function', filter) ? [null, filter, handler] : [filter, handler, capture]\n\t\t\t\t));\n\t\t\t}, 1);\n\n\t\t\treturn event;\n\t\t};\n\n\t\t/**\n\t\t *  Remove event handlers from elements\n\t\t *  @name    remove\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   mixed [one of: string CSSSelector, DOMElement, DOMNodeList, Array DOMElement, KonfluxIterator DOMElement, function handler]\n\t\t *  @param   mixed [one of: string events, Array events, KonfluxIterator events, function handler, null]\n\t\t *  @param   mixed [one of: string CSSSelector, function handler, null]\n\t\t *  @param   mixed [one of: function handler, null]\n\t\t *  @return  KonfluxEvent reference\n\t\t *\n\t\t *  @note    event.remove(target)  - remove all event handling from given target(s)\n\t\t *  @note    event.remove(handler) - remove any event handling using given handler from any target\n\t\t *  @note    event.remove(target, event)   - remove given event(s) from given target(s)\n\t\t *  @note    event.remove(target, handler) - remove any event handling using given handler from given target(s)\n\t\t *  @note    event.remove(target, event, filter)  - remove given event(s) using given selector from given target(s)\n\t\t *  @note    event.remove(target, event, handler) - remove given event(s) using given handler from given target(s)\n\t\t *  @note    event.remove(target, event, filter, handler) - remove given event(s) matching given filter using given handler from given target(s)\n\t\t */\n\t\tevent.remove = function(targets, events, filter, handler) {\n\t\t\tvar arg = [targets, events, filter, handler];\n\n\t\t\t//  if the first argument is a function, we assume it is a handler\n\t\t\t//  and remove the events using it from all elements\n\t\t\tif (konflux.isType('function', targets)) {\n\t\t\t\targ = [null, null, null, targets];\n\t\t\t}\n\n\t\t\t//  if the second argument is a function, we assume the first argument\n\t\t\t//  to be the target(s) and remove all events using this handler from\n\t\t\t//  given target(s)\n\t\t\telse if (konflux.isType('function', events)) {\n\t\t\t\targ = [targets, null, null, events];\n\t\t\t}\n\n\t\t\t//  if the third argument is a function, we know it is not a filter\n\t\t\telse if (konflux.isType('function', filter)) {\n\t\t\t\targ = [targets, events, null, filter];\n\t\t\t}\n\n\t\t\tremove.apply(event, arg);\n\t\t\treturn event;\n\t\t};\n\n\t\t/**\n\t\t *  Trigger a custom event\n\t\t *  @name    trigger\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement target\n\t\t *  @param   string     name\n\t\t *  @return  void\n\t\t */\n\t\tevent.trigger = function(target, name, option) {\n\t\t\treturn dispatch(target, name, option);\n\t\t};\n\n\t\t/**\n\t\t *  Is the browser capable of touch events\n\t\t *  @name    hasTouch\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  bool is touch device\n\t\t */\n\t\tevent.hasTouch = function() {\n\t\t\tif (!konflux.isType('boolean', touch)) {\n\t\t\t\ttouch = konflux.browser.supports('touch');\n\t\t\t}\n\n\t\t\treturn touch;\n\t\t};\n\n\t\t/**\n\t\t *  Register handlers which get triggered when the DOM is ready for interactions\n\t\t *  @name    ready\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   function handler\n\t\t *  @return  bool     isReady\n\t\t */\n\t\tevent.ready = function(handler) {\n\t\t\t//  the document is ready already\n\t\t\tif (/^interactive|complete$/.test(document.readyState)) {\n\t\t\t\t// make sure we run the 'event' asynchronously\n\t\t\t\tsetTimeout(handler, 1);\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//  we cannot use the event.listen method, as we need very different event listeners\n\t\t\tif (typeof queue.ready === 'undefined') {\n\t\t\t\tqueue.ready = [];\n\n\t\t\t\tif (document.addEventListener) {\n\t\t\t\t\t//  prefer the 'DOM ready' event\n\t\t\t\t\tdocument.addEventListener('DOMContentLoaded', handleReadyState, false);\n\n\t\t\t\t\t//  failsafe to window.onload\n\t\t\t\t\twindow.addEventListener('load', handleReadyState, false);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//  the closest we can get to 'DOMContentLoaded' in IE, this is still prior to onload\n\t\t\t\t\tdocument.attachEvent('onreadystatechange', handleReadyState);\n\n\t\t\t\t\t//  again the failsafe, now IE style\n\t\t\t\t\twindow.attachEvent('onload', handleReadyState);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tqueue.ready.push(handler);\n\t\t\treturn false;\n\t\t};\n\n\t\t//  Announce deprecation\n\t\tevent.listen = konflux.deprecate(\n\t\t\t'konflux.event.listen is deprecated, use konflux.event.add instead (a drop-in replacement)',\n\t\t\tevent.add\n\t\t);\n\t\tevent.live = konflux.deprecate(\n\t\t\t'konflux.event.live is deprecated, use konflux.event.add instead (a drop-in replacement)',\n\t\t\tevent.add\n\t\t);\n\t}\n\n\tkonflux.register('event', new KonfluxEvent());\n\n\t/**\n\t *  Convenience function bridging the event.ready method\n\t *  @name    ready\n\t *  @type    method\n\t *  @access  public\n\t *  @param   function handler\n\t *  @return  bool     is ready\n\t */\n\tkonflux.register('ready', function(handler) {\n\t\treturn 'event' in konflux ? konflux.event.ready(handler) : false;\n\t});\n\n\t//END INCLUDE: core/event [4.15ms, 33.40KB]\n\t//BEGIN INCLUDE: core/style\n\t/**\n\t *  Style(sheet) manipulation\n\t *  @module  style\n\t *  @note    available as konflux.style / kx.style\n\t */\n\tfunction KonfluxStyle() {\n\t\t/*jshint validthis: true*/\n\t\tvar style = this;\n\n\t\t/**\n\t\t *  Obtain the script property notation for given property\n\t\t *  @name    scriptProperty\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string property\n\t\t *  @return  string script property\n\t\t *  @note    'background-color' => 'backgroundColor'\n\t\t */\n\t\tfunction scriptProperty(property) {\n\t\t\tvar n = 0;\n\n\t\t\tif (property === 'float') {\n\t\t\t\treturn 'cssFloat';\n\t\t\t}\n\n\t\t\twhile ((n = property.indexOf('-', n)) >= 0) {\n\t\t\t\tproperty = property.substr(0, n) + property.charAt(++n).toUpperCase() + property.substring(n + 1);\n\t\t\t}\n\n\t\t\treturn property;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the CSS property notation for given property\n\t\t *  @name    cssProperty\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string property\n\t\t *  @return  string CSS property\n\t\t *  @note    'backgroundColor' => 'background-color'\n\t\t */\n\t\tfunction cssProperty(property) {\n\t\t\tif (property === 'cssFloat') {\n\t\t\t\tproperty = 'float';\n\t\t\t}\n\n\t\t\treturn property.replace(/([A-Z])/g, '-$1').toLowerCase();\n\t\t}\n\n\t\t/**\n\t\t *  Determine whether or not the property is supported and try a vendor prefix, otherwise return false\n\t\t *  @name    hasProperty\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string  property\n\t\t *  @param   DOMNode target [optional, default undefined - document.body]\n\t\t *  @return  mixed  (one of: string (script)property, or false)\n\t\t */\n\t\tfunction hasProperty(property, target) {\n\t\t\tproperty = scriptProperty(property);\n\t\t\ttarget   = target || document.body;\n\n\t\t\tif (property in target.style) {\n\t\t\t\treturn property;\n\t\t\t}\n\n\t\t\tproperty = konflux.browser.prefix() + konflux.string.ucFirst(property);\n\t\t\tif (property in target.style) {\n\t\t\t\treturn property;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain all local stylesheets, where local is determined on a match of the domain\n\t\t *  @name    getLocalStylesheets\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  array stylesheets\n\t\t */\n\t\tfunction getLocalStylesheets() {\n\t\t\tvar all = document.styleSheets,\n\t\t\t\tlist = [],\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < all.length; ++i) {\n\t\t\t\tif (konflux.url.isLocal(all[i].href)) {\n\t\t\t\t\tlist.push(all[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain specific stylesheets\n\t\t *  @name    getStylesheet\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name [optional, default 'all' - all stylesheets. Possible values 'first', 'last', 'all' or string filename]\n\t\t *  @param   bool   includeOffset [optional, default false - local stylesheets only]\n\t\t *  @return  array stylesheets\n\t\t */\n\t\tfunction getStylesheet(name, includeOffsite) {\n\t\t\tvar list = includeOffsite ? document.styleSheets : getLocalStylesheets(),\n\t\t\t\tmatch = [],\n\t\t\t\ti;\n\n\t\t\tswitch (name) {\n\t\t\t\t//  get the first stylesheet from the list of selected stylesheets\n\t\t\t\tcase 'first':\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tmatch = [list[0]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t//  get the last stylesheet from the list of selected stylesheets\n\t\t\t\tcase 'last':\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tmatch = [list[list.length - 1]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\t//  if no name was provided, return the entire list of (editable) stylesheets\n\t\t\t\t\tif (name === 'all') {\n\t\t\t\t\t\tmatch = list;\n\t\t\t\t\t}\n\t\t\t\t\telse if (!name) {\n\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t//  search for the stylesheet(s) whose href matches the given name\n\t\t\t\t\telse if (list.length > 0) {\n\t\t\t\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\t\t\t\tif (list[i].href && list[i].href.substr(-name.length) === name) {\n\t\t\t\t\t\t\t\tmatch.push(list[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (list[i].title && list[i].title === name) {\n\t\t\t\t\t\t\t\tmatch.push(list[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn match;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain a stylesheet by its url or title\n\t\t *  @name    findStylesheet\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string url\n\t\t *  @param   string name\n\t\t *  @return  StyleSheet (bool false if not found)\n\t\t */\n\t\tfunction findStylesheet(url, name) {\n\t\t\tvar match = getStylesheet(url, true);\n\t\t\tif (name && match.length === 0) {\n\t\t\t\tmatch = getStylesheet(name, true);\n\t\t\t}\n\n\t\t\treturn match.length > 0 ? match[0] : false;\n\t\t}\n\n\t\t/**\n\t\t *  Create a new stylesheet\n\t\t *  @name    createStylesheet\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string url\n\t\t *  @param   bool   before (effectively true for being the first stylesheet, anything else for last)\n\t\t *  @param   string name\n\t\t *  @return  style node\n\t\t */\n\t\tfunction createStylesheet(url, before, name) {\n\t\t\tvar element = findStylesheet(url, name),\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0];\n\n\t\t\tif (!element) {\n\t\t\t\telement = document.createElement(url ? 'link' : 'style');\n\t\t\t\telement.setAttribute('type', 'text/css');\n\t\t\t\telement.setAttribute('title', name || 'konflux.style.' + konflux.unique());\n\n\t\t\t\tif (/link/i.test(element.nodeName)) {\n\t\t\t\t\telement.setAttribute('rel', 'stylesheet');\n\t\t\t\t\telement.setAttribute('href', url);\n\t\t\t\t}\n\n\t\t\t\tif (before && document.head.firstChild) {\n\t\t\t\t\thead.insertBefore(element, head.firstChild);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thead.appendChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn element;\n\t\t}\n\n\t\t/**\n\t\t *  Parse the style declarations' cssText into key/value pairs\n\t\t *  @name    getStyleProperties\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   CSS Rule\n\t\t *  @return  Object key value pairs\n\t\t */\n\t\tfunction getStyleProperties(declaration) {\n\t\t\tvar list = declaration.split(/\\s*;\\s*/),\n\t\t\t\trules = {},\n\t\t\t\ti, part;\n\n\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\tpart = list[i].split(/\\s*:\\s*/);\n\n\t\t\t\tif (part[0] !== '') {\n\t\t\t\t\trules[scriptProperty(part.shift())] = normalizeValue(part.join(':'));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn rules;\n\t\t}\n\n\t\t/**\n\t\t *  Normalize given selector string\n\t\t *  @name    normalizeSelector\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string selector\n\t\t *  @return  string normalized selector\n\t\t */\n\t\tfunction normalizeSelector(selector) {\n\t\t\treturn selector.split(/\\s+/).join(' ').toLowerCase();\n\t\t}\n\n\t\t/**\n\t\t *  Normalize given CSS value\n\t\t *  @name    normalizeValue\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string value\n\t\t *  @return  string normalized value\n\t\t */\n\t\tfunction normalizeValue(value) {\n\t\t\tvar pattern = {\n\t\t\t\t\t//  minimize whitespace\n\t\t\t\t\t' ': /\\s+/g,\n\n\t\t\t\t\t//  unify quotes\n\t\t\t\t\t'\"': /[\"']/g,\n\n\t\t\t\t\t//  unify whitespace around separators\n\t\t\t\t\t',': /\\s*,\\s*/g,\n\n\t\t\t\t\t//  remove leading 0 from decimals\n\t\t\t\t\t'.': /\\b0+\\./g,\n\n\t\t\t\t\t//  remove units from 0 value\n\t\t\t\t\t0: /0(?:px|em|%|pt)\\b/g\n\t\t\t\t},\n\t\t\t\tp;\n\n\t\t\tfor (p in pattern) {\n\t\t\t\tvalue = value.replace(pattern[p], p);\n\t\t\t}\n\n\t\t\t//  most browsers will recalculate hex color notation to rgb, so we do the same\n\t\t\tpattern = value.match(/#([0-9a-f]+)/);\n\t\t\tif (pattern && pattern.length > 0) {\n\t\t\t\tpattern = pattern[1];\n\t\t\t\tif (pattern.length % 3 !== 0) {\n\t\t\t\t\tpattern = konflux.string.pad(pattern, 6, '0');\n\t\t\t\t}\n\t\t\t\telse if (pattern.length === 3) {\n\t\t\t\t\tpattern = pattern[0] + pattern[0] + pattern[1] + pattern[1] + pattern[2] + pattern[2];\n\t\t\t\t}\n\n\t\t\t\tvalue = 'rgb(' + [\n\t\t\t\t\tparseInt(pattern[0] + pattern[1], 16),\n\t\t\t\t\tparseInt(pattern[2] + pattern[3], 16),\n\t\t\t\t\tparseInt(pattern[4] + pattern[5], 16)\n\t\t\t\t].join(',') + ')';\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\t/**\n\t\t *  Add one or more css classes to given element\n\t\t *  @name    addClass\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMelement element\n\t\t *  @param   string classes (separated by any combination of whitespace and/or comma\n\t\t *  @return  string classes\n\t\t */\n\t\tstyle.addClass = function(element, classes) {\n\t\t\tvar current = konflux.string.trim(element.className).split(/\\s+/);\n\n\t\t\telement.className = current.concat(konflux.array.diff(classes.split(/[,\\s]+/), current)).join(' ');\n\n\t\t\treturn element.className;\n\t\t};\n\n\t\t/**\n\t\t *  Remove one or more css classes from given element\n\t\t *  @name    removeClass\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement element\n\t\t *  @param   string classes (separated by any combination of whitespace and/or comma\n\t\t *  @return  string classes\n\t\t */\n\t\tstyle.removeClass = function(element, classes) {\n\t\t\tvar delta = konflux.string.trim(element.className).split(/\\s+/),\n\t\t\t\tclassList = konflux.string.trim(classes).split(/[,\\s]+/),\n\t\t\t\ti, p;\n\n\t\t\tfor (i = 0; i < classList.length; ++i) {\n\t\t\t\tp = konflux.array.contains(delta, classList[i]);\n\n\t\t\t\tif (p !== false) {\n\t\t\t\t\tdelta.splice(p, 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement.className = delta.join(' ');\n\n\t\t\treturn element.className;\n\t\t};\n\n\t\t/**\n\t\t *  Toggle one or more css classes on given element\n\t\t *  @name    toggleClass\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement element\n\t\t *  @param   string classes (separated by any combination of whitespace and/or comma\n\t\t *  @return  string classes\n\t\t */\n\t\tstyle.toggleClass = function(element, classes) {\n\t\t\tvar current = konflux.string.trim(element.className).split(/\\s+/),\n\t\t\t\tclassList = konflux.string.trim(classes).split(/[,\\s]+/),\n\t\t\t\ti, p;\n\n\t\t\tfor (i = 0; i < classList.length; ++i) {\n\t\t\t\tp = konflux.array.contains(current, classList[i]);\n\t\t\t\tif (p !== false) {\n\t\t\t\t\tcurrent.splice(p, 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrent.push(classList[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement.className = current.join(' ');\n\n\t\t\treturn element.className;\n\t\t};\n\n\t\t/**\n\t\t *  Apply style rules to target DOMElement\n\t\t *  @name    inline\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement target\n\t\t *  @param   object style rules\n\t\t *  @return  KonfluxStyle reference\n\t\t */\n\t\tstyle.inline = function(target, rules) {\n\t\t\tvar p, q;\n\n\t\t\tfor (p in rules) {\n\t\t\t\tq = hasProperty(p);\n\n\t\t\t\tif (q) {\n\t\t\t\t\ttarget.style[q] = rules[p];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn style;\n\t\t};\n\n\t\t/**\n\t\t *  Obtain a CSS selector for given element\n\t\t *  @name    selector\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement target\n\t\t *  @param   bool       skipNode [optional, default false - include node name]\n\t\t *  @return  string selector\n\t\t */\n\t\tstyle.selector = function(target, skipNode) {\n\t\t\tvar node = target.nodeName.toLowerCase(),\n\t\t\t\tid = target.hasAttribute('id') ? '#' + target.getAttribute('id') : null,\n\t\t\t\tclasses = target.hasAttribute('class') ? '.' + konflux.string.trim(target.getAttribute('class')).split(/\\s+/).join('.') : null,\n\t\t\t\tselect = '';\n\n\t\t\tif (arguments.length === 1 || id || classes) {\n\t\t\t\tselect = (skipNode ? '' : node) + (id || classes || '');\n\t\t\t}\n\n\t\t\treturn konflux.string.trim((!id && target.parentNode && target !== document.body ? style.selector(target.parentNode, true) + ' ' : '') + select);\n\t\t};\n\n\t\t/**\n\t\t *  Obtain a stylesheet by its name or by a mnemonic (first, last, all)\n\t\t *  @name    sheet\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string target [optional, default 'all' - all stylesheets. Possible values 'first', 'last', 'all' or string filename]\n\t\t *  @param   bool   editable [optional, default true - only editable stylesheets]\n\t\t *  @return  array  stylesheets\n\t\t */\n\t\tstyle.sheet = function(target, editable) {\n\t\t\tvar list = getStylesheet(konflux.isType('string', target) ? target : null, editable === false ? true : false),\n\t\t\t\ti;\n\n\t\t\tif (konflux.isType('undefined', target.nodeName)) {\n\t\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\t\tif (list[i].ownerNode === target) {\n\t\t\t\t\t\treturn [list[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t};\n\n\t\t/**\n\t\t *  Create a new stylesheet, either as first or last\n\t\t *  @name    create\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   bool  before all other stylesheets\n\t\t *  @return  styleSheet\n\t\t */\n\t\tstyle.create = function(name, before) {\n\t\t\tvar element = createStylesheet(false, before, name);\n\n\t\t\treturn element.sheet || false;\n\t\t};\n\n\t\t/**\n\t\t *  Load an external stylesheet, either as first or last\n\t\t *  @name    load\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string   url the url of the stylesheet to load\n\t\t *  @param   function callback\n\t\t *  @param   bool     before all other style sheets\n\t\t *  @return  style node (<link...> element)\n\t\t */\n\t\tstyle.load = function(url, callback, before) {\n\t\t\tvar style = createStylesheet(url, before);\n\n\t\t\t//  if style is a StyleSheet object, it has the ownerNode property containing the actual DOMElement in which it resides\n\t\t\tif (konflux.isType('undefined', style.ownerNode)) {\n\t\t\t\tstyle = style.ownerNode;\n\n\t\t\t\t//  it is safe to assume here that the stylesheet was loaded, hence we need to apply the callback (with a slight delay, so the order of returning and execution of the callback is the same for both load scenario's)\n\t\t\t\tif (callback) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tcallback.apply(style, [style]);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (callback) {\n\t\t\t\tkonflux.event.add(style, 'load', function(e) {\n\t\t\t\t\tcallback.apply(style, [e]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn style;\n\t\t};\n\n\t\t/**\n\t\t *  Determine whether or not the given style (node) is editable\n\t\t *  @name    isEditable\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   Stylesheet object or DOMelement style/link\n\t\t *  @return  bool  editable\n\t\t */\n\t\tstyle.isEditable = function(stylesheet) {\n\t\t\tvar list = getLocalStylesheets(),\n\t\t\t\tnode = konflux.isType('undefined', stylesheet.ownerNode) ? stylesheet.ownerNode : stylesheet,\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\tif (list[i].ownerNode === node) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t/**\n\t\t *  Create and add a new style rule\n\t\t *  @name    add\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string selector\n\t\t *  @param   mixed  rules (one of; object {property: value} or string 'property: value')\n\t\t *  @param   mixed  sheet (either a sheet object or named reference, like 'first', 'last' or file name)\n\t\t *  @param   bool   skipNode [optional, default false - include node name]\n\t\t *  @return  int    index at which the rule was added\n\t\t */\n\t\tstyle.add = function(selector, rules, sheet, skipNode) {\n\t\t\tvar rule = '',\n\t\t\t\tfind, p, pr;\n\n\t\t\t//  in case the selector is not a string but a DOMElement, we go out and create a selector from it\n\t\t\tif (konflux.isType('object', selector) && 'nodeType' in selector) {\n\t\t\t\tselector = style.selector(selector, skipNode) || style.selector(selector);\n\t\t\t}\n\n\t\t\t//  make the rules into an object\n\t\t\tif (konflux.isType('string', rules)) {\n\t\t\t\trules = getStyleProperties(rules);\n\t\t\t}\n\n\t\t\t//  if rules isn't an object, we exit right here\n\t\t\tif (!konflux.isType('object', rules)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t//  if no sheet was provided, or a string reference to a sheet was provided, resolve it\n\t\t\tif (!sheet || konflux.isType('string', sheet)) {\n\t\t\t\tsheet = getStylesheet(sheet || 'last');\n\t\t\t}\n\n\t\t\t//  in case we now have a list of stylesheets, we either want one (if there's just one) or we add the style to all\n\t\t\tif (sheet instanceof Array) {\n\t\t\t\tif (sheet.length === 1) {\n\t\t\t\t\tsheet = sheet[0];\n\t\t\t\t}\n\t\t\t\telse if (sheet.length <= 0) {\n\t\t\t\t\tsheet = createStylesheet().sheet;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\trule = true;\n\t\t\t\t\tfor (p = 0; p < sheet.length; ++p) {\n\t\t\t\t\t\trule = rule && style.add(selector, rules, sheet[p]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn rule;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//  populate the find buffer, so we can determine which style rules we actually need\n\t\t\tfind = style.find(selector, sheet);\n\t\t\tfor (p in rules) {\n\t\t\t\tif (!(p in find) || normalizeValue(find[p]) !== normalizeValue(rules[p])) {\n\t\t\t\t\tpr = hasProperty(p);\n\t\t\t\t\tif (pr) {\n\t\t\t\t\t\trule += (rule !== '' ? ';' : '') + cssProperty(pr) + ':' + rules[p];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//  finally, add the rules to the stylesheet\n\t\t\tif (sheet.addRule) {\n\t\t\t\treturn sheet.addRule(selector, rule);\n\t\t\t}\n\t\t\telse if (sheet.insertRule) {\n\t\t\t\treturn sheet.insertRule(selector + '{' + rule + '}', sheet.cssRules.length);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t/**\n\t\t *  Find all style rules for given selector (in optionally given sheet)\n\t\t *  @name    find\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string selector\n\t\t *  @param   mixed  sheet [optional, either a sheet object or named reference, like 'first', 'last' or file name]\n\t\t *  @return  object style rules\n\t\t */\n\t\tstyle.find = function(selector, sheet) {\n\t\t\tvar match = {},\n\t\t\t\trules, i, j;\n\n\t\t\tif (selector) {\n\t\t\t\tselector = normalizeSelector(selector);\n\t\t\t}\n\n\t\t\tif (!sheet) {\n\t\t\t\tsheet = getStylesheet();\n\t\t\t}\n\t\t\telse if (!(sheet instanceof Array)) {\n\t\t\t\tsheet = [sheet];\n\t\t\t}\n\n\t\t\tfor (i = 0; i < sheet.length; ++i) {\n\t\t\t\trules = konflux.type(sheet[i].cssRules) ? sheet[i].cssRules : sheet[i].rules;\n\t\t\t\tif (rules && rules.length) {\n\t\t\t\t\tfor (j = 0; j < rules.length; ++j) {\n\t\t\t\t\t\tif ('selectorText' in rules[j] && (!selector || normalizeSelector(rules[j].selectorText) === selector)) {\n\t\t\t\t\t\t\tmatch = konflux.combine(match, getStyleProperties(rules[j].style.cssText));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn match;\n\t\t};\n\n\t\t/**\n\t\t *  Get the given style property from element\n\t\t *  @name    get\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   DOMElement element\n\t\t *  @param   string     property\n\t\t *  @param   string     pseudo tag [optional, default undefined - no pseudo tag]\n\t\t *  @return  string     value\n\t\t */\n\t\tstyle.get = function(element, property, pseudo) {\n\t\t\tvar value;\n\n\t\t\tproperty = hasProperty(property);\n\t\t\tif (property) {\n\t\t\t\tif (window.getComputedStyle) {\n\t\t\t\t\tvalue = document.defaultView.getComputedStyle(element, pseudo || null).getPropertyValue(cssProperty(property));\n\t\t\t\t}\n\t\t\t\telse if (element.currentStyle) {\n\t\t\t\t\tvalue = element.currentStyle(scriptProperty(property));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t};\n\n\t\t/**\n\t\t *  Determine whether or not the property is supported and try a vendor prefix, otherwise return false\n\t\t *  @name    property\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string  property\n\t\t *  @param   DOMNode target [optional, default undefined - document.body]\n\t\t *  @return  mixed  (one of: string (script)property, or false)\n\t\t */\n\t\tstyle.property = hasProperty;\n\n\t\t/**\n\t\t *  Calculate the specificity of a selector\n\t\t *  @name    specificity\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string selector\n\t\t *  @return  string specificity ('0.0.0.0')\n\t\t */\n\t\tstyle.specificity = function(selector) {\n\t\t\tvar result = [0, 0, 0, 0],\n\t\t\t\tmatch = konflux.string.trim(selector.replace(/([#\\.\\:\\[]+)/g, ' $1')).split(/[^a-z0-9\\.\\[\\]'\":\\*\\.#=_-]+/),\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < match.length; ++i) {\n\t\t\t\t++result[/^#/.test(match[i]) ? 1 : (/^(?:\\.|\\[|:[^:])/.test(match[i]) ? 2 : 3)];\n\t\t\t}\n\n\t\t\treturn result.join('.');\n\t\t};\n\t}\n\n\tkonflux.register('style', new KonfluxStyle());\n\n\t//END INCLUDE: core/style [2.16ms, 17.58KB]\n\t//BEGIN INCLUDE: core/storage\n\t/**\n\t *  Storage object, a simple wrapper for localStorage\n\t *  @module  storage\n\t *  @note    available as konflux.storage / kx.storage\n\t */\n\tfunction KonfluxStorage() {\n\t\t/*jshint validthis: true*/\n\t\tvar ls = this,\n\t\t\tmaxSize = 2048,\n\t\t\tstorage = konflux.isType('undefined', window.localStorage) ? window.localStorage : false,\n\t\t\tfragmentPattern = /^\\[fragment:([0-9]+),([0-9]+),([a-z0-9_]+)\\]$/;\n\n\t\t/**\n\t\t *  Combine stored fragments together into the original data string\n\t\t *  @name    combineFragments\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string data index\n\t\t *  @return  string data combined\n\t\t */\n\t\tfunction combineFragments(data) {\n\t\t\tvar match = data ? data.match(fragmentPattern) : false,\n\t\t\t\tpart, fragment, length, variable, i;\n\n\t\t\tif (match) {\n\t\t\t\tfragment = parseInt(match[1], 10);\n\t\t\t\tlength   = parseInt(match[2], 10);\n\t\t\t\tvariable = match[3];\n\t\t\t\tdata     = '';\n\n\t\t\t\tfor (i = 0; i < fragment; ++i) {\n\t\t\t\t\tpart = storage.getItem(variable + i);\n\t\t\t\t\tif (part !== null) {\n\t\t\t\t\t\tdata += part;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!data || data.length !== length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t/**\n\t\t *  Split a large data string into several smaller fragments\n\t\t *  @name    createFragments\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name\n\t\t *  @param   string data\n\t\t *  @return  bool   success\n\t\t */\n\t\tfunction createFragments(name, data) {\n\t\t\tvar variable = '__' + name,\n\t\t\t\tfragment = Math.ceil(data.length / maxSize),\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < fragment; ++i) {\n\t\t\t\tstorage.setItem(variable + i, data.substring(i * maxSize, Math.min((i + 1) * maxSize, data.length)));\n\t\t\t}\n\n\t\t\t//  write the index\n\t\t\tstorage.setItem(name, '[fragment:' + fragment + ',' + data.length + ',' + variable + ']');\n\t\t}\n\n\t\t/**\n\t\t *  Remove all fragmented keys\n\t\t *  @name    dropFragments\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   array  match\n\t\t *  @return  void\n\t\t */\n\t\tfunction dropFragments(match) {\n\t\t\tvar fragment = parseInt(match[1], 10),\n\t\t\t\tvariable = match[3],\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < fragment; ++i) {\n\t\t\t\tremove(variable + i);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Obtain all data from localStorage\n\t\t *  @name    getAll\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  mixed  data\n\t\t */\n\t\tfunction getAll() {\n\t\t\tvar result = null,\n\t\t\t\ti, key;\n\n\t\t\tif (storage) {\n\t\t\t\tresult = {};\n\t\t\t\tfor (i = 0; i < storage.length; ++i) {\n\t\t\t\t\tkey = storage.key(i);\n\t\t\t\t\tresult[key] = getItem(key);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the data for given name\n\t\t *  @name    getItem\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name\n\t\t *  @return  mixed  data\n\t\t */\n\t\tfunction getItem(name) {\n\t\t\tvar data = storage ? storage.getItem(name) : false;\n\n\t\t\tif (data && data.match(fragmentPattern)) {\n\t\t\t\tdata = combineFragments(data);\n\t\t\t}\n\n\t\t\tif (data && data.match(/^[a-z0-9]+:.*$/i)) {\n\t\t\t\tdata = /([a-z0-9]+):(.*)/i.exec(data);\n\t\t\t\tif (data.length > 2 && data[1] === konflux.string.checksum(data[2])) {\n\t\t\t\t\treturn JSON.parse(data[2]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data ? data : false;\n\t\t}\n\n\t\t/**\n\t\t *  Set the data for given name\n\t\t *  @name    setItem\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name\n\t\t *  @param   mixed  data\n\t\t *  @return  string data\n\t\t */\n\t\tfunction setItem(name, data) {\n\t\t\tdata = JSON.stringify(data);\n\t\t\tdata = konflux.string.checksum(data) + ':' + data;\n\n\t\t\tif (storage) {\n\t\t\t\treturn data.length > maxSize ? createFragments(name, data) : storage.setItem(name, data);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Remove the data for given name\n\t\t *  @name    remove\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string name\n\t\t *  @return  bool   success\n\t\t */\n\t\tfunction remove(name) {\n\t\t\tvar data, match;\n\n\t\t\tif (storage) {\n\t\t\t\tdata = storage.getItem(name);\n\t\t\t\tif (data && (match = data.match(fragmentPattern))) {\n\t\t\t\t\tdropFragments(match);\n\t\t\t\t}\n\n\t\t\t\treturn storage.removeItem(name);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t *  Get the data for given name\n\t\t *  @name    get\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string name [optional, default null - get all stored entries]\n\t\t *  @return  mixed  data\n\t\t */\n\t\tls.get = function(name) {\n\t\t\treturn name ? getItem(name) : getAll();\n\t\t};\n\n\t\t/**\n\t\t *  Set the data for given name\n\t\t *  @name    set\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string name\n\t\t *  @param   mixed  data\n\t\t *  @return  void\n\t\t */\n\t\tls.set = setItem;\n\n\t\t/**\n\t\t *  Remove the data for given name\n\t\t *  @name    remove\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string name\n\t\t *  @return  bool   success\n\t\t */\n\t\tls.remove = remove;\n\n\t\t/**\n\t\t *  Get the amount of stored keys\n\t\t *  @name    length\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  number stored keys\n\t\t */\n\t\tls.length = function() {\n\t\t\treturn storage ? storage.length : false;\n\t\t};\n\n\t\t/**\n\t\t *  Obtain all the keys\n\t\t *  @name    keys\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  Array  keys\n\t\t */\n\t\tls.keys = function() {\n\t\t\tvar key = getAll(),\n\t\t\t\tlist = [],\n\t\t\t\tp;\n\n\t\t\tfor (p in key) {\n\t\t\t\tlist.push(p);\n\t\t\t}\n\n\t\t\treturn list;\n\t\t};\n\n\t\t/**\n\t\t *  Flush all stored items\n\t\t *  @name    flush\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  void\n\t\t */\n\t\tls.flush = function() {\n\t\t\tvar list = ls.keys(),\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\tremove(list[i]);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *  Obtain the (approximate) byte size of the entire storage\n\t\t *  @name    size\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @return  int size\n\t\t */\n\t\tls.size = function() {\n\t\t\treturn decodeURI(encodeURIComponent(JSON.stringify(localStorage))).length;\n\t\t};\n\t}\n\n\tkonflux.register('storage', new KonfluxStorage());\n\n\t//END INCLUDE: core/storage [778.53µs, 5.42KB]\n\t//BEGIN INCLUDE: core/observer\n\t/**\n\t *  Observer object, handles subscriptions to messages\n\t *  @module  observer\n\t *  @note    available as konflux.observer / kx.observer\n\t */\n\tfunction KonfluxObserver() {\n\t\t/*jshint validthis: true*/\n\t\tvar observer = this,\n\t\t\tsubscription = {},\n\t\t\tactive = {};\n\n\t\t/*global KonfluxObservation*/\n\n\t\t//BEGIN INCLUDE: observer/observation\n\t\t/**\n\t\t *  Observation object, instances of this are be provided to all observer notification subscribers\n\t\t *  @name    KonfluxObservation\n\t\t *  @type    module\n\t\t *  @access  internal\n\t\t *  @param   string type\n\t\t *  @param   function handle\n\t\t *  @param   string reference\n\t\t *  @return  KonfluxObservation object\n\t\t */\n\t\tfunction KonfluxObservation(type, handle, reference) {\n\t\t\t'use strict';\n\n\t\t\t/*global konflux, disable, active*/\n\n\t\t\t/*jshint validthis: true*/\n\t\t\tvar observation = this;\n\n\t\t\tobservation.type      = type;\n\t\t\tobservation.reference = reference;\n\t\t\tobservation.timeStamp = konflux.time();\n\t\t\tobservation.timeDelta = konflux.elapsed();\n\n\t\t\t/**\n\t\t\t *  Unsubscribe from the current observer stack\n\t\t\t *  @name    unsubscribe\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @return  void\n\t\t\t */\n\t\t\tobservation.unsubscribe = function() {\n\t\t\t\treturn disable(type, handle);\n\t\t\t};\n\t\t\t/**\n\t\t\t *  Stop the execution of this Observation\n\t\t\t *  @name    stop\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @return  void\n\t\t\t */\n\t\t\tobservation.stop = function() {\n\t\t\t\tactive[reference] = false;\n\t\t\t};\n\t\t}\n\n\t\t//END INCLUDE: observer/observation [1.06ms, 1.02KB]\n\t\t/**\n\t\t *  Create the subscription stack if it does not exist\n\t\t *  @name    ensureSubscriptionStack\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string stack name\n\t\t *  @return  void\n\t\t */\n\t\tfunction ensureSubscriptionStack(stack) {\n\t\t\tif (typeof subscription[stack] === 'undefined') {\n\t\t\t\tsubscription[stack] = [];\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Add handler to specified stack\n\t\t *  @name    add\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string stack name\n\t\t *  @param   function handler\n\t\t *  @return  int total number of subscriptions in this stack\n\t\t */\n\t\tfunction add(stack, handle) {\n\t\t\tensureSubscriptionStack(stack);\n\n\t\t\treturn subscription[stack].push(handle);\n\t\t}\n\n\t\t/**\n\t\t *  Disable a handler for specified stack\n\t\t *  @name    disable\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string stack name\n\t\t *  @param   function handler\n\t\t *  @return  void\n\t\t *  @note    this method is used from the Observation object, which would influence the number of\n\t\t *           subscriptions if the subscription itself was removed immediately\n\t\t */\n\t\tfunction disable(stack, handle) {\n\t\t\tvar i;\n\n\t\t\tfor (i = 0; i < subscription[stack].length; ++i) {\n\t\t\t\tif (subscription[stack][i] === handle) {\n\t\t\t\t\tsubscription[stack][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Remove specified handler (and all disabled handlers) from specified stack\n\t\t *  @name    remove\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string stack name\n\t\t *  @param   function handler [optional, default null - remove the entire stack]\n\t\t *  @return  array removed handlers\n\t\t */\n\t\tfunction remove(stack, handle) {\n\t\t\tvar out = [],\n\t\t\t\tkeep = [],\n\t\t\t\ti;\n\n\t\t\tensureSubscriptionStack(stack);\n\n\t\t\tfor (i = 0; i < subscription[stack].length; ++i) {\n\t\t\t\t(!subscription[stack][i] || subscription[stack][i] === handle ? out : keep).push(subscription[stack][i]);\n\t\t\t}\n\n\t\t\tsubscription[stack] = keep;\n\n\t\t\treturn out;\n\t\t}\n\n\t\t/**\n\t\t *  Flush specified stack\n\t\t *  @name    flush\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string stack name\n\t\t *  @return  array removed handlers (false if the stack did not exist);\n\t\t */\n\t\tfunction flush(stack) {\n\t\t\tvar out = false;\n\n\t\t\tif (konflux.isType('undefined', subscription[stack])) {\n\t\t\t\tout = subscription[stack];\n\t\t\t\tdelete subscription[stack];\n\t\t\t}\n\n\t\t\treturn out;\n\t\t}\n\n\t\t/**\n\t\t *  Trigger the handlers in specified stack\n\t\t *  @name    trigger\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string stack name\n\t\t *  @param   mixed variable1\n\t\t *  @param   mixed ...\n\t\t *  @param   mixed variableN\n\t\t *  @return  void\n\t\t */\n\t\tfunction trigger(stack) {\n\t\t\tvar arg = konflux.array.cast(arguments),\n\t\t\t\tref = konflux.unique(),\n\t\t\t\tpart = stack.split('.'),\n\t\t\t\twildcard = false,\n\t\t\t\tname, i;\n\n\t\t\twhile (part.length >= 0) {\n\t\t\t\tactive[ref] = true;\n\t\t\t\tname = part.join('.') + (wildcard ? (part.length ? '.' : '') + '*' : '');\n\t\t\t\twildcard = true;\n\n\t\t\t\tif (typeof subscription[name] !== 'undefined') {\n\t\t\t\t\tfor (i = 0; i < subscription[name].length; ++i) {\n\t\t\t\t\t\tif (!active[ref]) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (subscription[name][i]) {\n\t\t\t\t\t\t\targ[0] = new KonfluxObservation(stack, subscription[name][i], ref);\n\t\t\t\t\t\t\tsubscription[name][i].apply(subscription[name][i], arg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!part.pop()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdelete active[ref];\n\t\t}\n\n\t\t/**\n\t\t *  Subscribe a handler to an observer stack\n\t\t *  @name    subscribe\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string stack name\n\t\t *  @param   function handle\n\t\t *  @param   function callback [optional, default undefined]\n\t\t *  @return  KonfluxObserver reference\n\t\t */\n\t\tobserver.subscribe = function(stack, handle, callback) {\n\t\t\tvar list = stack.split(/[\\s,]+/),\n\t\t\t\tresult = true,\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\tresult = (add(list[i], handle) ? true : false) && result;\n\t\t\t}\n\n\t\t\tif (callback) {\n\t\t\t\tcallback.apply(observer, [result]);\n\t\t\t}\n\n\t\t\treturn observer;\n\t\t};\n\n\t\t/**\n\t\t *  Unsubscribe a handler from an observer stack\n\t\t *  @name    unsubscribe\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string stack name\n\t\t *  @param   function handle\n\t\t *  @param   function callback [optional, default undefined]\n\t\t *  @return  KonfluxObserver reference\n\t\t */\n\t\tobserver.unsubscribe = function(stack, handle, callback) {\n\t\t\tvar list = stack.split(/[\\s,]+/),\n\t\t\t\tresult = [],\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\tresult = result.concat(handle ? remove(list[i], handle) : flush(list[i]));\n\t\t\t}\n\n\t\t\tif (callback) {\n\t\t\t\tcallback.apply(observer, [result]);\n\t\t\t}\n\n\t\t\treturn observer;\n\t\t};\n\n\t\t/**\n\t\t *  Notify all subscribers to a stack\n\t\t *  @name    notify\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   string stack name\n\t\t *  @param   mixed  variable1\n\t\t *  @param   mixed  ...\n\t\t *  @param   mixed  variableN\n\t\t *  @return  void\n\t\t */\n\t\tobserver.notify = function() {\n\t\t\tvar arg = konflux.array.cast(arguments),\n\t\t\t\tlist = arg.shift().split(/[\\s,]+/),\n\t\t\t\ti;\n\n\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\ttrigger.apply(observer, [list[i]].concat(arg));\n\t\t\t}\n\t\t};\n\t}\n\n\tkonflux.register('observer', new KonfluxObserver());\n\n\t//END INCLUDE: core/observer [3.40ms, 6.31KB]\n\t//BEGIN INCLUDE: core/number\n\t/**\n\t *  Number utils\n\t *  @module  number\n\t *  @note    available as konflux.number / kx.number\n\t */\n\tfunction KonfluxNumber() {\n\t\t/*jshint validthis: true*/\n\t\tvar number = this;\n\n\t\t/**\n\t\t *  Test wheter given input is an even number\n\t\t *  @name    even\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number input\n\t\t *  @return  bool even\n\t\t */\n\t\tnumber.even = function(input) {\n\t\t\tinput = +input;\n\n\t\t\treturn (input | 0) === input && input % 2 === 0;\n\t\t};\n\n\t\t/**\n\t\t *  Test wheter given input is an odd number\n\t\t *  @name    odd\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number input\n\t\t *  @return  bool odd\n\t\t */\n\t\tnumber.odd = function(input) {\n\t\t\tinput = +input;\n\n\t\t\treturn (input | 0) === input && !number.even(input);\n\t\t};\n\n\t\t/**\n\t\t *  Test wheter given input lies between the low and high values (including the low and high values)\n\t\t *  @name    between\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number input\n\t\t *  @param   number a\n\t\t *  @param   number b\n\t\t *  @return  bool between\n\t\t */\n\t\tnumber.between = function(input, a, b) {\n\t\t\tinput = +input;\n\t\t\ta     = +a;\n\t\t\tb     = +b;\n\n\t\t\treturn input >= Math.min(a, b) && input <= Math.max(a, b);\n\t\t};\n\n\t\t/**\n\t\t *  Format a number with a given set of decimal length, decimals separator and/or thousands separator\n\t\t *  @name    format\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   number input\n\t\t *  @param   number decimals [optional, default 0 - no precision]\n\t\t *  @param   string decimals separator [optional, default '.']\n\t\t *  @param   string thousands separator [optional, default ',']\n\t\t *  @return  string formatted number\n\t\t *  @note    this method is compatible with PHP's number_format function, it either accepts 2 or 4 arguments\n\t\t */\n\t\tnumber.format = function(input, precision, point, separator) {\n\t\t\tvar multiplier = precision ? Math.pow(10, precision) : 0;\n\n\t\t\t//  check whether default values need to be assigned\n\t\t\tpoint     = !konflux.isType('undefined', point) ? point : '.';\n\t\t\tseparator = !konflux.isType('undefined', separator) || arguments.length < 3 ? separator : ',';\n\n\t\t\t//  format the number\n\t\t\tinput = +(('' + input).replace(/[,\\.]+/, '.'));\n\n\t\t\t//  round the last desired decimal\n\t\t\tinput = multiplier > 0 ? Math.round(input * multiplier) / multiplier : input;\n\n\t\t\t//  split input into int value and decimal value\n\t\t\tinput = ('' + (!isFinite(input) ? 0 : +input)).split('.');\n\n\t\t\t//  apply thousands separator, if applicable (number length exceeds 3 and we have a non-empty separator)\n\t\t\tif (input[0].length > 3 && separator && separator !== '') {\n\t\t\t\tinput[0] = konflux.string.chunk(input[0], 3, konflux.string.CHUNK_END).join(separator);\n\t\t\t}\n\n\t\t\treturn input[0] + (precision > 0 ? point + konflux.string.pad(input[1] || '', precision, '0', konflux.string.PAD_RIGHT) : '');\n\t\t};\n\t}\n\n\tkonflux.register('number', new KonfluxNumber());\n\n\t//END INCLUDE: core/number [822.68µs, 2.74KB]\n\t//BEGIN INCLUDE: core/ajax\n\t/**\n\t *  Handle AJAX requests\n\t *  @module  ajax\n\t *  @note    available as konflux.ajax / kx.ajax\n\t */\n\tfunction KonfluxAjax() {\n\t\t/*jshint validthis: true*/\n\t\tvar ajax = this,\n\t\t\tstat = {},\n\t\t\theader = false;\n\n\t\t/*global KonfluxFormData*/\n\n\t\t//BEGIN INCLUDE: ajax/formdata\n\t\t/**\n\t\t *  FormData stub, in case a browser doesn't feature the FormData object\n\t\t *  @name    KonfluxFormData\n\t\t *  @type    module\n\t\t *  @access  internal\n\t\t *  @return  KonfluxFormData object\n\t\t */\n\t\tfunction KonfluxFormData() {\n\t\t\t'use strict';\n\n\t\t\t/*global  konflux*/\n\n\t\t\t/*jshint validthis: true*/\n\t\t\tvar formdata = this,\n\t\t\t\tdata = {};\n\n\t\t\t/**\n\t\t\t *  Append a key/value pair to the KonfluxFormData instance\n\t\t\t *  @name    append\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @param   string key\n\t\t\t *  @param   mixed  value (can be anything but an object)\n\t\t\t *  @return  KonfluxFormData reference\n\t\t\t */\n\t\t\tformdata.append = function(key, value) {\n\t\t\t\tif (konflux.isType('object', value)) {\n\t\t\t\t\tdata[key] = value;\n\t\t\t\t}\n\n\t\t\t\treturn formdata;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t *  Serialize the KonfluxFormData instance into a string\n\t\t\t *  @name    serialize\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @return  string  urlencoded data\n\t\t\t */\n\t\t\tformdata.serialize = function() {\n\t\t\t\tvar r = [],\n\t\t\t\t\tp;\n\n\t\t\t\tfor (p in data) {\n\t\t\t\t\tr.push(p + '=' + encodeURIComponent(data[p]));\n\t\t\t\t}\n\n\t\t\t\treturn r.join('&');\n\t\t\t};\n\n\t\t\t/**\n\t\t\t *  Convenience method to make KonfluxFormData serialization work if used as string\n\t\t\t *  @name    toString\n\t\t\t *  @type    method\n\t\t\t *  @access  public\n\t\t\t *  @return  string urlencodes data\n\t\t\t *  @note    This method is autmatically called when a KonfluxFormData instance is used as string (e.g. KonfluxFormData + '')\n\t\t\t */\n\t\t\tKonfluxFormData.toString = function() {\n\t\t\t\treturn formdata.serialize();\n\t\t\t};\n\t\t}\n\n\t\t//END INCLUDE: ajax/formdata [554.03µs, 1.41KB]\n\t\t/**\n\t\t *  Obtain the default headers\n\t\t *  @name    getHeader\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string url\n\t\t *  @return  object headers\n\t\t */\n\t\tfunction getHeader(url) {\n\t\t\tif (!header) {\n\t\t\t\theader = {\n\t\t\t\t\t'X-Konflux': 'konflux/' + konflux.string.ascii(konflux.version())\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Since browsers \"preflight\" requests for cross-site HTTP requests with\n\t\t\t// custom headers we should not try to send them, or request will fail\n\t\t\t// silently\n\t\t\t//\n\t\t\t// For more information, please refer to:\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests\n\n\t\t\treturn konflux.url.isLocal(url) ? header : {};\n\t\t}\n\n\t\t/**\n\t\t *  Obtain a new XHR object\n\t\t *  @name    getXMLHTTPRequest\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tfunction getXMLHTTPRequest() {\n\t\t\tvar xhr     = new XMLHttpRequest();\n\t\t\txhr.__kxref = konflux.unique();\n\n\t\t\treturn xhr;\n\t\t}\n\n\t\t/**\n\t\t *  Request a resource using XHR\n\t\t *  @name    request\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tfunction request(config) {\n\t\t\tvar url     = 'url' in config ? config.url : (konflux.url ? konflux.url.path : null),\n\t\t\t\ttype    = 'type' in config ? config.type.toUpperCase() : 'GET',\n\t\t\t\tdata    = 'data' in config ? prepareData(config.data) : '',\n\t\t\t\tasync   = 'async' in config ? config.async : true,\n\t\t\t\theaders = 'header' in config ? combine(config.header, getHeader(url)) : getHeader(url),\n\t\t\t\txhr     = getXMLHTTPRequest(),\n\t\t\t\tp;\n\n\t\t\tif (!/^(POST|PUT)$/.test(type)) {\n\t\t\t\turl += 'data' in config && config.data !== '' ? '?' + (typeof config.data === 'string' ? config.data : data) : '';\n\t\t\t\tdata = null;\n\t\t\t}\n\n\t\t\txhr.onload = xhrComplete(xhr, config, type);\n\n\t\t\tif ('progress' in config && konflux.isType('function', config.progress)) {\n\t\t\t\tkonflux.event.add(xhr.upload, 'progress', config.progress);\n\t\t\t}\n\n\t\t\tif ('error' in config && konflux.isType('function', config.error)) {\n\t\t\t\tkonflux.event.add(xhr, 'error', config.error);\n\t\t\t}\n\n\t\t\tif ('abort' in config && konflux.isType('function', config.abort)) {\n\t\t\t\tkonflux.event.add(xhr, 'abort', config.abort);\n\t\t\t}\n\n\t\t\txhr.open(type, url, async);\n\t\t\tif (headers) {\n\t\t\t\tfor (p in headers) {\n\t\t\t\t\txhr.setRequestHeader(p, headers[p]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.send(data);\n\n\t\t\treturn xhr;\n\t\t}\n\n\t\t/**\n\t\t *  Handle the XMLHTTPRequest 'load'-event\n\t\t *  @name    xhrComplete\n\t\t *  @access  internal\n\t\t *  @param   XMLHTTPRequest  xhr\n\t\t *  @param   object          config\n\t\t *  @param   string          type\n\t\t *  @return  function handler\n\t\t */\n\t\tfunction xhrComplete(xhr, config, type) {\n\t\t\treturn function() {\n\t\t\t\tvar status = Math.floor(this.status * 0.01),\n\t\t\t\t\tstate = false;\n\t\t\t\t++stat[type];\n\n\t\t\t\tif (status === 2 && 'success' in config) {\n\t\t\t\t\tstate = 'success';\n\t\t\t\t\tconfig.success.apply(this, process(this));\n\t\t\t\t}\n\t\t\t\telse if (status >= 4 && 'error' in config) {\n\t\t\t\t\tstate = 'error';\n\t\t\t\t\tconfig.error.apply(this, process(this));\n\t\t\t\t}\n\n\t\t\t\tif ('complete' in config) {\n\t\t\t\t\tstate = !state ? 'complete' : state;\n\t\t\t\t\tconfig.complete.apply(this, [this.status, this.statusText, this]);\n\t\t\t\t}\n\n\t\t\t\tif (state) {\n\t\t\t\t\tkonflux.observer.notify('konflux.ajax.' + type.toLowerCase() + '.' + state, xhr, config);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t *  Process an XHR response\n\t\t *  @name    process\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   object XMLHttpRequest\n\t\t *  @return  array  response ([status, response text, XMLHttpRequest])\n\t\t */\n\t\tfunction process(xhr) {\n\t\t\tvar contentType = xhr.getResponseHeader('content-type'),\n\t\t\t\tresult = [\n\t\t\t\t\txhr.status,\n\t\t\t\t\txhr.responseText,\n\t\t\t\t\txhr\n\t\t\t\t],\n\t\t\t\tmatch;\n\n\t\t\tif (contentType && (match = contentType.match(/([^;]+)/))) {\n\t\t\t\tcontentType = match[1];\n\t\t\t}\n\n\t\t\tswitch (contentType) {\n\t\t\t\tcase 'application/json':\n\t\t\t\t\tresult[1] = JSON.parse(result[1]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Prepare data to be send\n\t\t *  @name    prepareData\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   mixed  data\n\t\t *  @param   string name\n\t\t *  @param   FormData (or KonfluxFormData) object\n\t\t *  @return  FormData (or KonfluxFormData) object\n\t\t */\n\t\tfunction prepareData(data, name, formData) {\n\t\t\tvar r = formData || (typeof FormData !== 'undefined' ? new FormData() : new KonfluxFormData()),\n\t\t\t\tp;\n\n\t\t\tif (typeof File !== 'undefined' && data instanceof File) {\n\t\t\t\tr.append(name, data, data.name);\n\t\t\t}\n\t\t\telse if (typeof Blob !== 'undefined' && data instanceof Blob) {\n\t\t\t\tr.append(name, data, 'blob');\n\t\t\t}\n\t\t\telse if (data instanceof Array || (FileList !== 'undefined' && data instanceof FileList)) {\n\t\t\t\tfor (p = 0; p < data.length; ++p) {\n\t\t\t\t\tprepareData(data[p], (name || '') + '[' + p + ']', r);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (konflux.isType('object', data)) {\n\t\t\t\tfor (p in data) {\n\t\t\t\t\tprepareData(data[p], name ? name + '[' + encodeURIComponent(p) + ']' : encodeURIComponent(p), r);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tr.append(name, data);\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain a handler function for given request, this handler is triggered by the konflux observer (konflux.ajax.<type>)\n\t\t *  @name    requestType\n\t\t *  @type    function\n\t\t *  @access  internal\n\t\t *  @param   string   type\n\t\t *  @return  function handler\n\t\t */\n\t\tfunction requestType(t) {\n\t\t\tvar handler = function(config) {\n\t\t\t\t\tswitch (konflux.type(config)) {\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\t\tconfig.type = t;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t//  we assume an URL\n\t\t\t\t\t\tcase 'string':\n\t\t\t\t\t\t\tconfig = {\n\t\t\t\t\t\t\t\turl: config,\n\t\t\t\t\t\t\t\ttype: t\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconfig = {\n\t\t\t\t\t\t\t\ttype: t\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn request(config);\n\t\t\t\t};\n\n\t\t\tstat[t.toUpperCase()] = 0;\n\t\t\tkonflux.observer.subscribe('konflux.ajax.' + t.toLowerCase(), function(ob, config) {\n\t\t\t\thandler(config);\n\t\t\t});\n\n\t\t\treturn handler;\n\t\t}\n\n\t\t/**\n\t\t *  Perform a request\n\t\t *  @name    request\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tajax.request = request;\n\n\t\t/**\n\t\t *  Perform a GET request\n\t\t *  @name    get\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tajax.get = requestType('GET');\n\n\t\t/**\n\t\t *  Perform a POST request\n\t\t *  @name    post\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tajax.post = requestType('POST');\n\n\t\t/**\n\t\t *  Perform a PUT request\n\t\t *  @name    put\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tajax.put = requestType('PUT');\n\n\t\t/**\n\t\t *  Perform a DELETE request\n\t\t *  @name    del\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tajax.del = requestType('DELETE');\n\n\t\t/**\n\t\t *  Perform a PURGE request (mostly supported by caching servers such as Varnish)\n\t\t *  @name    purge\n\t\t *  @type    method\n\t\t *  @access  public\n\t\t *  @param   object config\n\t\t *  @return  object XMLHttpRequest\n\t\t */\n\t\tajax.purge = requestType('PURGE');\n\t}\n\n\tkonflux.register('ajax', new KonfluxAjax());\n\n\t//END INCLUDE: core/ajax [2.07ms, 8.58KB]\n});\n","\n//BEGIN INCLUDE: lib/json-formatter\n/**\n *  Format a string containing (valid) js variables into proper JSON so it can be handled by JSON.parse\n *  @package    JSONFormatter\n *  @author     Rogier Spieker <rogier@konfirm.eu>\n */\n(function(scope, factory) {\n\t// $lab:coverage:off$\n\tvar name = 'JSONFormatter';\n\n\tif (typeof module === 'object' && typeof module.exports === 'object') {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof define === 'function' && define.amd) {\n\t\tdefine(name, factory);\n\t}\n\telse {\n\t\t(typeof exports === 'object' ? exports : scope)[name] = factory();\n\t}\n\t// $lab:coverage:on$\n})(this, function() {\n\n\tfunction JSONFormatter() {\n\t\t//  Implement a Singleton pattern and allow JSONFormatter to be invoked without the `new` keyword\n\t\tif (typeof JSONFormatter.prototype.__instance !== 'undefined' || !(this instanceof JSONFormatter)) {\n\t\t\treturn JSONFormatter.prototype.__instance || new JSONFormatter();\n\t\t}\n\t\tJSONFormatter.prototype.__instance = this;\n\n\t\tvar formatter = this,\n\t\t\tspecial = '\\'\":,{}[] ',\n\t\t\tquotation = '\"',\n\t\t\tpattern = {\n\t\t\t\tescape: /[\"\\\\\\/\\b\\f\\n\\r\\t]/,\n\t\t\t\tnoquote: /^(?:true|false|null|-?[0-9]+(?:\\.[0-9]+)?)$/i,\n\t\t\t\ttrailer: /[,]+$/\n\t\t\t};\n\n\t\t/**\n\t\t *  Determine is a token is a special character\n\t\t *  @name    isSpecial\n\t\t *  @access  internal\n\t\t *  @param   string  token\n\t\t *  @return  bool  special\n\t\t */\n\t\tfunction isSpecial(token) {\n\t\t\treturn special.indexOf(token) >= 0;\n\t\t}\n\n\t\t/**\n\t\t *  Add quotes if required\n\t\t *  @name    addQuotation\n\t\t *  @access  internal\n\t\t *  @param   string  token\n\t\t *  @param   bool    force\n\t\t *  @return  string  JSON-token\n\t\t */\n\t\tfunction addQuotation(token, force) {\n\t\t\tvar quote = quotation;\n\n\t\t\t//  if quotation is not enforced, we must skip application of quotes for certain tokens\n\t\t\tif (!force && (isSpecial(token) || pattern.noquote.test(token))) {\n\t\t\t\tquote = '';\n\t\t\t}\n\n\t\t\treturn quote + token + quote;\n\t\t}\n\n\t\t/**\n\t\t *  Remove trailing commas from the result stack\n\t\t *  @name    removeTrailing\n\t\t *  @access  internal\n\t\t *  @param   Array  result\n\t\t *  @return  Array  result\n\t\t */\n\t\tfunction removeTrailing(result) {\n\t\t\treturn pattern.trailer.test(result) ? removeTrailing(result.substr(0, result.length - 1)) : result;\n\t\t}\n\n\t\t/**\n\t\t *  Handle a quoted string, ensuring proper escaping for double quoted strings\n\t\t *  @name    escapeQuotedInput\n\t\t *  @access  internal\n\t\t *  @param   string  token\n\t\t *  @array   Array   list\n\t\t *  @return  Array   result\n\t\t */\n\t\tfunction escapeQuotedInput(token, list) {\n\t\t\tvar result = [],\n\t\t\t\tcharacter;\n\n\t\t\t//  token is the initial (opening) quotation character, we are not (yet) interested in this,\n\t\t\t//  as we need to process the stuff in list, right until we find a matching token\n\t\t\twhile (list.length) {\n\t\t\t\tcharacter = list.shift();\n\n\t\t\t\t//  reduce provided escaping\n\t\t\t\tif (character[character.length - 1] === '\\\\') {\n\t\t\t\t\tif (!pattern.escape.test(list[0])) {\n\t\t\t\t\t\t//  remove the escape character\n\t\t\t\t\t\tcharacter = character.substr(0, character.length - 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t//  add the result\n\t\t\t\t\tresult.push(character);\n\n\t\t\t\t\t//  while we are at it, we may aswel move the (at least previously) escaped\n\t\t\t\t\t//  character to the result\n\t\t\t\t\tresult.push(list.shift());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\telse if (character === token) {\n\t\t\t\t\t//  with the escaping taken care of, we now know the string has ended\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresult.push(character);\n\t\t\t}\n\n\t\t\treturn addQuotation(result.join(''));\n\t\t}\n\n\t\t/**\n\t\t *  Compile the JSON-formatted string from a list of 'tokenized' data\n\t\t *  @name    compiler\n\t\t *  @access  internal\n\t\t *  @param   Array   list\n\t\t *  @return  string  JSON-formatted\n\t\t */\n\t\tfunction compiler(list) {\n\t\t\tvar result = '',\n\t\t\t\ttoken;\n\n\t\t\twhile (list.length) {\n\t\t\t\ttoken = list.shift();\n\n\t\t\t\tswitch (token) {\n\t\t\t\t\t//  ignore whitespace outside of quoted patterns\n\t\t\t\t\tcase ' ':\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t//  remove any trailing commas and whitespace\n\t\t\t\t\tcase '}':\n\t\t\t\t\tcase ']':\n\t\t\t\t\t\tresult = removeTrailing(result).concat([token]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t//  add/remove escaping\n\t\t\t\t\tcase '\"':\n\t\t\t\t\tcase '\\'':\n\t\t\t\t\t\tresult += escapeQuotedInput(token, list);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t//  determine if the value needs to be quoted (always true if the next item in the list is a separator)\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tresult += addQuotation(token, list[0] === ':');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Tokenize the input, adding each special character to be its own item in the resulting array\n\t\t *  @name    tokenize\n\t\t *  @access  internal\n\t\t *  @param   string  input\n\t\t *  @result  Array   tokens\n\t\t */\n\t\tfunction tokenize(input) {\n\t\t\tvar result = [],\n\t\t\t\ti;\n\n\t\t\t//  check each character in the string\n\t\t\tfor (i = 0; i < input.length; ++i) {\n\t\t\t\t//  if there is not result or the current or previous input is special, we create a new result item\n\t\t\t\tif (result.length === 0 || isSpecial(input[i]) || isSpecial(result[result.length - 1])) {\n\t\t\t\t\tresult.push(input[i]);\n\t\t\t\t}\n\t\t\t\t//  extend the previous item\n\t\t\t\telse {\n\t\t\t\t\tresult[result.length - 1] += input[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Prepare a string to become a JSON-representation\n\t\t *  @name    prepare\n\t\t *  @access  public\n\t\t *  @param   string  input\n\t\t *  @return  string  JSON-formatted\n\t\t */\n\t\tformatter.prepare = function(input) {\n\t\t\t//  tokenize the input and feed it to the compiler in one go\n\t\t\treturn compiler(tokenize(input))\n\t\t\t\t//  determine whether we are dealing with an Object or Array notation\n\t\t\t\t.replace(/^.*?([:,]).*$/, function(match, symbol) {\n\t\t\t\t\tvar character = symbol === ':' ? '{}' : '[]';\n\n\t\t\t\t\t//  figure out if the notation should be added or may be skipped\n\t\t\t\t\treturn match[0] !== character[0] ? character[0] + removeTrailing(match) + character[1] : match;\n\t\t\t\t})\n\t\t\t;\n\t\t};\n\n\t\t/**\n\t\t *  Prepare a string and parse it using JSON.parse\n\t\t *  @name    parse\n\t\t *  @access  public\n\t\t *  @param   string  input\n\t\t *  @return  mixed   parsed\n\t\t */\n\t\tformatter.parse = function(input) {\n\t\t\treturn JSON.parse(formatter.prepare(input));\n\t\t};\n\t}\n\n\t//  expose the interface\n\treturn JSONFormatter;\n});\n\n//END INCLUDE: lib/json-formatter [700.36µs, 5.89KB]\n;(function(global, factory) {\n\t'use strict';\n\n\t/**\n\t *  Simplified data-binding, never using eval\n\t *  (e.g. Content-Security-Policy does not need the 'unsafe-eval' flag)\n\t *  @package  Knot\n\t */\n\tfunction Knot() {\n\t\tvar knot = this,\n\t\t\tjson, buffer;\n\n\t\t/**\n\t\t *  Initialiser\n\t\t *  @name    init\n\t\t *  @access  internal\n\t\t *  @return  void\n\t\t */\n\t\tfunction init() {\n\t\t\tif (!compatible()) {\n\t\t\t\treturn setTimeout(function() {\n\t\t\t\t\tready('Unsupported browser');\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\t//  the JSON formatter\n\t\t\tjson = new JSONFormatter();\n\n\t\t\t//  the default options\n\t\t\tbuffer = {\n\t\t\t\tdefaults: {\n\t\t\t\t\tgreedy: true,\n\t\t\t\t\tattribute: 'data-knot'\n\t\t\t\t},\n\t\t\t\textension: {},\n\t\t\t\trAF: global.requestAnimationFrame || function(f) {\n\t\t\t\t\tsetTimeout(f, 16);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//  add the DOMContentLoaded event to the document, so we can trigger the 'ready' handlers early on\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\t//  call any registered 'ready' handler\n\t\t\t\tready();\n\n\t\t\t\t//  mark the internal 'ready' buffer as bool true so any callback added after knot\n\t\t\t\t//  has become ready can be invoked (almost) immediately\n\t\t\t\tbuffer.ready = true;\n\t\t\t}, false);\n\n\t\t\t//  register the default extensions\n\t\t\tfactory(extension);\n\t\t}\n\n\t\t/**\n\t\t *  Basic compatibility check\n\t\t *  @name    compatible\n\t\t *  @access  internal\n\t\t *  @return  void  [throws Error is not compatible]\n\t\t */\n\t\tfunction compatible() {\n\t\t\tvar result = true;\n\n\t\t\tresult = result && 'addEventListener' in document;\n\t\t\tresult = result && 'defineProperties' in Object;\n\t\t\tresult = result && 'getOwnPropertyDescriptor' in Object;\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Convert given array-like value to be a true array\n\t\t *  @name    castToArray\n\t\t *  @access  internal\n\t\t *  @param   Array-like  value\n\t\t *  @return  Array  value\n\t\t */\n\t\tfunction castToArray(cast) {\n\t\t\treturn Array.prototype.slice.call(cast);\n\t\t}\n\n\t\t/**\n\t\t *  Invoke all provided functions as callback\n\t\t *  @name    ready\n\t\t *  @access  internal\n\t\t *  @param   string  error\n\t\t *  @return  Knot    instance\n\t\t */\n\t\tfunction ready(error, list) {\n\t\t\tvar arg = [error, knot];\n\n\t\t\tlist = list || buffer && 'ready' in buffer ? buffer.ready : false;\n\n\t\t\tif (list) {\n\t\t\t\tfor (var i = 0; i < list.length; ++i) {\n\t\t\t\t\tlist[i].apply(null, arg);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn knot;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain and/or register an extension to be defined in the data attribute\n\t\t *  @name    extension\n\t\t *  @access  internal\n\t\t *  @param   string    name\n\t\t *  @param   function  handler  [optional, default undefined - obtain the extension]\n\t\t *  @return  function  handler\n\t\t */\n\t\tfunction extension(name, handler) {\n\t\t\tif (handler) {\n\t\t\t\tbuffer.extension[name] = handler;\n\t\t\t}\n\n\t\t\tif (!(name in buffer.extension)) {\n\t\t\t\treturn function() {\n\t\t\t\t\tconsole.error('Knot: Unknown extension \"' + name + '\"');\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn buffer.extension[name];\n\t\t}\n\n\t\t/**\n\t\t *  Obtain all textNodes residing within given element\n\t\t *  @name    textNodes\n\t\t *  @access  internal\n\t\t *  @param   DOMElement\n\t\t *  @return  Array  textNodes\n\t\t */\n\t\tfunction textNodes(element) {\n\t\t\tvar result = [],\n\t\t\t\twalker = document.createTreeWalker(element, NodeFilter.SHOW_TEXT, null, false),\n\t\t\t\tnode;\n\n\t\t\twhile ((node = walker.nextNode())) {\n\t\t\t\tresult.push(node);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain all elements containing the data attribute residing within given element\n\t\t *  @name    attributes\n\t\t *  @access  internal\n\t\t *  @param   DOMElement\n\t\t *  @return  Array  textNodes\n\t\t */\n\t\tfunction attributes(element) {\n\t\t\tvar result = [],\n\t\t\t\tlist, i;\n\n\t\t\tswitch (element.nodeType) {\n\t\t\t\tcase 11:  //  DocumentFragment\n\t\t\t\t\tfor (i = 0; i < element.childNodes.length; ++i) {\n\t\t\t\t\t\tresult = result.concat(attributes(element.childNodes[i]));\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:  //  DOMElement\n\t\t\t\t\tif (element.hasAttribute(buffer.defaults.attribute)) {\n\t\t\t\t\t\tresult.push(element);\n\t\t\t\t\t}\n\t\t\t\t\t/*falls through*/\n\t\t\t\tcase 9:  //  DOMDocument\n\t\t\t\t\tlist = element.querySelectorAll('[' + buffer.defaults.attribute + ']');\n\t\t\t\t\tfor (i = 0; i < list.length; ++i) {\n\t\t\t\t\t\tresult.push(list[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Split a DOMText node into placeholder and non-placeholder parts, returning an array of all DOMText nodes\n\t\t *  containing a placeholder\n\t\t *  @name   splitter\n\t\t *  @access internal\n\t\t *  @param  DOMText node\n\t\t *  @return array   DOMText nodes\n\t\t */\n\t\tfunction splitter(node) {\n\t\t\tvar match = node.nodeValue.match(/(\\{([^\\{]+)\\})/),\n\t\t\t\tcontent = match ? (match.index === 0 ? node : node.splitText(match.index)) : null,\n\t\t\t\tremainder = match ? content.splitText(match[1].length) : null,\n\t\t\t\tresult = content ? [content] : [];\n\n\t\t\tif (content) {\n\t\t\t\tcontent.original = content.nodeValue;\n\t\t\t}\n\n\t\t\tif (remainder) {\n\t\t\t\tresult = result.concat(splitter(remainder));\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain all placeholder DOMText nodes within given element\n\t\t *  @name    placeholders\n\t\t *  @access  internal\n\t\t *  @param   DOMNode element\n\t\t *  @return  array   DOMText nodes\n\t\t */\n\t\tfunction placeholders(element) {\n\t\t\tvar result = [];\n\n\t\t\ttextNodes(element).forEach(function(node) {\n\t\t\t\tresult = result.concat(splitter(node));\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Populate an options object based on the defaults and override any provided setting\n\t\t *  @name    defaults\n\t\t *  @access  internal\n\t\t *  @param   Object  options  [optional, default undefined - the full default options]\n\t\t *  @result  Object  options\n\t\t */\n\t\tfunction defaults(options) {\n\t\t\tvar p;\n\n\t\t\tif (options && typeof options === 'object') {\n\t\t\t\tfor (p in options) {\n\t\t\t\t\tbuffer.defaults[p] = options[p];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn buffer.defaults;\n\t\t}\n\n\t\t/**\n\t\t *  Prepare delegation for all keys of the provided model\n\t\t *  @name    prepare\n\t\t *  @access  internal\n\t\t *  @param   Object  model\n\t\t *  @return  Object  prepared model\n\t\t */\n\t\tfunction prepare(model) {\n\t\t\tvar descriptor = {\n\t\t\t\t\tprepared: {enumerable: false, value: true}\n\t\t\t\t},\n\t\t\t\tkey, handler;\n\n\t\t\tif (typeof model === 'object' && !('prepared' in model && model.prepared)) {\n\t\t\t\tfor (key in model) {\n\t\t\t\t\t//  skip any previously prepared key\n\t\t\t\t\t//  we detect \"our own\" delegation by looking for the provider in the handler function\n\t\t\t\t\tif (typeof model[key] !== 'function' || !('provider' in model[key])) {\n\t\t\t\t\t\tif (typeof model[key] === 'function') {\n\t\t\t\t\t\t\tdescriptor[key] = {\n\t\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\t\twritable: false,\n\t\t\t\t\t\t\t\tvalue: model[key]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof model[key] === 'object' && !(model[key] instanceof Array)) {\n\t\t\t\t\t\t\tdescriptor[key] = {\n\t\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\t\twritable: false,\n\t\t\t\t\t\t\t\tvalue: prepare(model[key])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\thandler = delegate(model[key], model);\n\n\t\t\t\t\t\t\tdescriptor[key] = {\n\t\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\t\tget: handler,\n\t\t\t\t\t\t\t\tset: handler\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if ('scope' in model[key] && !model[key].scope()) {\n\t\t\t\t\t\tmodel[key].scope(model);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tObject.defineProperties(model, descriptor);\n\t\t\t}\n\n\t\t\treturn model;\n\t\t}\n\n\t\t/**\n\t\t *  Obtain the delegate function applied to a model property by Knot\n\t\t *  @name    getDelegate\n\t\t *  @access  internal\n\t\t *  @param   object    model\n\t\t *  @param   string    key\n\t\t *  @return  function  delegate  [false, if no delegate was found]\n\t\t */\n\t\tfunction getDelegate(model, key) {\n\t\t\tvar result = false,\n\t\t\t\tdescriptor, nest;\n\n\t\t\tif (key in model) {\n\t\t\t\t//  if a model key is an explicitly assigned delegate, we utilize it\n\t\t\t\tif (typeof model[key] === 'function' && 'element' in model[key]) {\n\t\t\t\t\tresult = model[key];\n\t\t\t\t}\n\t\t\t\t//  otherwise we need to get the property descriptor first\n\t\t\t\telse {\n\t\t\t\t\tdescriptor = Object.getOwnPropertyDescriptor(model, key);\n\t\t\t\t\tresult = descriptor.get;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnest = key.indexOf('.');\n\t\t\t\tif (nest > 0 && key.substr(0, nest) in model) {\n\t\t\t\t\treturn getDelegate(model[key.substr(0, nest)], key.substr(nest + 1));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n\t\t *  Create a delegation method for the given data\n\t\t *  @name    delegate\n\t\t *  @access  internal\n\t\t *  @param   mixed     data\n\t\t *  @param   Object    scope\n\t\t *  @return  function  delegate\n\t\t */\n\t\tfunction delegate(data, scope) {\n\t\t\tvar elements = [],\n\t\t\t\tsubscriber = [],\n\t\t\t\taccessor = [],\n\t\t\t\tvalue = update(data),\n\t\t\t\tfn = function() {\n\t\t\t\t\tif (arguments.length) {\n\t\t\t\t\t\tdata  = fn.provider(arguments[0]);\n\t\t\t\t\t\tvalue = update.apply(scope, [data, elements, subscriber, 'delegate']);\n\t\t\t\t\t}\n\t\t\t\t\telse if (accessor.length) {\n\t\t\t\t\t\taccessor.forEach(function(callback) {\n\t\t\t\t\t\t\tcallback.apply(null, [data]);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t};\n\n\t\t\t//  if we are dealing with arrays, we'd like to know about mutations\n\t\t\tif (data instanceof Array) {\n\t\t\t\t['copyWithin', 'fill', 'pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'].forEach(function(key) {\n\t\t\t\t\tif (typeof data[key] === 'function') {\n\t\t\t\t\t\tdata['_' + key] = data[key];\n\t\t\t\t\t\tdata[key] = function() {\n\t\t\t\t\t\t\tvar result = data['_' + key].apply(data, arguments);\n\n\t\t\t\t\t\t\t//  map the changes\n\t\t\t\t\t\t\tdata.forEach(function(item, index) {\n\t\t\t\t\t\t\t\tdata[index] = prepare(item);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tupdate.apply(scope, [data, elements, subscriber, key]);\n\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tdata.forEach(function(item, index) {\n\t\t\t\t\tdata[index] = prepare(item);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//  The main provider, responsible for handling all value changes\n\t\t\tfn.provider = function(data) {\n\t\t\t\tvar callback;\n\n\t\t\t\tif (typeof data === 'function') {\n\t\t\t\t\tcallback = data;\n\t\t\t\t\tdata = function() {\n\t\t\t\t\t\treturn update.apply(scope, [callback.apply(null, arguments), elements, subscriber, 'function']);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t};\n\n\t\t\t//  Scope getter/setter (setting only allowed once)\n\t\t\tfn.scope = function() {\n\t\t\t\tif (!scope && arguments.length) {\n\t\t\t\t\tscope = arguments[0];\n\t\t\t\t}\n\n\t\t\t\treturn scope;\n\t\t\t};\n\n\t\t\t//  Add an element to the list and ensure the correct (initial) value\n\t\t\tfn.element = function() {\n\t\t\t\tvar list;\n\n\t\t\t\tif (arguments.length) {\n\t\t\t\t\tlist = castToArray(arguments);\n\n\t\t\t\t\tlist.forEach(function(elm) {\n\t\t\t\t\t\tobserve(elm, fn);\n\t\t\t\t\t});\n\n\t\t\t\t\tupdate.apply(scope, [data, list, undefined, 'element']);\n\t\t\t\t\telements = elements.concat(list);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn elements;\n\t\t\t\t}\n\n\t\t\t\treturn fn;\n\t\t\t};\n\n\t\t\t//  Subscribe a handler which receives all 'reads'\n\t\t\tfn.access = function() {\n\t\t\t\taccessor = accessor.concat(castToArray(arguments));\n\n\t\t\t\treturn fn;\n\t\t\t};\n\n\t\t\t//  subscribe a handler which receives all changes\n\t\t\tfn.subscribe = function() {\n\t\t\t\tsubscriber = subscriber.concat(castToArray(arguments));\n\n\t\t\t\treturn fn;\n\t\t\t};\n\n\t\t\t//  finally: call the fn.provider to properly associate the data\n\t\t\tfn.provider(data);\n\n\t\t\treturn fn;\n\t\t}\n\n\t\t/**\n\t\t *  Update zero or more elements (optionally passed on to subscribers) and return the value\n\t\t *  @name    update\n\t\t *  @access  internal\n\t\t *  @param   mixed   data\n\t\t *  @param   array   elements     [optional, default undefined - nothing to update]\n\t\t *  @param   Array   subscribers  [optional, default undefined - no pass through subscribers]\n\t\t *  @param   string  name         [optional, default undefined - 'unknown']\n\t\t *  @return  mixed   value\n\t\t */\n\t\tfunction update(data, elements, subscribers, name) {\n\t\t\tvar value = typeof data === 'function' ? data() : data,\n\t\t\t\tmodel = this,\n\t\t\t\tnodeValue;\n\n\t\t\tif (subscribers) {\n\t\t\t\tsubscribers.forEach(function(sub) {\n\t\t\t\t\tvar result = sub.apply(null, [value, model, name]);\n\n\t\t\t\t\tif (result !== undefined) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (elements) {\n\t\t\t\tnodeValue = '' + value;\n\t\t\t\telements.forEach(function(element) {\n\t\t\t\t\tif (nodeValue !== element.nodeValue) {\n\t\t\t\t\t\tbuffer.rAF.apply(global, [function() {\n\t\t\t\t\t\t\telement.nodeValue = nodeValue;\n\t\t\t\t\t\t}]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn typeof data === 'function' ? data : value;\n\t\t}\n\n\t\t/**\n\t\t *  Persist a value to the model\n\t\t *  @name    persist\n\t\t *  @access  internal\n\t\t *  @param   function  delegate\n\t\t *  @param   mixed     value\n\t\t *  @return  void\n\t\t *  @note    This function is triggered from MutationObservers/-Events\n\t\t */\n\t\tfunction persist(delegation, value) {\n\t\t\tvar current = delegation(),\n\t\t\t\ttype = typeof current;\n\n\t\t\tif (type === 'object') {\n\t\t\t\ttype = type instanceof Array ? 'array' : type;\n\t\t\t}\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'function':\n\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\tdelegation(value);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'number':\n\t\t\t\t\tif (+current !== +value) {\n\t\t\t\t\t\tdelegation(+value);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'boolean':\n\t\t\t\t\tif (!!current !== !!value) {\n\t\t\t\t\t\tdelegation(!!value);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'string':\n\t\t\t\t\t/*falls through*/\n\t\t\t\tdefault:\n\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\tdelegation(value);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Observe the DOMElement(s) bound to the model key and persist changes from outside Knot\n\t\t *  @name    observe\n\t\t *  @access  internal\n\t\t *  @param   DOMText   text\n\t\t *  @param   function  delegate\n\t\t *  @return  void\n\t\t */\n\t\tfunction observe(text, delegation) {\n\t\t\tvar observer;\n\n\t\t\tif (!('observer' in buffer)) {\n\t\t\t\tbuffer.observer = global.MutationObserver || global.webkitMutationObserver || false;\n\t\t\t\tbuffer.textObserverConfig = {\n\t\t\t\t\tcharacterData: true,\n\t\t\t\t\tcharacterDataOldValue: true\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (buffer.observer) {\n\t\t\t\tobserver = new buffer.observer(function(mutations) {\n\t\t\t\t\tmutations.forEach(function(mutation) {\n\t\t\t\t\t\tpersist(delegation, mutation.target.nodeValue);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tobserver.observe(text, buffer.textObserverConfig);\n\t\t\t}\n\t\t\telse if (text.addEventListener) {\n\t\t\t\ttext.addEventListener('DOMCharacterDataModified', function(e) {\n\t\t\t\t\tif (e.newValue) {\n\t\t\t\t\t\tpersist(delegation, e.newValue);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Register one or more functions to be called once Knot is ready to\n\t\t *  tie together models and elements\n\t\t *  @name    ready\n\t\t *  @access  public\n\t\t *  @param   function ...  [variadic, provide as many functions you need]\n\t\t *  @return  Knot instance [chainable]\n\t\t */\n\t\tknot.ready = function() {\n\t\t\tvar arg = castToArray(arguments);\n\n\t\t\tif (!buffer) {\n\t\t\t\tbuffer = {};\n\t\t\t}\n\t\t\tif (!('ready' in buffer)) {\n\t\t\t\tbuffer.ready = [];\n\t\t\t}\n\t\t\telse if (buffer.ready === true) {\n\t\t\t\treturn ready(arg);\n\t\t\t}\n\n\t\t\tbuffer.ready = buffer.ready.concat(arg);\n\n\t\t\treturn knot;\n\t\t};\n\n\t\t/**\n\t\t *  Tie a model to zero or more elements\n\t\t *  @name    tie\n\t\t *  @access  public\n\t\t *  @param   Object      model\n\t\t *  @param   DOMElement  ...     [variadic, zero or more DOMElement instances]\n\t\t *  @param   Object      options [optional, default undefined - default options]\n\t\t *  @return  void\n\t\t *  @note    If no DOMElements are provided, the model will be bound to the entire document\n\t\t */\n\t\tknot.tie = function() {\n\t\t\tvar arg = castToArray(arguments),\n\t\t\t\tmodel = typeof arg[0] === 'object' && !('nodeType' in arg[0]) ? arg.shift() : {},\n\t\t\t\toptions = defaults(arg.length > 0 && (typeof arg[arg.length - 1] === 'object' && !('nodeType' in arg[arg.length - 1])) ? arg.pop() : {}),\n\t\t\t\tnode;\n\n\t\t\tif (arg.length <= 0) {\n\t\t\t\targ.push(document.body);\n\t\t\t}\n\n\t\t\tmodel = prepare(model);\n\n\t\t\tif (!('ties' in buffer)) {\n\t\t\t\tbuffer.ties = [];\n\t\t\t}\n\t\t\tbuffer.ties.push({model: model, target: arg.slice()});\n\n\t\t\twhile (arg.length) {\n\t\t\t\tnode = arg.shift();\n\n\t\t\t\tplaceholders(node)\n\t\t\t\t\t.forEach(function(text) {\n\t\t\t\t\t\tvar placeholder = text.nodeValue.substr(1, text.nodeValue.length - 2).split(/:/),\n\t\t\t\t\t\t\tkey = placeholder.shift(),\n\t\t\t\t\t\t\tinitial = placeholder.length ? placeholder.join(':') : '',\n\t\t\t\t\t\t\tdelegated = getDelegate(model, key);\n\n\t\t\t\t\t\tif (delegated) {\n\t\t\t\t\t\t\tif (!delegated()) {\n\t\t\t\t\t\t\t\tdelegated(initial);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (options.greedy) {\n\t\t\t\t\t\t\tdelegated = delegate(initial, model);\n\t\t\t\t\t\t\tObject.defineProperty(model, key, {\n\t\t\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\t\t\tget: delegated,\n\t\t\t\t\t\t\t\tset: delegated\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//  if Knot created the delegate, we should register the element to the delegation\n\t\t\t\t\t\tif (delegated) {\n\t\t\t\t\t\t\tdelegated.element(text);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t;\n\n\t\t\t\tattributes(node)\n\t\t\t\t\t.forEach(function(target) {\n\t\t\t\t\t\tvar config;\n\n\t\t\t\t\t\tif (document.body.contains(target)) {\n \t\t\t\t\t\t\tconfig = json.parse(target.getAttribute(buffer.defaults.attribute));\n\n \t\t\t\t\t\t\tif (typeof config === 'object') {\n\t\t\t\t\t\t\t\tObject.keys(config)\n\t\t\t\t\t\t\t\t\t.forEach(function(key) {\n\t\t\t\t\t\t\t\t\t\tvar ex = extension(key);\n\n\t\t\t\t\t\t\t\t\t\tex(target, model, config[key], getDelegate);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t}\n\n\t\t\treturn model;\n\t\t};\n\n\t\t/**\n\t\t *  Get/set the default options\n\t\t *  @name    defaults\n\t\t *  @param   Object  options  [optional, default undefined - do not set anything]\n\t\t *  @return  Object  default options\n\t\t */\n\t\tknot.defaults = function(options) {\n\t\t\tif (options && typeof options === 'object') {\n\t\t\t\tbuffer.defaults = defaults(options);\n\t\t\t}\n\n\t\t\treturn buffer.defaults;\n\t\t};\n\n\t\t/**\n\t\t *  Create a delegate for given data\n\t\t *  @name    delegate\n\t\t *  @access  public\n\t\t *  @param   mixed     data\n\t\t *  @return  function  delegate\n\t\t */\n\t\tknot.delegate = delegate;\n\t\tknot.delegate.get = getDelegate;\n\n\t\t/**\n\t\t *  Register an extension to handle settings from a data attribute\n\t\t *  @name    extension\n\t\t *  @access  public\n\t\t *  @param   string    name\n\t\t *  @param   function  handler\n\t\t *  @return  function  handler\n\t\t */\n\t\tknot.extension = extension;\n\n\t\t/**\n\t\t *  Obtain the model(s) influencing the provided element\n\t\t *  @name    ties\n\t\t *  @access  public\n\t\t *  @param   DOMNode  element\n\t\t *  @return  Array    models\n\t\t */\n\t\tknot.ties = function(element) {\n\t\t\tvar result = [],\n\t\t\t\tancestry = [element];\n\n\t\t\tif ('ties' in buffer) {\n\t\t\t\t//  obtain a the ancestry (parent relations) for the given element\n\t\t\t\twhile (ancestry[ancestry.length - 1].parentNode) {\n\t\t\t\t\tancestry.push(ancestry[ancestry.length - 1].parentNode);\n\t\t\t\t}\n\n\t\t\t\t//  iterator over each tied model\n\t\t\t\tbuffer.ties.forEach(function(tie) {\n\t\t\t\t\tvar list = tie.target.filter(function(node) {\n\t\t\t\t\t\t\treturn ancestry.indexOf(node) >= 0;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (list.length) {\n\t\t\t\t\t\tresult.push(tie.model);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\t//  initialise knot\n\t\tinit();\n\t}\n\n\t//  register the (only) Knot instance to the global scope\n\tglobal.knot = new Knot();\n\n})(this, function(register) {\n\n\n\t//BEGIN INCLUDE: extension/attribute\n\tregister('attribute', function(element, model, config, delegation) {\n\t\t'use strict';\n\n\t\tfunction update(key, value) {\n\t\t\tif (value) {\n\t\t\t\telement.setAttribute(key, value);\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.removeAttribute(key);\n\t\t\t}\n\t\t}\n\n\t\tObject.keys(config)\n\t\t\t.forEach(function(key) {\n\t\t\t\tvar delegated = delegation(model, config[key]);\n\n\t\t\t\t//  If knot created delegation for the key, we subscribe to changes\n\t\t\t\tif (delegated) {\n\t\t\t\t\t//  subscribe to value changes\n\t\t\t\t\tdelegated.subscribe(function(value) {\n\t\t\t\t\t\tif (element.getAttribute(key) !== value) {\n\t\t\t\t\t\t\tupdate(key, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t//  set the attribute based on the model value\n\t\t\t\tupdate(key, model[config[key]]);\n\t\t\t})\n\t\t;\n\t});\n\n\t//END INCLUDE: extension/attribute [124.11µs, 682.00bytes]\n\t//BEGIN INCLUDE: extension/style\n\tregister('style', function(element, model, config, delegation) {\n\t\t'use strict';\n\n\t\tObject.keys(config)\n\t\t\t.forEach(function(key) {\n\t\t\t\tvar delegated = delegation(model, config[key]),\n\t\t\t\t\tpropagate = function(value) {\n\t\t\t\t\t\tvar list;\n\n\t\t\t\t\t\tif ('classList' in element) {\n\t\t\t\t\t\t\telement.classList[!!value ? 'add' : 'remove'](key);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//  the old-fashioned method of applying classes\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (!pattern) {\n\t\t\t\t\t\t\t\tpattern = new RegExp('(?:^|\\\\s+)' + key + '(\\\\s+|$)');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlist = element.className.replace(pattern, function(match, after) {\n\t\t\t\t\t\t\t\treturn after || '';\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\telement.className = list + (!!value ? ' ' + key : '');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tpattern;\n\n\t\t\t\t//  If knot created delegation for the key, we subscribe to changes\n\t\t\t\tif (delegated) {\n\t\t\t\t\t//  subscribe to value changes\n\t\t\t\t\tdelegated.subscribe(propagate);\n\t\t\t\t}\n\n\t\t\t\t//  set the attribute based on the model value\n\t\t\t\tpropagate(model[config[key]]);\n\t\t\t})\n\t\t;\n\t});\n\n\t//END INCLUDE: extension/style [79.59µs, 954.00bytes]\n\t//BEGIN INCLUDE: extension/text\n\tregister('text', function(element, model, key, delegation) {\n\t\t'use strict';\n\n\t\tvar delegated = delegation(model, key),\n\t\t\ttext = element.firstChild && element.firstChild.nodeType === 3 ? element.firstChild : document.createTextNode(delegated ? delegated() : ''),\n\t\t\tpropagate = function() {\n\t\t\t\tif (text.parentNode !== element) {\n\t\t\t\t\tif (element.firstChild) {\n\t\t\t\t\t\telement.insertBefore(text, element.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\telement.appendChild(text);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tif (delegated) {\n\t\t\tdelegated.subscribe(propagate);\n\t\t\tdelegated.element(text);\n\t\t}\n\n\t\tpropagate(model[key]);\n\t});\n\n\t//END INCLUDE: extension/text [156.43µs, 585.00bytes]\n\t//BEGIN INCLUDE: extension/each\n\tregister('each', function(element, model, key, delegation) {\n\t\t'use strict';\n\n\t\tvar template = [],\n\t\t\ttarget, delegated;\n\n\t\tif (typeof key === 'object') {\n\t\t\ttarget = key.target || false;\n\n\t\t\tif (!target) {\n\t\t\t\tthrow new Error('Missing target for \"each\"');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\ttarget = key;\n\t\t}\n\n\t\tdelegated = delegation(model, target);\n\n\t\t//  absorb all childNodes into the template\n\t\twhile (element.firstChild) {\n\t\t\ttemplate.push(element.removeChild(element.firstChild).cloneNode(true));\n\t\t}\n\n\t\tfunction refine(result) {\n\t\t\tvar apply;\n\n\t\t\t['map', 'filter'].forEach(function(method) {\n\t\t\t\tif (method in key) {\n\t\t\t\t\tapply = key[method] instanceof Array ? key[method] : [key[method]];\n\t\t\t\t\tapply.forEach(function(name) {\n\t\t\t\t\t\tif (typeof model[name] === 'function') {\n\t\t\t\t\t\t\tresult = result[method](model[name]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof window[name] === 'function') {\n\t\t\t\t\t\t\tresult = result[method](window[name]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthrow new Error(name + ' is not a ' + method + ' function');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction update() {\n\t\t\tvar output = document.createDocumentFragment(),\n\t\t\t\tties = [],\n\t\t\t\tcollection = model[target];\n\n\t\t\tif (typeof key === 'object') {\n\t\t\t\tcollection = refine(collection);\n\t\t\t}\n\n\t\t\tcollection.forEach(function(value, index) {\n\t\t\t\tvar item = typeof value === 'object' ? value : {},\n\t\t\t\t\targ = [item],\n\t\t\t\t\ti;\n\n\t\t\t\titem.$item   = value;\n\t\t\t\titem.$parent = model[key];\n\t\t\t\titem.$index  = index;\n\n\t\t\t\tfor (i = 0; i < template.length; ++i) {\n\t\t\t\t\targ.push(output.appendChild(template[i].cloneNode(true)));\n\t\t\t\t}\n\n\t\t\t\t//  keep track of the `tie`, so these can be applied once the document fragment\n\t\t\t\t//  is appended to the DOM\n\t\t\t\tties.push(function() {\n\t\t\t\t\tknot.tie.apply(knot, arg);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t//  clear the element and redraw the new output\n\t\t\twhile (element.lastChild) {\n\t\t\t\telement.removeChild(element.lastChild);\n\t\t\t}\n\t\t\telement.appendChild(output);\n\n\t\t\t//  call all of the stored `ties`\n\t\t\tties.forEach(function(tie) {\n\t\t\t\ttie();\n\t\t\t});\n\t\t}\n\n\t\tdelegated.subscribe(function() {\n\t\t\tupdate();\n\t\t});\n\n\t\tupdate();\n\t});\n\n\t//END INCLUDE: extension/each [149.38µs, 1.98KB]\n\t//BEGIN INCLUDE: extension/event\n\tregister('event', function(element, model, config, delegation) {\n\t\t'use strict';\n\n\t\tObject.keys(config)\n\t\t\t.forEach(function(key) {\n\t\t\t\tvar part = typeof config[key] === 'string' ? config[key].split('.') : [],\n\t\t\t\t\tscope = model;\n\n\t\t\t\twhile (part.length) {\n\t\t\t\t\tif (part[0] in scope) {\n\t\t\t\t\t\tscope = scope[part[0]];\n\t\t\t\t\t}\n\n\t\t\t\t\tpart.shift();\n\t\t\t\t}\n\n\t\t\t\telement.addEventListener(key, function(e) {\n\t\t\t\t\tif (typeof scope === 'function') {\n\t\t\t\t\t\tscope.apply(model, [e, model, config[key]]);\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof scope === 'object' && !(scope[config[key]] instanceof Array)) {\n\t\t\t\t\t\tObject.keys(config[key])\n\t\t\t\t\t\t\t.forEach(function(k) {\n\t\t\t\t\t\t\t\tvar delegated = k in scope ? delegation(scope, k) : null;\n\n\t\t\t\t\t\t\t\tif (delegated) {\n\t\t\t\t\t\t\t\t\tdelegated(config[key][k]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t;\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t})\n\t\t;\n\t});\n\n\t//END INCLUDE: extension/event [99.54µs, 805.00bytes]\n\t//BEGIN INCLUDE: extension/input\n\tregister('input', function(element, model, key, delegation) {\n\t\tvar handler = {},\n\t\t\tproperty, delegated;\n\n\t\tfunction type(node) {\n\t\t\treturn 'type' in node ? node.type : (/^select/i.test(node.nodeName) ? 'select-' + (node.multiple ? 'multiple' : 'one') : 'text');\n\t\t}\n\n\t\tfunction handle(property) {\n\t\t\tif (!(property in handler)) {\n\t\t\t\thandler[property] = {\n\t\t\t\t\tmodel: function() {\n\t\t\t\t\t\tdelegated(element[property]);\n\t\t\t\t\t},\n\t\t\t\t\telement: function(value) {\n\t\t\t\t\t\telement[property] = value;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn handler[property];\n\t\t}\n\n\t\tfunction selection() {\n\t\t\tvar defaultOption = 'default' in key ? {value: null, label: key['default']} : false,\n\t\t\t\tupdate = function() {\n\t\t\t\t\tvar offset = 0;\n\n\t\t\t\t\tif ('options' in key && key.options in model) {\n\t\t\t\t\t\tif (defaultOption) {\n\t\t\t\t\t\t\telement.options[offset] = new Option(defaultOption.label, defaultOption.value);\n\t\t\t\t\t\t\t++offset;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telement.options.length = offset;\n\n\t\t\t\t\t\tif (typeof model[key.options] === 'object') {\n\t\t\t\t\t\t\tif (model[key.options] instanceof Array) {\n\t\t\t\t\t\t\t\tmodel[key.options]\n\t\t\t\t\t\t\t\t\t.forEach(function(value, index) {\n\t\t\t\t\t\t\t\t\t\tif (typeof value === 'object') {\n\t\t\t\t\t\t\t\t\t\t\telement.options[index + offset] = new Option(value.label || value.value || '', value.value || '');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\telement.options[index + offset] = new Option(value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tObject.keys(model[key.options])\n\t\t\t\t\t\t\t\t\t.forEach(function(value, index) {\n\t\t\t\t\t\t\t\t\t\telement.options[index + offset] = new Option(model[key.options][value], value);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (element.options.length && delegated) {\n\t\t\t\t\t\tdelegated(element.options[element.selectedIndex].value);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselect = function(value) {\n\t\t\t\t\tvar i;\n\n\t\t\t\t\tfor (i = 0; i < element.options.length; ++i) {\n\t\t\t\t\t\tif (value instanceof Array) {\n\t\t\t\t\t\t\telement.options[i].selected = value.indexOf(element.options[i].value) >= 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\telement.options[i].selected = element.options[i].value === value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelegatedList = 'options' in key ? delegation(model, key.options) : false,\n\t\t\t\tdelegated = 'value' in key ? delegation(model, key.value) : false,\n\t\t\t\tinitial = delegated ? delegated() : null;\n\n\t\t\tif (delegatedList) {\n\t\t\t\tdelegatedList.subscribe(function(change) {\n\t\t\t\t\tupdate();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!delegated && 'value' in key) {\n\t\t\t\tdelegated = knot.delegate(element.hasAttribute('multiple') ? [] : '');\n\t\t\t\tObject.defineProperty(model, key.value, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: delegated,\n\t\t\t\t\tset: delegated\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (delegated) {\n\t\t\t\tif (initial instanceof Array) {\n\t\t\t\t\telement.setAttribute('multiple', '');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\telement.removeAttribute('multiple');\n\t\t\t\t}\n\n\t\t\t\telement.addEventListener('change', function(e) {\n\t\t\t\t\tif (element.options.length) {\n\t\t\t\t\t\tdelegated(element.options[element.selectedIndex].value);\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t\tdelegated.subscribe(select);\n\t\t\t}\n\n\t\t\tif (delegatedList || delegated) {\n\t\t\t\tupdate();\n\t\t\t\tselect(initial);\n\t\t\t}\n\t\t}\n\n\t\tswitch (type(element)) {\n\t\t\tcase 'checkbox':\n\t\t\tcase 'radio':\n\t\t\t\tproperty = 'checked';\n\t\t\t\tbreak;\n\n\t\t\tcase 'select':\n\t\t\tcase 'select-one':\n\t\t\tcase 'select-multiple':\n\t\t\t\t//  select boxes are a very special kind of input, these must be handled differently\n\t\t\t\tselection();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tproperty = 'value'\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (property) {\n\t\t\tdelegated = delegation(model, key[property]);\n\t\t\tif (delegated) {\n\t\t\t\telement.addEventListener('input', handle(property).model, false);\n\t\t\t\telement.addEventListener('change', handle(property).model, false);\n\t\t\t\tdelegated.subscribe(handle(property).element);\n\n\t\t\t\telement[property] = delegated();\n\t\t\t}\n\t\t}\n\t});\n\n\t//END INCLUDE: extension/input [205.39µs, 3.54KB]\n});\n","/* jshint browser:true */\n/* global kx, knot */\nkx.ready(function() {\n\t'use strict';\n\n\tvar error = function(status, response, xhr) {\n\t\t\tconsole.error(status, response);\n\t\t},\n\t\tversion = 'v1',\n\t\tendpoint = '/api/' + version + '/blog',\n\t\tlist, detail, blog;\n\n\tfunction load(type, file) {\n\t\tswitch (type) {\n\t\t\tcase 'script':\n\t\t\t\tvar script = document.createElement('script');\n\t\t\t\tscript.src = file;\n\t\t\t\tdocument.body.appendChild(script);\n\t\t\t\tbreak;\n\n\t\t\tcase 'style':\n\t\t\t\tvar style = document.createElement('link');\n\t\t\t\tstyle.rel = 'stylesheet';\n\t\t\t\tstyle.href = file;\n\t\t\t\tdocument.head.appendChild(style);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tkx.event.add('.site-content', 'click', '.blog-item a', function(event) {\n\t\tvar target = this,\n\t\t\tid = target.attributes['data-id'].value;\n\n\t\tevent.preventDefault();\n\n\t\tif (!history.state || ('id' in history.state && history.state.id !== id)) {\n\t\t\thistory.pushState({id: id}, 'test', target.href.replace(window.location.href, ''));\n\t\t}\n\n\t\tkx.ajax.get({\n\t\t\turl: endpoint + '/' + id,\n\t\t\tsuccess: function(status, response, xhr) {\n\t\t\t\tif (!blog) {\n\t\t\t\t\tblog = knot.tie(response.result, detail);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tObject.keys(response.result).forEach(function(key) {\n\t\t\t\t\t\tblog[key] = response.result[key];\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tkx.style.addClass(document.querySelector('.site-header'), '-small');\n\n\t\t\t\tdetail.style.display = 'block';\n\t\t\t\tlist.style.display = 'none';\n\t\t\t},\n\n\t\t\terror: error\n\t\t});\n\n\t\treturn false;\n\t});\n\n\tkx.ajax.get({\n\t\turl: '/template/detail',\n\t\tsuccess: function(status, response, xhr) {\n\t\t\tdocument.querySelector('.site-content').innerHTML += response;\n\n\t\t\tlist = document.querySelector('.blog-list');\n\t\t\tdetail = document.querySelector('.blog-item.-detail');\n\n\t\t\tdetail.style.display = 'none';\n\n\t\t\tkx.ajax.get({\n\t\t\t\turl: endpoint,\n\t\t\t\tsuccess: function(status, response, xhr) {\n\t\t\t\t\tvar anchor;\n\n\t\t\t\t\tknot.tie({blogs: response.result}, list);\n\n\t\t\t\t\tif (window.location.pathname !== '/' && (anchor = document.querySelector('a[href=\"' + window.location.pathname + '\"]')) === null) {\n\t\t\t\t\t\thistory.replaceState(null, '', '/');\n\t\t\t\t\t\twindow.location.href = '/404';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (anchor) {\n\t\t\t\t\t\tanchor.click();\n\t\t\t\t\t\tlist.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\terror: error\n\t\t\t});\n\t\t},\n\n\t\terror: function(status, response, xhr) {\n\n\t\t}\n\t});\n\n\twindow.onpopstate = function(event) {\n\t\tif (!event.state || typeof event.state !== 'object' || !('id' in event.state)) {\n\t\t\tlist.style.display = 'block';\n\t\t\tdetail.style.display = 'none';\n\n\t\t\tkx.style.removeClass(document.querySelector('.site-header'), '-small');\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn document.querySelector('.blog-item a[data-id=\"' + event.state.id + '\"]').click();\n\t};\n\n\tknot.extension('html', function(element, model, key, delegation) {\n\t\tvar delegated = delegation(model, key),\n\t\t\ttemplate = document.createElement('div'),\n\t\t\tpropagate = function(value) {\n\t\t\t\ttemplate.innerHTML = value;\n\t\t\t};\n\n\t\telement.appendChild(template);\n\n\t\tif (delegated) {\n\t\t\tdelegated.subscribe(propagate);\n\t\t}\n\n\t\tpropagate(model[key]);\n\t});\n});\n"],"sourceRoot":"/source/"}