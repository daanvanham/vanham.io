kx.ready(function(){"use strict";function e(e){a?Object.keys(e).forEach(function(t){a[t]=e[t]}):a=kontext.bind(e,n),kx.style.addClass(document.querySelector(".site-header"),"-small"),n.style.display="block",t.style.display="none",setTimeout(function(){Prism.highlightAll()},50),window.scroll(0,0)}var t,n,a,o="v1",i="/api/"+o+"/blog",l={};kx.ajax.get({url:"/template/detail",success:function(e,a,o){document.querySelector(".site-content").innerHTML+=a,t=document.querySelector(".blog-list"),n=document.querySelector(".blog-item.-detail"),n.style.display="none",kx.ajax.get({url:i,success:function(e,n,a){var o;return kontext.bind({blogs:n.result},t),"/"!==window.location.pathname&&null===(o=document.querySelector('a[href="'+window.location.pathname+'"]'))?(history.replaceState(null,"","/"),void(window.location.href="/404")):void setTimeout(function(){o.click()},100)}})}}),kx.event.add(".site-content","click",".blog-item:not(.-detail) a",function(t){var n=this,a=n.attributes["data-id"].value;return t.preventDefault(),(!history.state||"id"in history.state&&history.state.id!==a)&&"/"===window.location.pathname&&history.pushState({id:a},"test",n.href.replace(window.location.href,"")),a in l?e(l[a]):void kx.ajax.get({url:i+"/"+a,success:function(t,n,o){l[a]=Object.create(n.result),e(n.result)}})}),kx.event.add(".profile-block a","click",function(e){e.preventDefault(),t.style.display="block",n.style.display="none",history.pushState(null,"","/"),kx.style.removeClass(document.querySelector(".site-header"),"-small")}),kx.event.add(".site-content","click",".blog-item.-detail a:not([target])",function(e){var t=/(?:[a-z]+:)?\/\/(?:[a-z0-9_-]+\.)?([a-z][a-z0-9_-]+\.[a-z]{2,6})(?:\/.*)?|\/.*|javascript:.*/i,n=this.href.match(t),a=window.location.href.match(t);n&&n.length>1&&a&&a.length>1&&n[1]!==a[1]&&window.open(this.href)&&e.preventDefault()}),window.onpopstate=function(e){return e.state&&"object"==typeof e.state&&"id"in e.state?document.querySelector('.blog-item a[data-id="'+e.state.id+'"]').click():(t.style.display="block",n.style.display="none",kx.style.removeClass(document.querySelector(".site-header"),"-small"),!0)}}),function(e,t,n,a,o,i,l){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),l=t.getElementsByTagName(n)[0],i.async=1,i.src=a,l.parentNode.insertBefore(i,l)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-70511906-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");
//# sourceMappingURL=combined.min.js.map
