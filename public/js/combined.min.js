kx.ready(function(){"use strict";function t(t){document.body.setAttribute("data-state","detail"===t?"small":"")}function e(){kx.ajax.get({url:c,success:function(t,e){kontext.bind({blogs:e.result},document.querySelector("body > section"))}})}function a(t,e){return 404===t?(history.replaceState(null,"","/"),void(window.location.href="/this-is-not-the-webpage-you-are-looking-for")):void 0}function n(e){i?Object.keys(e).forEach(function(t){i[t]=e[t]}):i=kontext.bind(e,document.querySelector('[data-view="detail"]')),t("detail"),setTimeout(function(){Prism.highlightAll()},50)}var i,o="v1",c="/api/"+o+"/blog",r={};"/"===window.location.pathname?(t("list"),e()):kx.ajax.get({url:c+window.location.pathname,success:function(t,a){n(a.result),e()},error:a}),kx.event.add("body > section","click","article a",function(t){var e=this,i=e.getAttribute("data-id");return t.preventDefault(),(!history.state||"id"in history.state&&history.state.id!==i)&&"/"===window.location.pathname&&history.pushState({id:i},"",e.href.replace(window.location.href,"")),i in r?n(r[i]):void kx.ajax.get({url:c+"/"+i,success:function(t,e){r[i]=Object.create(e.result),n(e.result)},error:a})}),kx.event.add("body > header a","click",function(e){e.preventDefault(),t("list"),history.pushState(null,"","/")}),kx.event.add("body","click",'[data-view="detail"] a:not([target])',function(t){var e=/(?:[a-z]+:)?\/\/(?:[a-z0-9_-]+\.)?([a-z][a-z0-9_-]+\.[a-z]{2,6})(?:\/.*)?|\/.*|javascript:.*/i,a=this.href.match(e),n=window.location.href.match(e);a&&a.length>1&&n&&n.length>1&&a[1]!==n[1]&&window.open(this.href)&&t.preventDefault()}),window.onpopstate=function(e){return e.state&&"object"==typeof e.state&&"id"in e.state?document.querySelector('article a[data-id="'+e.state.id+'"]').click():t("list")}}),function(t,e,a,n,i,o,c){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,o=e.createElement(a),c=e.getElementsByTagName(a)[0],o.async=1,o.src=n,c.parentNode.insertBefore(o,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-70511906-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");
//# sourceMappingURL=combined.min.js.map
