kx.ready(function(){"use strict";function t(t){document.body.setAttribute("data-state","detail"===t?"small":"")}function e(e){a?Object.keys(e).forEach(function(t){a[t]=e[t]}):a=kontext.bind(e,document.querySelector('[data-view="detail"]')),t("detail"),setTimeout(function(){Prism.highlightAll()},50)}var a,n="v1",o="/api/"+n+"/blog",i={};kx.ajax.get({url:"/template/detail",success:function(e,a,n){var i=document.createElement("template");i.innerHTML=a,document.body.insertBefore(i.content,document.querySelector("body > footer")),t("list"),kx.ajax.get({url:o,success:function(t,e,a){var n;return kontext.bind({blogs:e.result},document.querySelector("body > section")),"/"!==window.location.pathname&&null===(n=document.querySelector('a[href="'+window.location.pathname+'"]'))?(history.replaceState(null,"","/"),void(window.location.href="/this-is-not-the-webpage-you-are-looking-for")):void(n&&setTimeout(function(){n.click()},100))}})}}),kx.event.add("body > section","click","article a",function(t){var a=this,n=a.getAttribute("data-id");return t.preventDefault(),(!history.state||"id"in history.state&&history.state.id!==n)&&"/"===window.location.pathname&&history.pushState({id:n},"test",a.href.replace(window.location.href,"")),n in i?e(i[n]):void kx.ajax.get({url:o+"/"+n,success:function(t,a,o){i[n]=Object.create(a.result),e(a.result)}})}),kx.event.add("body > header a","click",function(e){e.preventDefault(),t("list"),history.pushState(null,"","/")}),kx.event.add("body > section","click",'[data-view="detail"] a:not([target])',function(t){var e=/(?:[a-z]+:)?\/\/(?:[a-z0-9_-]+\.)?([a-z][a-z0-9_-]+\.[a-z]{2,6})(?:\/.*)?|\/.*|javascript:.*/i,a=this.href.match(e),n=window.location.href.match(e);a&&a.length>1&&n&&n.length>1&&a[1]!==n[1]&&window.open(this.href)&&t.preventDefault()}),window.onpopstate=function(e){return e.state&&"object"==typeof e.state&&"id"in e.state?document.querySelector('article a[data-id="'+e.state.id+'"]').click():t("list")}}),function(t,e,a,n,o,i,c){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,i=e.createElement(a),c=e.getElementsByTagName(a)[0],i.async=1,i.src=n,c.parentNode.insertBefore(i,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-70511906-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");
//# sourceMappingURL=combined.min.js.map
