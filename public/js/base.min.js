kx.ready(function(){"use strict";var e,t,n,o=function(e,t,n){console.error(e,t)},l="v1",i="/api/"+l+"/blog";kx.event.add(".site-content","click",".blog-item a",function(l){var r=this,s=r.attributes["data-id"].value;return l.preventDefault(),(!history.state||"id"in history.state&&history.state.id!==s)&&history.pushState({id:s},"test",r.href.replace(window.location.href,"")),kx.ajax.get({url:i+"/"+s,success:function(o,l,i){n?Object.keys(l.result).forEach(function(e){n[e]=l.result[e]}):n=knot.tie(l.result,t),kx.style.addClass(document.querySelector(".site-header"),"-small"),t.style.display="block",e.style.display="none"},error:o}),!1}),kx.ajax.get({url:"/template/detail",success:function(n,l,r){document.querySelector(".site-content").innerHTML+=l,e=document.querySelector(".blog-list"),t=document.querySelector(".blog-detail"),t.style.display="none",kx.ajax.get({url:i,success:function(t,n,o){var l;knot.tie({blogs:n.result},e),"/"!==window.location.pathname&&null===(l=document.querySelector('a[href="'+window.location.pathname+'"]'))&&(history.replaceState(null,"","/"),window.location.href="/404"),l&&(l.click(),e.style.display="none")},error:o})},error:function(e,t,n){}}),window.onpopstate=function(n){return n.state&&"object"==typeof n.state&&"id"in n.state?document.querySelector('.blog-item a[data-id="'+n.state.id+'"]').click():(e.style.display="block",t.style.display="none",kx.style.removeClass(document.querySelector(".site-header"),"-small"),!0)},knot.extension("html",function(e,t,n,o){var l=o(t,n),i=document.createElement("div"),r=function(e){i.innerHTML=e};e.appendChild(i),l&&l.subscribe(r),r(t[n])})});
//# sourceMappingURL=base.min.js.map