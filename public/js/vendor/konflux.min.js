!function(e,t,n){"use strict";function r(){function e(){r=o.time()}function t(e){var t={array:function(e){return e.length>0},object:function(e){for(e in e)return!0;return!1},"boolean":function(e){return e},number:function(e){return 0!==e},string:function(e){return!/^0?$/.test(e)}},r=o.type(e);return n("function",t[r])&&t[r](e)?!1:!0}function n(e,t){var n=o.type(t),r=e&&e.length?n.substr(0,e.length):null;if(r!==e)switch(n){case"object":r=o.type(t,!0).substr(0,e.length);break;case"number":r=(parseInt(t,10)===t?"integer":"float").substr(0,e.length)}return r===e}var r,o=this,a=0;o.time=function(){return Date.now?Date.now():(new Date).getTime()},o.elapsed=function(){var e=864e5,t=36e5,n=6e4,i=Math.abs((new Date).getTime()-r),o=Math.floor(i/e),a=Math.floor((i-=o*e)/t),u=Math.floor((i-=a*t)/n),s=Math.floor((i-=u*n)/1e3),c=Math.floor(i-=1e3*s),l="000";return(o>0?o+"d ":"")+(l+a).substr(-2)+":"+(l+u).substr(-2)+":"+(l+s).substr(-2)+"."+(l+c).substr(-3)},o.unique=function(){return(++a+o.time()%864e5).toString(36)},o.combine=function(){var e,t,n={},r=arguments;for(e=0;e<r.length;++e)if(o.isType("object",r[e]))for(t in r[e])n[t]=t in n&&o.isType("object",n[t])?o.combine(r[e][t],n[t]):r[e][t];return n},o.empty=function(){for(var e=Array.prototype.slice.call(arguments);e.length;)if(!t(e.shift()))return!1;return!0},o.type=function(e,t){var n,r=e instanceof Array?"array":null===e?"null":typeof e;return t&&"object"===r&&(n=/(?:function\s+)?(.{1,})\(/i.exec(e.constructor.toString()),n&&n.length>1&&"Object"!==n[1])?n[1]:r},o.isType=n,o.version=function(e){for(var t=i.split(" - "),n=["version","date","revision","type"],r={};n.length&&t.length;)r[n.shift()]=t.shift();return e?r:r.version},o.deprecate=function(e,t,n){var r;return function(){var i,a=["info","warn","log"];if(!r)for(r=!0,i=0;i<a.length;++i)if(o.isType("function",console[a[i]])){console[a[i]](o.elapsed()+" DEPRECATED: "+e);break}return t.apply(n||null,arguments)}},o.register=function(e,t){var n=!1;return(o.isType("function",t)||o.isType("object",t))&&(n=e in o?o[e]:null,o[e]=t),n},e()}var i="1.0.0-alpha.59 - 2015-10-02 - 5203429";!function(n){t&&t(n),e.konflux=e.kx=n}(new r)}(window,function(e){function t(){function t(t){for(var n=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),r=["source","protocol","domain","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i={};r.length;)i[r.shift()]=n.length?n.shift():"";return i.query&&i.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,n,r){e.isType("object",i.query)&&(i.query={}),n&&(i.query[n]=r)}),i}var n=this;n.current=e.isType("undefined",window.location.href)?!1:t(window.location.href),n.parse=t,n.isLocal=function(e){return n.current.domain===n.parse(e).domain}}function n(){function t(t,n,r){"use strict";function i(){clearTimeout(a)}function o(){a=setTimeout(function(){u||(u=e.browser.feature("requestAnimationFrame")||function(e){setTimeout(e,16)}),u(i),t.call()},n)}var a,u,s=this;s.cancel=i,s.reference=function(){return r},o()}function n(e){"undefined"!=typeof o[e]&&(o[e].cancel(),delete o[e])}function r(r,i,a){return a?n(a):a=r.toString()||e.unique(),o[a]=new t(r,i||0,a),o[a]}var i=this,o={};i.remove=n,i.create=r}function r(){function t(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return!1}function n(e,n){var r,i=[];for(r=0;r<e.length;++r)t(n,e[r])===!1&&i.push(e[r]);return i}function r(e,t){var n=[];for(t-=e;n.length<=t;)n.push(e+n.length);return n}function i(e){for(var t,n,r=e.length;r;t=Math.random()*r|0,n=e[--r],e[r]=e[t],e[t]=n);return e}function o(t){var n,r,i=!1;switch(e.type(t)){case"object":if(!("length"in t)){i=[t];break}try{i=Array.prototype.slice.call(t)}catch(o){for(i=[],n=t.length,r=0;n>r;++r)i.push(t[r])}break;case"null":case"undefined":i=[];break;default:i=[t]}return i}var a=this;a.contains=t,a.diff=n,a.range=r,a.shuffle=i,a.cast=o}function i(){function t(e){for(var t=0,n=0,r=e.length;r>n;++n)t=(t=31*t+e.charCodeAt(n))&t;return t}function n(e){for(var n=16,r=("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+e).substr(-(Math.ceil((e.length||1)/n)*n)),i=0;r.length;)i+=t(r.substr(0,n)),r=r.substr(n);return Math.abs(i).toString(36)}function r(e){return e.charCodeAt(0)}function i(e){return String.fromCharCode(e)}function o(e,t,n,r){return n=new Array(t+1).join(n),(t-=e.length)>0&&(r=r===l.PAD_LEFT?t:r===l.PAD_BOTH?Math.ceil(t/2):0)!==!1?(r>0?n.substr(0,r):"")+e+n.substr(0,t-r):e}function a(e){for(var t=e.length,n=0;t>0;--t)n+=t*r(e[t]);return Math.abs(n+""+e.length|0).toString(36)}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function s(e,t,n){var r,i=""+e,o=[];if(t&&1!==t)if(e.length<t)o.push(e);else if(n)for(r=i.length;r>0;o.unshift(i.substr(r-=Math.min(i.length,t))),i)i=i.substring(0,r);else for(;i.length>0,o.push(i.substring(0,t)),i;)i=i.substr(t);else o=i.split("");return o}function c(t,n){var r,i,o,a=[];for(r=0;r<t.length;++r){o=t.substr(r,1);for(i in n)if(e.array.contains(n[i],o.charCodeAt(0))!==!1){o=i;break}a.push(o)}return a.join("")}var l=this;l.PAD_LEFT=1,l.PAD_BOTH=2,l.PAD_RIGHT=3,l.TRIM_LEFT=1,l.TRIM_BOTH=2,l.TRIM_RIGHT=3,l.CHUNK_START=1,l.CHUNK_END=2,l.ascii=function(e,t){return c(e,t||{A:[192,193,194,195,196,197],C:[199],E:[200,201,202,203],I:[204,205,206,207],D:[208],N:[209],O:[210,211,212,213,214,216],U:[217,218,219,220],Y:[221],ss:[223],a:[224,225,226,227,228,229],beta:[946],c:[231],e:[232,233,234,235],i:[236,237,238,239],n:[241],o:[240,242,243,244,245,246],u:[249,250,251,252],y:[253]})},l.trim=function(e,t,n){var r,i,o=t||" \n\r	\f";for(i=e.length;i>0&&n!==l.TRIM_LEFT&&o.indexOf(e.charAt(--i))>=0;);for(r=0;i>r&&n!==l.TRIM_RIGHT&&o.indexOf(e.charAt(r))>=0;++r);return e.substring(r,i+1)},l.reverse=function(e){for(var t=e.length,n="";t>0;--t)n+=e[t];return n},l.pad=function(e,t,n,r){return o(e,t,n||" ",r||l.PAD_RIGHT)},l.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},l.hash=n,l.checksum=a,l.uuid=u,l.ord=r,l.chr=i,l.chunk=function(e,t,n){return s(e,t||1,n===l.CHUNK_END)},l.escapeRegExp=function(t,n){var r=".\\+*?[^]$(){}=!<>|:-".split(""),i=new RegExp("["+r.concat(n?[n]:[]).join("\\")+"]","g");return e.isType("string",t)?t.replace(i,"\\$&"):""}}function o(e,t){var n=this;n.x=e||0,n.y=t||0,n.to=function(e,t){return n.x=e,n.y=t,n},n.snap=function(e){return n.x=e?Math.round(n.x/e)*e:Math.round(n.x),n.y=e?Math.round(n.y/e)*e:Math.round(n.y),n},n.clone=function(){return new o(n.x,n.y)},n.move=function(e,t){return n.x+=e,n.y+=t,n},n.equal=function(e,t){return t?Math.round(n.x)===Math.round(e.x)&&Math.round(n.y)===Math.round(e.y):n.x===e.x&&n.y===e.y},n.scale=function(e){return n.x*=e,n.y*=e,n},n.subtract=function(e){return new o(n.x-e.x,n.y-e.y)},n.add=function(e){return new o(n.x+e.x,n.y+e.y)},n.distance=function(e){return Math.sqrt(Math.pow(Math.abs(n.x-e.x),2)+Math.pow(Math.abs(n.y-e.y),2))},n.angle=function(e){return Math.atan2(e.x-n.x,e.y-n.y)},n.max=function(){var e,t=n.x,r=n.y;for(e=0;e<arguments.length;++e)t=Math.max(t,arguments[e].x),r=Math.max(r,arguments[e].y);return new o(t,r)},n.min=function(){var e,t=n.x,r=n.y;for(e=0;e<arguments.length;++e)t=Math.min(t,arguments[e].x),r=Math.min(r,arguments[e].y);return new o(t,r)},n.iso=function(e){return e=(e||30)*Math.PI/180,new o(n.x-n.y,(n.x+n.y)*e)},n.mid=function(e){return new o(.5*(n.x+e.x),.5*(n.y+e.y))}}function a(t){function n(){var e;t=t||[],"object"!=typeof t&&(t=[t]),"length"in t&&i("length");for(e in t)e in l||(l[e]=r(e));s=l.keys()}function r(n){return e.isType("function",t[n])?function(){return t[n].apply(t,e.array.cast(arguments))}:t[n]}function i(e){try{return Object.defineProperty(l,e,{get:function(){return t[e]}})}catch(n){return l[e]=t[e]}}function o(n){var r,o;if(!("length"in t))return!1;if(t instanceof Array||(t=e.array.cast(t)),n instanceof a&&(n=n.collection()),n instanceof Array||(n=e.isType("object",n)?[n]:e.array.cast(n)),n instanceof Array){for(r=t.length,t=t.concat(n),s=l.keys(),o=r;o<t.length;++o)i(o);return!0}return!1}function u(n,r,i){return function(o,u){var s,c,f,d;if(n in t&&e.isType("function",t[n]))return new a(t[n].apply(t,arguments));for(s=t instanceof Array?[]:{},f=l.keys(),d=0;d<f.length;++d)if(c=r(o.apply(u||void 0,[t[f[d]],f[d],t]),t[f[d]])){if(i)return c;s[f[d]]=c}return e.iterator(s)}}var s,c,l=this;l.collection=function(){return t},l.cursor=function(n){var r;return n&&(t instanceof Array&&n in s?c=n:t instanceof Array||(r=e.array.contains(s,n),r&&(c=r))),r=c||0,t instanceof Array?r:s[r]},l.item=function(n){return"item"in t&&e.isType("function",t.item)?t.item(n):"length"in t&&(n>=0||n<t.length)||n in t?t[n]:null},l.current=function(){return c||(c=0),"undefined"!=typeof s[c]?l.item(s[c]):!1},l.keys=function(){var e=[];return l.each(function(t,n){e.push(n)}),e},l.filter=u("filter",function(e,t){return e?t:!1}),l.find=u("find",function(e,t){return e?t:!1},!0),l.map=u("map",function(e){return e}),l.previous=function(){return c=Math.max("undefined"!=typeof c?c-1:0,-1),l.current()},l.prev=l.previous,l.next=function(){return c=Math.min("undefined"!=typeof c?c+1:0,s.length),l.current()},l.each=function(e,n){var r;if("length"in t)for(r=0;r<t.length;++r)e.apply(n||void 0,[t[r],r,l]);else for(r in t)e.apply(n||void 0,[t[r],r,l]);return l},l.add=function(){var e;for(e=0;e<arguments.length;++e)o(arguments[e]);return l},n()}function u(){function t(n,r){var i,o;if(e.isType("string",n)&&(n=document.querySelector(n)),r instanceof Array)for(i=[],o=0;o<r.length;++o)i.push(t(n,r[o]));else i=n.appendChild(r);return i}function n(e,t){if("contains"in e)return e.contains(t);for(;t!==e&&t;)t=t.parentNode;return!!t}function r(n,i){var o,a,u,s;switch(e.type(n)){case"array":for(a=[],s=0;s<n.length;++s)a.push(r(n[s]));break;case"object":o="tag"in n?n.tag:"name"in n?n.name:"div",a=/^[a-z]+[a-z0-9-]*$/i.test(o)?document.createElement(o):(i?i.querySelector(o):null)||document.querySelector(o);for(u in n)switch(u){case"name":"tag"in n&&a.setAttribute("name",n[u]);break;case"child":case"content":t(a,r(n[u],a));break;case"class":case"className":a.setAttribute("class",n[u]);break;default:a.setAttribute(u,n[u])}break;case"boolean":n=n?"true":"false";default:a=document.createTextNode(n)}return a}function i(t){var n=+e.style.get(t,"z-index"),r=parseFloat(e.style.get(t,"opacity")),i=e.style.get(t,"position"),o=e.style.get(t,"display"),u=e.style.get(t,"float"),s="static"!==i&&"auto"!==n||1>r,c=/^(?:(?:inline\-)?block|list\-item|table(?:\-(?:cell|caption|column|row))?|table\-(?:column|footer|header|row)\-group|flex|grid)$/.test(o),l=parseInt(["fixed"===i?1:0,s&&("auto"===n||n>=0)?1:0,"static"===i||s?0:1,"none"!==u||"static"!==i||c?0:1,"none"===u||s||"static"!==i?0:1,"none"===u&&"static"===i&&c?1:0,s&&0>n?1:0].join(""),2);return{type:l,index:"static"===i&&n&&"auto"!==n?n:0,context:0!==(a.STACK_NEGATIVE&l||a.STACK_POSITIONED&l||a.STACK_POSITIVE&l||a.STACK_GLOBAL&l)}}function o(t,n){var r,i,o="kxref",a={window:window,document:document,root:document.documentElement,head:document.head,body:document.body};for(i in a)if(t===a[i])return i;return t&&"nodeType"in t&&1===t.nodeType?(r=n?o in t?t[o]:null:t.getAttribute("data-"+o),r||(r=e.unique(),n?t[o]=r:t.setAttribute("data-"+o,r)),r):!1}var a=this;a.STACK_NEGATIVE=1,a.STACK_BLOCK=a.STACK_NEGATIVE<<1,a.STACK_FLOAT=a.STACK_BLOCK<<1,a.STACK_INLINE=a.STACK_FLOAT<<1,a.STACK_POSITIONED=a.STACK_INLINE<<1,a.STACK_POSITIVE=a.STACK_POSITIONED<<1,a.STACK_GLOBAL=a.STACK_POSITIVE<<1,a.create=r,a.appendTo=function(n,i){return t(n,e.isType("object",i)&&!e.isType("undefined",i.nodeType)?i:r(i,n))},a.contains=n,a.select=function(t,n){return e.iterator((n||document).querySelectorAll(t))},a.reference=function(e){return o(e)},a.stackLevel=i}function s(){function t(){for(var e=document.createElement("div"),t=e.getElementsByTagName("i"),n=4;e.innerHTML="<!--[if gt IE "+n+"]><i></i><![endif]-->",t.length&&10>n;)++n;return n=n>4?n:Function("/*@cc_on return document.documentMode;@*/return false")(),n?n:"-ms-ime-align"in document.documentElement.style?11:!1}function n(t){return e.isType("undefined",s[t])?t in window||t in document:s[t]}function r(t,n){var r,o,a=i(),u=n?n:[window,document,navigator],s=[];for(t instanceof Array||(t=[t]),o=0;o<t.length;++o)r=e.string.ucFirst(t[o]),s=s.concat([t[o],a+r,a.toLowerCase()+r]);for(;s.length;)for(t=s.shift(),o=0;o<u.length;++o)if(t in u[o])return u[o][t];return!1}function i(){var e,t=["Icab","Khtml","O","ms","Moz","webkit"],n=new RegExp("^("+t.join("|")+")(?=[A-Z])"),r=document.createElement("script");for(e in r.style)if(n.test(e)){o=e.match(n).shift();break}for(;!o&&t.length;)e=t.pop(),e+"Opacity"in r.style&&(o=e);return r=null,o}var o,a,u=this,s={touch:"ontouchstart"in window||"msMaxTouchPoints"in navigator};u.ie=function(n){return e.isType("undefined",a)&&(a=t()),n&&a?n>a:a},u.prefix=function(){return o||(o=i()),o},u.feature=function(e,t){return!t||t instanceof Array||(t=[t]),r(e,t)},u.supports=function(){for(var e=!0,t=arguments.length;e&&--t>=0;)e=e&&n(arguments[t]);return e},u.fullscreen=function(t){var n,r,i=["fullScreen","isFullScreen"],o=u.prefix().toLowerCase();for(t||(t=document.documentElement),r=0,n=null;r<i.length,null===n;++r)n=i[r]in document?i[r]:o+e.string.ucFirst(i[r]),n in document||(n=null);o=n.match(new RegExp("^"+o))?o:null,o=(o||(document[n]?"cancel":"request"))+e.string.ucFirst((o?document[n]?"cancel":"request":"")+e.string.ucFirst(i[0])),(document[n]?document:t)[o](t.ALLOW_KEYBOARD_INPUT||null)}}function c(){function t(t){"use strict";function n(e){var t=e?e.match(/^([^\.]*)?(?:\.(.+))?$/):["","*","*"];return{name:t[1]||"*",namespace:t[2]||"*"}}function r(t){return e.dom.reference(t)}function i(e){return(e+"").replace(/\s+|\/\*.*?\*\//g,"")}function o(n,o,a,u,s,f){var d=[r(n),o,a,u?i(u):!1,f||!1,i(s)].join(c);return d in l||(l[d]={target:n,namespace:o,type:a,filter:u,capture:f||!1,delegate:function(r){var i,o=r||window.event;u?(!("target"in o)&&"srcElement"in o&&(o.target=o.srcElement),e.select(u,n).each(function(r){(o.target===r||e.dom.contains(r,o.target))&&(o.delegate=n,i=s.apply(r,[t(o)]))})):s&&(i=s.apply(n,[t(o)])),i===!1&&(o.stopPropagation?o.stopPropagation():o.cancelBubble&&(o.cancelBubble=!0))}}),l[d]}function a(e){e in l&&delete l[e]}function u(t,n,o,a,u){var s,f=".*?",d=new RegExp(["^"+(t?e.string.escapeRegExp(r(t)):f),n&&"*"!==n?e.string.escapeRegExp(n):f,o&&"*"!==o?e.string.escapeRegExp(o):f,a?e.string.escapeRegExp(i(a)):f,f,(u?e.string.escapeRegExp(i(u)):f)+"$"].join(c)),p={};for(s in l)d.test(s)&&(p[s]=l[s]);return p}var s=this,c="!",l={};s.find=function(e,t,r,i){var o,a=n(t),s=u(e,a.namespace,a.name,r,i),c=[];for(o in s)c.push(s[o]);return c},s.remove=function(e,t,r,i){var o,s=n(t),c=u(e,s.namespace,s.name,r,i),l=[];for(o in c)l.push(c[o]),a(o);return l},s.create=function(e,t,r,i,a){var u=n(t);return o(e,u.namespace,u.name,r,i,a||!1)}}function n(e){var t,r=!1;if(document.removeEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1),r=!0):"complete"===document.readyState&&(document.detachEvent("onreadystate",n),window.detachEvent("onload",n),r=!0),r&&y.ready)for(t in y.ready)y.ready[t].call(e)}function r(t,n){var r,i=t.match(/^(transition|animation)(end|iteration|start)$/i);return i&&(r=e.style.property(i[1],n))!==i[1]&&(r=r.substr(0,r.length-i[1].length),t=r["to"+(r.length<=2?"Upper":"Lower")+"Case"]()+e.string.ucFirst(i[1])+e.string.ucFirst(i[2])),t}function i(e){var t,n="!afterprint!beforeprint!canplay!canplaythrough!change!domcontentloaded!durationchange!emptied!ended!input!invalid!loadeddata!loadedmetadata!offline!online!pause!play!playing!ratechange!readystatechange!reset!seeked!seeking!stalled!submit!suspend!timeupdate!volumechange!waiting!abort!domactivate!error!load!resize!scroll!select!unload!animationend!animationiteration!animationstart!beforeunload!blur!domfocusin!domfocusout!focus!focusin!focusout!click!contextmenu!dblclick!mousedown!mouseenter!mouseleave!mousemove!mouseout!mouseover!mouseup!show!compositionend!compositionstart!compositionupdate!copy!cut!paste!drag!dragend!dragenter!dragleave!dragover!dragstart!drop!hashchange!keydown!keypress!keyup!pagehide!pageshow!popstate!touchcancel!touchend!touchmove!touchstart!transitionend!wheel!",r=n.indexOf("!"+e.toLowerCase()+"!");return 0>r?t="Custom":277>r?t="HTML":334>r?t="UI":381>r?t="Animation":394>r?t="BeforeUnload":445>r?t="Focus":546>r?t="Mouse":596>r?t="Composition":611>r?t="Clipboard":668>r?t="Drag":679>r?t="HashChange":702>r?t="Keyboard":720>r?t="PageTransition":729>r?t="PopState":771>r?t="Touch":777>r?t="Transition":786>r&&(t="Wheel"),t+"Event"}function o(t,n){return"__kxevt_"+n+"_"+e.dom.reference(t)}function a(t){var n=t||window.event;return e.isType("undefined",n.target)&&(n.target=e.isType("undefined",n.srcElement)?null:n.srcElement),e.isType("undefined",n.type)&&(n.type=n.eventType),n.family=i(n.type),/^(mouse[a-z]+|drag(?:[a-z]+)?|drop|(?:dbl)?click)$/i.test(n.type)&&(n.mouse=e.point(n.pageX?n.pageX:n.clientX?n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft:0,n.pageY?n.pageY:n.clientY?n.clientY+document.body.scrollTop+document.documentElement.scrollTop:0)),n}function u(t){return t||(t=[]),t===window&&(t=[t]),e.isType("string",t)&&(t=document.querySelectorAll(t)),e.isType("number",t.length)||(t=[t]),e.iterator(t)}function s(t){return e.isType("string",t)?t=t.replace(/\*/g,"").split(/[\s*,]+/):t||(t=[]),e.iterator(t)}function c(e,n,r,i,o){h||(h=new t(a)),n=s(n),u(e).each(function(e){n.each(function(t){var n=h.create(e,t,r,i,o||r?!0:!1);f(n.target,n.type,n.delegate,n.capture)})})}function l(e,t,n,r){var i,o=[];if(h&&(e?u(e).each(function(e){t?s(t).each(function(t){o=o.concat(h.find(e,t,n,r))}):o=o.concat(h.find(e,null,null,r))}):o=o.concat(h.find(null,null,null,r)),o.length>0)){for(i=0;i<o.length;++i)d(o[i].target,o[i].type,o[i].delegate,o[i].capture),h.remove(o[i].target,o[i].type,n,r);return!0}return!1}function f(t,n,a,u){var s;if(t.addEventListener)t.addEventListener(r(n),a,u);else if(t.attachEvent)switch(i(n)){case"CustomEvent":s=o(t,n),s in t||Object.defineProperty(t,s,{configurable:!0,enumerable:!1,get:function(){return n},set:function(t){var r,i="on"+n;if(i in this||(this[i]=[]),e.isType("function",t))this[i].push(t);else for(t.returnValue=!0,t.srcElement=this,r=0;r<this[i].length&&(this[i][r].apply(this,[t]),t.returnValue);++r);}}),t[s]=a;break;default:t.attachEvent("on"+n,a)}}function d(e,t,n,a){if(e.removeEventListener)e.removeEventListener(r(t),n,a);else if(e.detachEvent)switch(i(t)){case"CustomEvent":delete e[o(e,t)];break;default:e.detachEvent("on"+t,n)}}function p(t,n,r){var a,s=i(n)||"CustomEvent",c=e.browser.feature(s),l=r||{},f=!1;return c&&e.isType("function",c)?f=new c(n,{detail:l,cancelable:!0}):"createEvent"in document?(f=document.createEvent(s),r||"CustomEvent"===s?f.initCustomEvent(n,!1,!0,l):f.initEvent(n,!1,!0)):"createEventObject"in document&&(f=document.createEventObject(),f.eventType=n,f.detail=l),f?(u(t).each(function(t){"dispatchEvent"in t?t.dispatchEvent(f):"fireEvent"in t&&("CustomEvent"===s?(a=o(t,n),e.isType("undefined",t[a])||(t[a]=f)):t.fireEvent("on"+n,f))}),!0):!1}var h,g,m=this,y={};m.add=function(t,n,r,i,o){return setTimeout(function(){c.apply(m,[t,n].concat(e.isType("function",r)?[null,r,i]:[r,i,o]))},1),m},m.remove=function(t,n,r,i){var o=[t,n,r,i];return e.isType("function",t)?o=[null,null,null,t]:e.isType("function",n)?o=[t,null,null,n]:e.isType("function",r)&&(o=[t,n,null,r]),l.apply(m,o),m},m.trigger=function(e,t,n){return p(e,t,n)},m.hasTouch=function(){return e.isType("boolean",g)||(g=e.browser.supports("touch")),g},m.ready=function(e){return/^interactive|complete$/.test(document.readyState)?(setTimeout(e,1),!0):("undefined"==typeof y.ready&&(y.ready=[],document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n))),y.ready.push(e),!1)},m.listen=e.deprecate("konflux.event.listen is deprecated, use konflux.event.add instead (a drop-in replacement)",m.add),m.live=e.deprecate("konflux.event.live is deprecated, use konflux.event.add instead (a drop-in replacement)",m.add)}function l(){function t(e){var t=0;if("float"===e)return"cssFloat";for(;(t=e.indexOf("-",t))>=0;)e=e.substr(0,t)+e.charAt(++t).toUpperCase()+e.substring(t+1);return e}function n(e){return"cssFloat"===e&&(e="float"),e.replace(/([A-Z])/g,"-$1").toLowerCase()}function r(n,r){return n=t(n),r=r||document.body,n in r.style?n:(n=e.browser.prefix()+e.string.ucFirst(n),n in r.style?n:!1)}function i(){var t,n=document.styleSheets,r=[];for(t=0;t<n.length;++t)e.url.isLocal(n[t].href)&&r.push(n[t]);return r}function o(e,t){var n,r=t?document.styleSheets:i(),o=[];switch(e){case"first":r.length>0&&(o=[r[0]]);break;case"last":r.length>0&&(o=[r[r.length-1]]);break;default:if("all"===e)o=r;else if(e){if(r.length>0)for(n=0;n<r.length;++n)r[n].href&&r[n].href.substr(-e.length)===e?o.push(r[n]):r[n].title&&r[n].title===e&&o.push(r[n])}else o=!1}return o}function a(e,t){var n=o(e,!0);return t&&0===n.length&&(n=o(t,!0)),n.length>0?n[0]:!1}function u(t,n,r){var i=a(t,r),o=document.head||document.getElementsByTagName("head")[0];return i||(i=document.createElement(t?"link":"style"),i.setAttribute("type","text/css"),i.setAttribute("title",r||"konflux.style."+e.unique()),/link/i.test(i.nodeName)&&(i.setAttribute("rel","stylesheet"),i.setAttribute("href",t)),n&&document.head.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i)),i}function s(e){var n,r,i=e.split(/\s*;\s*/),o={};for(n=0;n<i.length;++n)r=i[n].split(/\s*:\s*/),""!==r[0]&&(o[t(r.shift())]=l(r.join(":")));return o}function c(e){return e.split(/\s+/).join(" ").toLowerCase()}function l(t){var n,r={" ":/\s+/g,'"':/["']/g,",":/\s*,\s*/g,".":/\b0+\./g,0:/0(?:px|em|%|pt)\b/g};for(n in r)t=t.replace(r[n],n);return r=t.match(/#([0-9a-f]+)/),r&&r.length>0&&(r=r[1],r.length%3!==0?r=e.string.pad(r,6,"0"):3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),t="rgb("+[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)].join(",")+")"),t}var f=this;f.addClass=function(t,n){var r=e.string.trim(t.className).split(/\s+/);return t.className=r.concat(e.array.diff(n.split(/[,\s]+/),r)).join(" "),t.className},f.removeClass=function(t,n){var r,i,o=e.string.trim(t.className).split(/\s+/),a=e.string.trim(n).split(/[,\s]+/);for(r=0;r<a.length;++r)i=e.array.contains(o,a[r]),i!==!1&&o.splice(i,1);return t.className=o.join(" "),t.className},f.toggleClass=function(t,n){var r,i,o=e.string.trim(t.className).split(/\s+/),a=e.string.trim(n).split(/[,\s]+/);for(r=0;r<a.length;++r)i=e.array.contains(o,a[r]),i!==!1?o.splice(i,1):o.push(a[r]);return t.className=o.join(" "),t.className},f.inline=function(e,t){var n,i;for(n in t)i=r(n),i&&(e.style[i]=t[n]);return f},f.selector=function(t,n){var r=t.nodeName.toLowerCase(),i=t.hasAttribute("id")?"#"+t.getAttribute("id"):null,o=t.hasAttribute("class")?"."+e.string.trim(t.getAttribute("class")).split(/\s+/).join("."):null,a="";return(1===arguments.length||i||o)&&(a=(n?"":r)+(i||o||"")),e.string.trim((!i&&t.parentNode&&t!==document.body?f.selector(t.parentNode,!0)+" ":"")+a)},f.sheet=function(t,n){var r,i=o(e.isType("string",t)?t:null,n===!1?!0:!1);if(e.isType("undefined",t.nodeName))for(r=0;r<i.length;++r)if(i[r].ownerNode===t)return[i[r]];return i},f.create=function(e,t){var n=u(!1,t,e);return n.sheet||!1},f.load=function(t,n,r){var i=u(t,r);return e.isType("undefined",i.ownerNode)?(i=i.ownerNode,n&&setTimeout(function(){n.apply(i,[i])},1)):n&&e.event.add(i,"load",function(e){n.apply(i,[e])}),i},f.isEditable=function(t){var n,r=i(),o=e.isType("undefined",t.ownerNode)?t.ownerNode:t;for(n=0;n<r.length;++n)if(r[n].ownerNode===o)return!0;return!1},f.add=function(t,i,a,c){var d,p,h,g="";if(e.isType("object",t)&&"nodeType"in t&&(t=f.selector(t,c)||f.selector(t)),e.isType("string",i)&&(i=s(i)),!e.isType("object",i))return!1;if((!a||e.isType("string",a))&&(a=o(a||"last")),a instanceof Array)if(1===a.length)a=a[0];else{if(!(a.length<=0)){for(g=!0,p=0;p<a.length;++p)g=g&&f.add(t,i,a[p]);return g}a=u().sheet}d=f.find(t,a);for(p in i)p in d&&l(d[p])===l(i[p])||(h=r(p),h&&(g+=(""!==g?";":"")+n(h)+":"+i[p]));return a.addRule?a.addRule(t,g):a.insertRule?a.insertRule(t+"{"+g+"}",a.cssRules.length):!1},f.find=function(t,n){var r,i,a,u={};for(t&&(t=c(t)),n?n instanceof Array||(n=[n]):n=o(),i=0;i<n.length;++i)if(r=e.type(n[i].cssRules)?n[i].cssRules:n[i].rules,r&&r.length)for(a=0;a<r.length;++a)"selectorText"in r[a]&&(!t||c(r[a].selectorText)===t)&&(u=e.combine(u,s(r[a].style.cssText)));return u},f.get=function(e,i,o){var a;return i=r(i),i&&(window.getComputedStyle?a=document.defaultView.getComputedStyle(e,o||null).getPropertyValue(n(i)):e.currentStyle&&(a=e.currentStyle(t(i)))),a},f.property=r,f.specificity=function(t){var n,r=[0,0,0,0],i=e.string.trim(t.replace(/([#\.\:\[]+)/g," $1")).split(/[^a-z0-9\.\[\]'":\*\.#=_-]+/);for(n=0;n<i.length;++n)++r[/^#/.test(i[n])?1:/^(?:\.|\[|:[^:])/.test(i[n])?2:3];return r.join(".")}}function f(){function t(e){var t,n,r,i,o,a=e?e.match(f):!1;if(a){for(n=parseInt(a[1],10),r=parseInt(a[2],10),i=a[3],e="",o=0;n>o;++o){if(t=l.getItem(i+o),null===t)return!1;e+=t}if(!e||e.length!==r)return!1}return e}function n(e,t){var n,r="__"+e,i=Math.ceil(t.length/c);for(n=0;i>n;++n)l.setItem(r+n,t.substring(n*c,Math.min((n+1)*c,t.length)));l.setItem(e,"[fragment:"+i+","+t.length+","+r+"]")}function r(e){var t,n=parseInt(e[1],10),r=e[3];for(t=0;n>t;++t)u(r+t)}function i(){var e,t,n=null;if(l)for(n={},e=0;e<l.length;++e)t=l.key(e),n[t]=o(t);return n}function o(n){var r=l?l.getItem(n):!1;return r&&r.match(f)&&(r=t(r)),r&&r.match(/^[a-z0-9]+:.*$/i)&&(r=/([a-z0-9]+):(.*)/i.exec(r),r.length>2&&r[1]===e.string.checksum(r[2]))?JSON.parse(r[2]):r?r:!1}function a(t,r){return r=JSON.stringify(r),r=e.string.checksum(r)+":"+r,l?r.length>c?n(t,r):l.setItem(t,r):!1}function u(e){var t,n;return l?(t=l.getItem(e),t&&(n=t.match(f))&&r(n),l.removeItem(e)):!1}var s=this,c=2048,l=e.isType("undefined",window.localStorage)?window.localStorage:!1,f=/^\[fragment:([0-9]+),([0-9]+),([a-z0-9_]+)\]$/;s.get=function(e){return e?o(e):i()},s.set=a,s.remove=u,s.length=function(){return l?l.length:!1},s.keys=function(){var e,t=i(),n=[];for(e in t)n.push(e);return n},s.flush=function(){var e,t=s.keys();for(e=0;e<t.length;++e)u(t[e])},s.size=function(){return decodeURI(encodeURIComponent(JSON.stringify(localStorage))).length}}function d(){function t(t,n,r){"use strict";var o=this;o.type=t,o.reference=r,o.timeStamp=e.time(),o.timeDelta=e.elapsed(),o.unsubscribe=function(){return i(t,n)},o.stop=function(){l[r]=!1}}function n(e){"undefined"==typeof c[e]&&(c[e]=[])}function r(e,t){return n(e),c[e].push(t)}function i(e,t){var n;for(n=0;n<c[e].length;++n)c[e][n]===t&&(c[e][n]=!1)}function o(e,t){var r,i=[],o=[];for(n(e),r=0;r<c[e].length;++r)(c[e][r]&&c[e][r]!==t?o:i).push(c[e][r]);return c[e]=o,i}function a(t){var n=!1;return e.isType("undefined",c[t])&&(n=c[t],delete c[t]),n}function u(n){for(var r,i,o=e.array.cast(arguments),a=e.unique(),u=n.split("."),s=!1;u.length>=0;){if(l[a]=!0,r=u.join(".")+(s?(u.length?".":"")+"*":""),s=!0,"undefined"!=typeof c[r])for(i=0;i<c[r].length&&l[a];++i)c[r][i]&&(o[0]=new t(n,c[r][i],a),c[r][i].apply(c[r][i],o));if(!u.pop())break}delete l[a]}var s=this,c={},l={};s.subscribe=function(e,t,n){var i,o=e.split(/[\s,]+/),a=!0;for(i=0;i<o.length;++i)a=(r(o[i],t)?!0:!1)&&a;return n&&n.apply(s,[a]),s},s.unsubscribe=function(e,t,n){var r,i=e.split(/[\s,]+/),u=[];for(r=0;r<i.length;++r)u=u.concat(t?o(i[r],t):a(i[r]));return n&&n.apply(s,[u]),s},s.notify=function(){var t,n=e.array.cast(arguments),r=n.shift().split(/[\s,]+/);for(t=0;t<r.length;++t)u.apply(s,[r[t]].concat(n))}}function p(){var t=this;t.even=function(e){return e=+e,(0|e)===e&&e%2===0},t.odd=function(e){return e=+e,(0|e)===e&&!t.even(e)},t.between=function(e,t,n){return e=+e,t=+t,n=+n,e>=Math.min(t,n)&&e<=Math.max(t,n)},t.format=function(t,n,r,i){var o=n?Math.pow(10,n):0;return r=e.isType("undefined",r)?".":r,i=!e.isType("undefined",i)||arguments.length<3?i:",",t=+(""+t).replace(/[,\.]+/,"."),t=o>0?Math.round(t*o)/o:t,t=(""+(isFinite(t)?+t:0)).split("."),t[0].length>3&&i&&""!==i&&(t[0]=e.string.chunk(t[0],3,e.string.CHUNK_END).join(i)),t[0]+(n>0?r+e.string.pad(t[1]||"",n,"0",e.string.PAD_RIGHT):"")}}function h(){function t(){"use strict";var n=this,r={};n.append=function(t,i){return e.isType("object",i)&&(r[t]=i),n},n.serialize=function(){var e,t=[];for(e in r)t.push(e+"="+encodeURIComponent(r[e]));return t.join("&")},t.toString=function(){return n.serialize()}}function n(t){return f||(f={"X-Konflux":"konflux/"+e.string.ascii(e.version())}),e.url.isLocal(t)?f:{}}function r(){var t=new XMLHttpRequest;return t.__kxref=e.unique(),t}function i(t){var i,a="url"in t?t.url:e.url?e.url.path:null,s="type"in t?t.type.toUpperCase():"GET",c="data"in t?u(t.data):"",l="async"in t?t.async:!0,f="header"in t?combine(t.header,n(a)):n(a),d=r();if(/^(POST|PUT)$/.test(s)||(a+="data"in t&&""!==t.data?"?"+("string"==typeof t.data?t.data:c):"",c=null),d.onload=o(d,t,s),"progress"in t&&e.isType("function",t.progress)&&e.event.add(d.upload,"progress",t.progress),"error"in t&&e.isType("function",t.error)&&e.event.add(d,"error",t.error),"abort"in t&&e.isType("function",t.abort)&&e.event.add(d,"abort",t.abort),d.open(s,a,l),f)for(i in f)d.setRequestHeader(i,f[i]);return d.send(c),d}function o(t,n,r){return function(){var i=Math.floor(.01*this.status),o=!1;++l[r],2===i&&"success"in n?(o="success",n.success.apply(this,a(this))):i>=4&&"error"in n&&(o="error",n.error.apply(this,a(this))),"complete"in n&&(o=o?o:"complete",n.complete.apply(this,[this.status,this.statusText,this])),o&&e.observer.notify("konflux.ajax."+r.toLowerCase()+"."+o,t,n)}}function a(e){var t,n=e.getResponseHeader("content-type"),r=[e.status,e.responseText,e];switch(n&&(t=n.match(/([^;]+)/))&&(n=t[1]),n){case"application/json":r[1]=JSON.parse(r[1])}return r}function u(n,r,i){var o,a=i||("undefined"!=typeof FormData?new FormData:new t);if("undefined"!=typeof File&&n instanceof File)a.append(r,n,n.name);else if("undefined"!=typeof Blob&&n instanceof Blob)a.append(r,n,"blob");else if(n instanceof Array||"undefined"!==FileList&&n instanceof FileList)for(o=0;o<n.length;++o)u(n[o],(r||"")+"["+o+"]",a);else if(e.isType("object",n))for(o in n)u(n[o],r?r+"["+encodeURIComponent(o)+"]":encodeURIComponent(o),a);else a.append(r,n);return a}function s(t){var n=function(n){switch(e.type(n)){case"object":n.type=t;break;case"string":n={url:n,type:t};break;default:n={type:t}}return i(n)};return l[t.toUpperCase()]=0,e.observer.subscribe("konflux.ajax."+t.toLowerCase(),function(e,t){n(t)}),n}var c=this,l={},f=!1;c.request=i,c.get=s("GET"),c.post=s("POST"),c.put=s("PUT"),c.del=s("DELETE"),c.purge=s("PURGE")}e.register("url",new t),e.register("timing",new n),e.register("array",new r),e.register("string",new i),e.register("point",function(e,t){return new o(e,t)}),e.register("iterator",function(e){return e instanceof a?e:new a(e)}),function(t){e.register("dom",t),e.register("select",function(e,n){return t.select(e,n)})}(new u),e.register("browser",new s),e.register("event",new c),e.register("ready",function(t){return"event"in e?e.event.ready(t):!1}),e.register("style",new l),e.register("storage",new f),e.register("observer",new d),e.register("number",new p),e.register("ajax",new h)});
//# sourceMappingURL=konflux.min.js.map
