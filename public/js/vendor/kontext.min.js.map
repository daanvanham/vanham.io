{"version":3,"sources":["kontext.js"],"names":["n","e","forEach","t","Object","keys","r","RegExp","arguments","length","this","combine","setTimeout","shift","apply","add","push","type","handle","invoke","remove","filter","list","trigger","o","i","map","Array","MutationObserver","webkitMutationObserver","observer","config","characterData","characterDataOldValue","monitor","target","nodeValue","observe","addEventListener","newValue","nodeType","document","createTreeWalker","NodeFilter","SHOW_TEXT","nextNode","match","index","splitText","u","node","key","initial","original","concat","placeholders","s","indexOf","l","d","noquote","test","trailer","substr","escape","join","a","c","lastIndexOf","prototype","__instance","f","prepare","replace","parse","JSON","hasAttribute","querySelectorAll","find","getAttribute","w","_","rAF","requestAnimationFrame","greedy","attribute","pattern","O","k","slice","call","enumerable","writable","value","get","set","defineProperty","console","error","on","p","h","m","v","g","y","model","emission","element","scope","x","split","getOwnPropertyDescriptor","b","parentNode","defaults","ready","off","extension","delegate","bind","pop","body","bindings","kontext","window","setAttribute","removeAttribute","classList","className","Error","item","cloneNode","nodes","$index","$item","$parent","lastChild","removeChild","appendChild","firstChild","delegation","innerHTML","nodeName","multiple","label","options","Option","selected","splice","selectedIndex","createTextNode","insertBefore"],"mappings":"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","file":"kontext.min.js","sourcesContent":["!function(n){\"use strict\";function e(){function n(){[\"_\",\"public\"].forEach(t)}function e(n,t){return Object.keys(t).forEach(function(r){\"object\"==typeof t[r]&&t[r]?n[r]=e(\"object\"==typeof n[r]?n[r]:t[r]instanceof RegExp?t[r]:{},t[r]):n[r]=t[r]}),n}function t(n){var t={};r[n]=function(n,r){return\"string\"==typeof n?(arguments.length>1&&(t[n]=r),t[n]):(\"object\"==typeof n&&e(t,n),t)}}var r=this;r.combine=function(n){return e(e({},r[\"public\"]()),n||{})},n()}function t(){function n(e,t,r){setTimeout(function(){return e.length&&e.shift().apply(null,t)!==!1?n(e,t,r):void r()},0)}var e=this,t=[];e.add=function(n,e,r){return t.push({type:n,handle:e,invoke:r||1/0}),e},e.remove=function(n,e){var r=[];return t=t.filter(function(t){return n&&t.type!==n||e&&t.handle!==e?!0:(r.push(t.handle),!1)}),r},e.list=function(n){return t.filter(function(e){return!n||\"*\"===n||e.type===n})},e.trigger=function(t,r,o){var i=e.list(t).map(function(n){return--n.invoke<=0&&e.remove(t,n.handle),n.invoke>=0?n.handle:!1}).filter(function(n){return\"function\"==typeof n});arguments.length<3&&\"function\"==typeof arguments[arguments.length-1]&&(o=r,r=[]),n(i,r instanceof Array?r:[r],function(){o&&o()})}}function r(){function e(){var e=n.MutationObserver||n.webkitMutationObserver||!1;e&&(o={observer:e,config:{characterData:!0,characterDataOldValue:!0}})}function t(n,e){var t=typeof n;switch(t){case\"boolean\":return!!e;case\"number\":return+e}return e}function r(n,e){var r=n(),o=t(r,e);o!==r&&n(o)}var o,i=this;i.monitor=function(n,e){o?new o.observer(function(n){n.forEach(function(n){r(e,n.target.nodeValue)})}).observe(n,o.config):n.addEventListener&&n.addEventListener(\"DOMCharacterDataModified\",function(n){r(e,n.newValue)})},e()}function o(n){function e(n){var e,t,r=[];if(3===n.nodeType)r.push(n);else for(e=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null,!1);t=e.nextNode();)r.push(t);return r}function t(e){var r=e.nodeValue.match(n),o=r?0===r.index?e:e.splitText(r.index):null,i=r?o.splitText(r[0].length):null,u=[];return o&&(u.push({node:o,key:r[2],initial:r[3]||\"\"}),o.original=o.nodeValue),i&&(u=u.concat(t(i))),u}function r(n){var r=[];return e(n).forEach(function(n){r=r.concat(t(n))}),r}var o=this;o.placeholders=function(n,e){r(n).forEach(function(n){e.apply(null,[n.node,n.key,n.initial])})}}function i(){function n(){function e(n){return s.indexOf(n)>=0}function t(n,t){var r=l;return t||!e(n)&&!d.noquote.test(n)||(r=\"\"),r+n+r}function r(n){return d.trailer.test(n)?r(n.substr(0,n.length-1)):n}function o(n,e){for(var r,o=[];e.length;)if(r=e.shift(),\"\\\\\"!==r[r.length-1]){if(r===n)break;o.push(r)}else d.escape.test(e[0])||(r=r.substr(0,r.length-1)),o.push(r),o.push(e.shift());return t(o.join(\"\"))}function i(n){for(var e=\"\";n.length;)e=u(e,n);return e}function u(n,e){var i=e.shift();switch(i){case\" \":break;case\"}\":case\"]\":n=r(n)+i;break;case'\"':case\"'\":n+=o(i,e);break;default:n+=t(i,\":\"===e[0])}return n}function a(n){var t,r=[];for(t=0;t<n.length;++t)0===r.length||e(n[t])||e(r[r.length-1])?r.push(n[t]):r[r.length-1]+=n[t];return r}function c(n,e){var t=\":\"===e?\"{}\":\"[]\",o=n.indexOf(e),i=2===(n.match(/\"/g)||[]).length&&n.indexOf('\"')<o&&n.lastIndexOf('\"')>o;return i||n[0]===t[0]?n:t[0]+r(n)+t[1]}if(\"undefined\"!=typeof n.prototype.__instance||!(this instanceof n))return n.prototype.__instance||new n;n.prototype.__instance=this;var f=this,s=\"'\\\":,{}[] \",l='\"',d={escape:/[\"\\\\\\/\\b\\f\\n\\r\\t]/,noquote:/^(?:true|false|null|-?[0-9]+(?:\\.[0-9]+)?)$/i,trailer:/[,]+$/};f.prepare=function(n){return\"string\"!=typeof n?\"\":i(a(n)).replace(/^.*?([:,]).*$/,c)},f.parse=function(n){var e=f.prepare(n);return e?JSON.parse(e):null}}function e(){r=new n}function t(n,e){var t,r,o=[];switch(e.nodeType){case 1:e.hasAttribute(n)&&o.push(e);case 9:case 11:for(t=e.querySelectorAll(\"[\"+n+\"]\"),r=0;r<t.length;++r)o.push(t[r])}return o}var r,o=this;o.find=function(n,e,o){t(n,e).forEach(function(e){o(e,r.parse(e.getAttribute(n)))})},e()}function u(){function u(){return a()?(w._({rAF:n.requestAnimationFrame||function(n){setTimeout(n,1e3/60)}}),w[\"public\"]({greedy:!0,attribute:\"data-kontext\",pattern:/(\\{(\\$?[a-z0-9_-]+)(?::([^\\}]+))?\\})/i}),O.add(\"ready\",function(n){w._(\"ready\",n||!0)},1),void document.addEventListener(\"DOMContentLoaded\",function(){O.trigger(\"ready\",[void 0,k])},!1)):setTimeout(function(){O.trigger(\"ready\",[\"Unsupported browser\"])},0)}function a(){var n=!0;return n=n&&\"addEventListener\"in document,n=n&&\"defineProperties\"in Object,n=n&&\"getOwnPropertyDescriptor\"in Object}function c(n,e){Object.keys(n).forEach(function(t,r){e(t,n[t],r)})}function f(n){return Array.prototype.slice.call(n)}function s(n,e,t,r,o){var i={enumerable:t};\"boolean\"==typeof o?(i.writable=o,i.value=r):(i.get=r,i.set=o),Object.defineProperty(n,e,i)}function l(n,e){var t=w._(\"extension\")||{};return e&&(t[n]=e,w._(\"extension\",t)),n in t?t[n]:function(){console.error('Kontext: Unknown extension \"'+n+'\"')}}function d(n){var e=new t;return s(n,\"on\",!0,e.add,!1),s(n,\"off\",!0,e.remove,!1),\"object\"==typeof n&&n.on(\"update\",function(){O.trigger(\"update\",f(arguments))}),e}function p(n,e){var t=\"\"+e();n.filter(function(n){return t!==n.nodeValue}).forEach(function(n){n.nodeValue=t})}function h(n){var e;return\"on\"in n&&\"off\"in n||(c(n,function(t,r){var o;m(n,t)||(o=v(r,n,t),s(n,t,!0,o,o),o.on(\"update\",function(){e.trigger(\"update\",[n,t,r,n[t]])})),!r||\"object\"!=typeof r||r instanceof Array||(h(r),r.on(\"update\",function(r,o,i,u){e.trigger(\"update\",[n,t+\".\"+o,i,u])}))}),e=d(n),s(n,\"delegation\",!0,function(e){return m(n,e)},!1)),n}function g(n,e){var t=Array.prototype,r=/^[0-9]+$/;c(n,function(e,o){var i;r.test(e)||e in t||y(o)||(i=v(o,n,e),s(n,e,!0,i,i))}),n.forEach(function(t,r){\"object\"==typeof n[r]&&(n[r]=h(t,e.model,e.key),n[r].on(\"update\",function(){e.emission.trigger(\"update\",[e.model,e.key,e.value])}))})}function v(n,e,t){var r=function(n){var e=arguments.length>0;return e&&(o.value=n),o.emission.trigger(e?\"update\":\"access\",[o.model,o.key,o.value,n]),o.value},o={emission:d(r),element:[],value:n,model:e,key:t};return n instanceof Array&&([\"copyWithin\",\"fill\",\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"].forEach(function(e){var t;\"function\"==typeof n[e]&&(t=n[e],n[e]=function(){var e=t.apply(n,arguments);return g(n,o),o.emission.trigger(\"update\",[o.model,o.key,o.value]),e})}),g(n,o)),r.scope=function(){!e&&arguments.length>0&&(e=arguments[0]),!t&&arguments.length>1&&(t=arguments[1])},r.element=function(){var n=f(arguments);return n.forEach(function(n){x.monitor(n,r)}),p(n,r),o.element=o.element.concat(n),o.element},o.emission.add(\"update\",function(){w._(\"rAF\")(function(){p(o.element,r)})}),r}function y(n){return\"function\"==typeof n&&\"function\"==typeof n.element}function m(n,e){var t,r=!1,o=e.split(\".\");return o.forEach(function(t,r,o){e=t,r<o.length-1&&(n=n[e])}),e in n&&(y(n[e])?r=n[e]:(t=Object.getOwnPropertyDescriptor(n,e),r=t.get)),r}function b(n,e){var t,r=w._(\"bindings\")||[];if(!e){for(t=[n];t[t.length-1].parentNode;)t.push(t[t.length-1].parentNode);return r.filter(function(n){return t.indexOf(n.target)>=0}).map(function(n){return n.model}).filter(function(n,e,t){return e===t.indexOf(n)})}r.push({model:e,target:n}),w._(\"bindings\",r)}var k=this,w=new e,O=new t,x=new r;k.defaults=function(n,e){return n&&w[\"public\"](n,e),w[\"public\"]()},k.ready=function(n){var e=w._(\"ready\");return O.add(\"ready\",n,1),void 0!==e&&O.trigger(\"ready\",[e!==!0?e:void 0,e===!0?k:void 0]),k},k.on=function(n,e){return O.add(n,e)},k.off=function(n,e){return O.remove(n,e)},k.extension=l,k.delegate=function(n){return v(n)},k.bind=function(){var n=f(arguments),e=h(n.shift()),t=n.length?n.pop():{};return\"nodeType\"in t&&(n.push(t),t={}),t=w.combine(t),n.length<=0&&n.push(document.body),n.forEach(function(n){b(n,e),(new i).find(t.attribute,n,function(n,t){c(t,function(t,r){var o=l(t);o(n,e,r,k)})}),new o(t.pattern).placeholders(n,function(n,r,o){var i=m(e,r);i?(i.scope(e,r),i()||i(o)):t.greedy&&(i=v(o,e,r),s(e,r,!0,i,i)),i&&i.element(n)})}),e},k.bindings=function(n){return b(n||document.body)},u()}n.kontext=n.kontext||new u}(window);\nkontext.extension(\"attribute\",function(t,e,n){\"use strict\";function i(n,i){e[i]?t.setAttribute(n,e[i]):t.hasAttribute(n)&&t.removeAttribute(n)}var o=Object.keys(n);e.on(\"update\",function(t,e){o.forEach(function(t){n[t]===e&&i(t,e)})}),o.forEach(function(t){i(t,n[t])})});\nkontext.extension(\"css\",function(n,s,c){\"use strict\";function e(c,e){var t=!!s[e];\"classList\"in n?n.classList[t?\"add\":\"remove\"](c):n.className=n.className.replace(new RegExp(\"(?:^|\\\\s+)\"+e+\"(\\\\s+|$)\"),function(n,s){return s||\"\"})+(t?\" \"+c:\"\")}var t=Object.keys(c);s.on(\"update\",function(n,s){t.forEach(function(n){c[n]===s&&e(n,s)})}),t.forEach(function(n){e(n,c[n])})});\nkontext.extension(\"each\",function(n,t,e){\"use strict\";function o(n){var o;return[\"map\",\"filter\"].forEach(function(i){i in e&&(o=e[i]instanceof Array?e[i]:[e[i]],o.forEach(function(e){if(\"function\"==typeof t[e])n=n[i](t[e]);else{if(\"function\"!=typeof window[e])throw new Error(e+\" is not a \"+i+\" function\");n=n[i](window[e])}}))}),n}function i(n){var t=d.filter(function(t){return t.item===n});return t.length?t[0]:null}function r(n){var o,r=i(n);return r||(o=a.map(function(n){return n.cloneNode(!0)}),r={item:n,model:kontext.bind.apply(kontext,[\"object\"==typeof n?n:{}].concat(o)),nodes:o},r.model.$index=null,r.model.$item=n,r.model.$parent=t[e],d.push(r)),r}function f(n,t){return n.length!==t.length||0!==n.filter(function(n,e){return t[e]!==n}).length}function c(){var i,c=[],a=t[l],d=!1;if(\"object\"==typeof e&&(a=o(a),i=!0),(!u||f(u,a))&&(u=a.slice(),d=!0),d||i){for(a.forEach(function(n,t){var e=r(n);e.model.$index=t,c=c.concat(e.nodes)});n.lastChild;)n.removeChild(n.lastChild);c.forEach(function(t){n.appendChild(t)})}}var l,u,a=[],d=[];if(\"object\"==typeof e){if(l=e.target||!1,!l)throw new Error('Missing target for \"each\"')}else l=e;for(;n.firstChild;)a.push(n.removeChild(n.firstChild).cloneNode(!0));t.on(\"update\",function(n,t){t===l&&c()}),c()});\nkontext.extension(\"event\",function(n,t,e){\"use strict\";function o(e,o,c){n.addEventListener(e,function(n){var e=t.delegation(o),i=e?e():!1;e&&(\"function\"==typeof i?i.apply(null,[n,t,o,c]):e(c))},!1)}function c(n,t){\"object\"==typeof t?(t instanceof Array?t:Object.keys(t)).forEach(function(e){o(n,e,e in t?t[e]:void 0)}):o(n,t)}Object.keys(e).forEach(function(n){c(n,e[n])})});\nkontext.extension(\"html\",function(n,t,e){\"use strict\";t.delegation(e).on(\"update\",function(t){n.innerHTML=t[e]}),n.innerHTML=t[e]});\nkontext.extension(\"input\",function(e,t,n){\"use strict\";function o(e){return e.hasAttribute(\"type\")?e.getAttribute(\"type\"):u.test(e.nodeName)?\"select-\"+(e.multiple?\"multiple\":\"one\"):\"text\"}function i(t){return t in c||(c[t]={model:function(){s(e[t])},element:function(n,o){e[t]=n[o]}}),c[t]}function l(){var o=\"default\"in n?{value:null,label:n[\"default\"]}:!1,i=function(){var i,l=0;\"options\"in n&&(i=t.delegation(n.options))&&(i=i(),o&&(e.options[l]=new Option(o.label,o.value),++l),e.options.length=l,\"object\"==typeof i&&(i instanceof Array?i.forEach(function(t,n){\"object\"==typeof t?e.options[n+l]=new Option(t.label||t.value||\"\",t.value||\"\"):e.options[n+l]=new Option(t)}):Object.keys(i).forEach(function(t,n){e.options[n+l]=new Option(i[t],t)})))},l=function(t){var n;for(n=0;n<e.options.length;++n)t instanceof Array?e.options[n].selected=t.indexOf(e.options[n].value)>=0:e.options[n].selected=e.options[n].value===t},a=\"options\"in n?t.delegation(n.options):!1,s=\"value\"in n?t.delegation(n.value):!1,u=s?s():null;s&&(u instanceof Array?e.setAttribute(\"multiple\",\"\"):e.removeAttribute(\"multiple\"),e.addEventListener(\"change\",function(){var o,i;if(e.options.length)if(u instanceof Array)for(o=0;o<e.options.length;++o)e.options[o].selected&&t[n.value].indexOf(e.options[o].value)<0?t[n.value].push(e.options[o].value):!e.options[o].selected&&(i=t[n.value].indexOf(e[o].value))>=0&&t[n.value].splice(i,1);else s(e.options[e.selectedIndex].value)},!1),s.on(\"update\",function(e,t){l(e[t])})),(a||s)&&(i(),l(u))}var a,s,u=/^select/i,c={};switch(o(e)){case\"checkbox\":case\"radio\":a=\"checked\";break;case\"select\":case\"select-one\":case\"select-multiple\":l();break;default:a=\"value\"}a&&(s=t.delegation(n[a]),s&&(e.addEventListener(\"input\",i(a).model,!1),e.addEventListener(\"change\",i(a).model,!1),s.on(\"update\",i(a).element),e[a]=s()))});\nkontext.extension(\"attribute\",function(t,e,n){\"use strict\";function i(n,i){e[i]?t.setAttribute(n,e[i]):t.hasAttribute(n)&&t.removeAttribute(n)}var o=Object.keys(n);e.on(\"update\",function(t,e){o.forEach(function(t){n[t]===e&&i(t,e)})}),o.forEach(function(t){i(t,n[t])})});\nkontext.extension(\"each\",function(n,t,e){\"use strict\";function o(n){var o;return[\"map\",\"filter\"].forEach(function(i){i in e&&(o=e[i]instanceof Array?e[i]:[e[i]],o.forEach(function(e){if(\"function\"==typeof t[e])n=n[i](t[e]);else{if(\"function\"!=typeof window[e])throw new Error(e+\" is not a \"+i+\" function\");n=n[i](window[e])}}))}),n}function i(n){var t=d.filter(function(t){return t.item===n});return t.length?t[0]:null}function r(n){var o,r=i(n);return r||(o=a.map(function(n){return n.cloneNode(!0)}),r={item:n,model:kontext.bind.apply(kontext,[\"object\"==typeof n?n:{}].concat(o)),nodes:o},r.model.$index=null,r.model.$item=n,r.model.$parent=t[e],d.push(r)),r}function f(n,t){return n.length!==t.length||0!==n.filter(function(n,e){return t[e]!==n}).length}function c(){var i,c=[],a=t[l],d=!1;if(\"object\"==typeof e&&(a=o(a),i=!0),(!u||f(u,a))&&(u=a.slice(),d=!0),d||i){for(a.forEach(function(n,t){var e=r(n);e.model.$index=t,c=c.concat(e.nodes)});n.lastChild;)n.removeChild(n.lastChild);c.forEach(function(t){n.appendChild(t)})}}var l,u,a=[],d=[];if(\"object\"==typeof e){if(l=e.target||!1,!l)throw new Error('Missing target for \"each\"')}else l=e;for(;n.firstChild;)a.push(n.removeChild(n.firstChild).cloneNode(!0));t.on(\"update\",function(n,t){t===l&&c()}),c()});\nkontext.extension(\"each\",function(n,t,e){\"use strict\";function o(n){var o;return[\"map\",\"filter\"].forEach(function(i){i in e&&(o=e[i]instanceof Array?e[i]:[e[i]],o.forEach(function(e){if(\"function\"==typeof t[e])n=n[i](t[e]);else{if(\"function\"!=typeof window[e])throw new Error(e+\" is not a \"+i+\" function\");n=n[i](window[e])}}))}),n}function i(n){var t=d.filter(function(t){return t.item===n});return t.length?t[0]:null}function r(n){var o,r=i(n);return r||(o=a.map(function(n){return n.cloneNode(!0)}),r={item:n,model:kontext.bind.apply(kontext,[\"object\"==typeof n?n:{}].concat(o)),nodes:o},r.model.$index=null,r.model.$item=n,r.model.$parent=t[e],d.push(r)),r}function f(n,t){return n.length!==t.length||0!==n.filter(function(n,e){return t[e]!==n}).length}function c(){var i,c=[],a=t[l],d=!1;if(\"object\"==typeof e&&(a=o(a),i=!0),(!u||f(u,a))&&(u=a.slice(),d=!0),d||i){for(a.forEach(function(n,t){var e=r(n);e.model.$index=t,c=c.concat(e.nodes)});n.lastChild;)n.removeChild(n.lastChild);c.forEach(function(t){n.appendChild(t)})}}var l,u,a=[],d=[];if(\"object\"==typeof e){if(l=e.target||!1,!l)throw new Error('Missing target for \"each\"')}else l=e;for(;n.firstChild;)a.push(n.removeChild(n.firstChild).cloneNode(!0));t.on(\"update\",function(n,t){t===l&&c()}),c()});\nkontext.extension(\"text\",function(e,t,i){\"use strict\";var n=e.firstChild&&3===e.firstChild.nodeType?e.firstChild:document.createTextNode(t[i]),r=t.delegation(i);r&&(n.parentNode!==e&&n!==e.firstChild&&e.insertBefore(n,e.firstChild),r.element(n))});\n"],"sourceRoot":"/source/"}